{"pageProps":{"id":"so-why-server-components","title":"【译】so, why server components / server components有啥好？","date":"2023-07-04","htmlText":"<html><head></head><body><p>译者：Server components是个有趣的概念，目前React将其作为未来发展的重点方向，且Next13也将其作为App Router的默认的方案，所以了解一下还是很有必要的。但它又是个很容易混淆的概念，比如我一开始以为这只是SSR换了个皮？后来则发现完全不是！</p>\n<p>本篇译文会从传统的React Client Components讲起，从它的局限引申出Server components所要解决的问题，让你对Server components的原理与优势有一个清晰的认知。</p>\n<p>下面开始正文，原文地址：<a href=\"https://blog.jankoritak.com/so-why-server-components\" target=\"_blank\" rel=\"nofollow\">So, why Server Components</a>。（请务必看到最后，我还会做一些补充。）</p>\n<hr>\n<h2 id=\"为什么我们需要server-components\">为什么我们需要Server Components</h2>\n<p>好了，接下来我会聊聊把组件放到服务端会发生什么——</p>\n<p>（举手🙋）呃呃请等下，是原来的组件不够好吗？为啥要提出这种大胆的想法？</p>\n<p>嘛嘛，冷静，事实上客户端组件非常适合用于实现<strong>动态内容，或者强交互内容</strong>。但正所谓人无完人，传统的客户端组件也有其局限。</p>\n<h2 id=\"客户端组件的局限\">客户端组件的局限</h2>\n<h3 id=\"1-过长的ttltime-to-interactive页面从展示到其可交互所花的时间\">1. 过长的TTL（Time to Interactive/页面从展示到其可交互所花的时间）</h3>\n<p>让我们来复习一下客户端渲染配合SSR是如何工作的。</p>\n<ol>\n<li>客户端向服务端请求页面。</li>\n<li>服务端打包JS，并生成一个HTML。</li>\n<li>服务端将JS包与HTML返回给客户端。</li>\n<li>客户端渲染HTML。</li>\n<li>客户端加载、解析、执行JS。</li>\n<li>客户端进行hydrate，页面变得可以交互。</li>\n</ol>\n<p><img src=\"https://s2.loli.net/2023/06/27/rOHMkt6G8xZg7yq.png\" alt=\"image.png\"></p>\n<p>红色的横线即TTL所需要的时间。显然，JS包越大，客户端就要花更多的时间去加载、解析、执行它。</p>\n<h3 id=\"2-依赖越多js越臃肿\">2. 依赖越多，JS越臃肿</h3>\n<p>显然，依赖越多，那JS包就会越大，客户端就要花更多的时间去处理它。让我们看看代码；</p>\n<p>这段代码来自<a href=\"https://github.com/reactjs/server-components-demo/\" target=\"_blank\" rel=\"nofollow\">React Server Component demo Notes app</a>：</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token punctuation\">{</span>format<span class=\"token punctuation\">,</span> isToday<span class=\"token punctuation\">}</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'date-fns'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">excerpts</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'excerpts'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">marked</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'marked'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token maybe-class-name\">ClientSidebarNote</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'./SidebarNote.client'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\"><span class=\"token maybe-class-name\">SidebarNote</span></span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> updatedAt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span><span class=\"token property-access\">updated_at</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> lastUpdatedAt <span class=\"token operator\">=</span> <span class=\"token function\">isToday</span><span class=\"token punctuation\">(</span>updatedAt<span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">?</span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span>updatedAt<span class=\"token punctuation\">,</span> <span class=\"token string\">'h:mm bb'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">:</span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span>updatedAt<span class=\"token punctuation\">,</span> <span class=\"token string\">'M/d/yy'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> summary <span class=\"token operator\">=</span> <span class=\"token function\">excerpts</span><span class=\"token punctuation\">(</span><span class=\"token function\">marked</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span><span class=\"token property-access\">body</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">words</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword control-flow\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">ClientSidebarNote</span></span>\n      <span class=\"token attr-name\">id</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span><span class=\"token property-access\">id</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">title</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span><span class=\"token property-access\">title</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">expandedChildren</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sidebar-note-excerpt<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>summary <span class=\"token operator\">||</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>i</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">(No content)</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>i</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>header</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sidebar-note-header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>strong</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span><span class=\"token property-access\">title</span><span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>strong</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>small</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>lastUpdatedAt<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>small</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>header</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span><span class=\"token class-name\">ClientSidebarNote</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>这个组件主要就是处理了日期以及markdown的显示。</p>\n<p>我们可以看到，组件用了三个依赖来实现这些功能：<code>date-fns</code>，<code>excerpts</code>和<code>marked</code>。它们的大小是gzip压缩过后80KB。由于客户端组件引入了各种类似的依赖，你的JS包肯定会越来越大。</p>\n<p><img src=\"https://s2.loli.net/2023/06/27/U7NTAP4vg9tWxlC.png\" alt=\"image.png\"></p>\n<h3 id=\"3-陷入请求瀑布\">3. 陷入请求瀑布</h3>\n<p>以上两点可能给你这样一种错觉：如果JS执行了，那我的页面应该是正常的，有意义的。</p>\n<p>但事实上，经常有这种情况，JS执行了，结果用户看到的还是这样的页面：</p>\n<p><img src=\"https://s2.loli.net/2023/06/27/qbvj9nQodC3eL5E.png\" alt=\"image.png\"></p>\n<p>这是咋回事呢？有可能页面是这样的：</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token maybe-class-name\">React</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token maybe-class-name\">Spinner</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'components/Spinner'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token maybe-class-name\">Something</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'components/Something'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\"><span class=\"token maybe-class-name\">ChildComponentA</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Something</span></span> <span class=\"token punctuation\">/></span></span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\"><span class=\"token maybe-class-name\">ChildComponentB</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 4. 结果这里还需要获取dataC</span>\n  <span class=\"token keyword\">const</span> dataC <span class=\"token operator\">=</span> <span class=\"token function\">useDataC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword control-flow\">return</span> dataC\n    <span class=\"token operator\">?</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Something</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token operator\">:</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Spinner</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\"><span class=\"token maybe-class-name\">Root</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> dataA <span class=\"token operator\">=</span> <span class=\"token function\">useDataA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1. 首先获取dataA</span>\n  <span class=\"token keyword\">const</span> dataB <span class=\"token operator\">=</span> <span class=\"token function\">useDataB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">skip</span><span class=\"token operator\">:</span> <span class=\"token operator\">!</span>dataA <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2. dataA存在后，才会获取dataB</span>\n\n  <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>dataA <span class=\"token operator\">||</span> <span class=\"token operator\">!</span>dataB<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Spinner</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 3. 终于有了dataA与dataB，开始渲染东西了</span>\n  <span class=\"token keyword control-flow\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">ChildComponentA</span></span> <span class=\"token attr-name\">data</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>dataB<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Something</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">ChildComponentB</span></span> <span class=\"token attr-name\">data</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>dataB<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>看看上面的代码，我们可以看出这个组件需要串行请求dataA、dataB、dataC。所以这个用户等待的时间真的就是长的没边了，大概是这样的：</p>\n<p><img src=\"https://s2.loli.net/2023/06/27/JIuxXyvbaA9YFg1.png\" alt=\"image.png\"></p>\n<p>很显然这种情形并不理想，因为客户端向同一个服务端发了三个请求，然后进行长长的等待。最耗时的部分其实不是服务端的内部事务处理（数据库通信、微服务调用、访问文件系统之类的），而是<strong>往返客户端与服务端之间的路程</strong>。三次串行请求就等于要在两端往返三次。</p>\n<h3 id=\"4-浏览器只有一个线程\">4. 浏览器只有一个线程</h3>\n<p>众所周知，浏览器的JS是单线程运行的。这也就意味着，我们提到的所有操作都发生并堆积在单个调用栈内。</p>\n<h3 id=\"5-浏览器无法访问服务端api\">5. 浏览器无法访问服务端API</h3>\n<p>显然，浏览器可以访问浏览器API，比如操作DOM节点，调用fetch API，Canvas/WebGL之类的。而服务端可以访问环境变量、文件系统、数据库之类的，而客户端就只能通过接口访问这些数据了。</p>\n<p>当然，我们之所以通过REST/GraphQL接口去访问后端资源，还是为了系统的安全性。但有时候，如果开发者可以对系统多一些控制，开发体验就上来了。比如开发者只能在Next.js的服务端代码中访问环境变量，如果你想要在客户端用到环境变量，Next可以使用<code>NEXT_PUBLIC</code>前缀来解决，但我们仍然需要注意不要将敏感的信息暴露到客户端。</p>\n<p>如果能够在客户端直接访问环境变量，又不用担心各种限制，是不是也挺好？</p>\n<h2 id=\"服务端组件来了\">服务端组件来了！</h2>\n<p>在上面的内容中，我们探讨了React客户端组件的局限。这些局限可以说是客户端环境本身决定的。</p>\n<p>所以让我们重新审视这份列表，看看服务端组件是如何解除这些限制并带来各种可能性。</p>\n<h3 id=\"1-长时间的ttl\">1. 长时间的TTL</h3>\n<p>将组件放在服务端渲染的一大好处就是，组件JS包不再需要传输到客户端了。比如我们有1000个组件，有500个组件放在了服务端，那么最后需要传送到客户端的JS包肯定会小很多。JS包小了，那客户端页面的初始化速度也就快了。</p>\n<p>服务端组件不会被包括在JS包中，它们会在服务端被渲染好，并序列化为React官方定制的字符串格式。于是React@18/Next.js@13就可以通过网络将这些字符串发送到客户端，客户端的React就可以根据这些字符串进行组件树的更新。</p>\n<p>让我们看一个组件更新的实际例子，来自<a href=\"https://github.com/reactjs/server-components-demo/\" target=\"_blank\" rel=\"nofollow\">React Server Components demo Notes application</a>：</p>\n<pre class=\"language-json\"><code class=\"language-json\">M1<span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"./src/SearchField.client.js\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"chunks\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"client5\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">}</span>\nM2<span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"./src/EditButton.client.js\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"chunks\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"client1\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">}</span>\nS3<span class=\"token operator\">:</span><span class=\"token string\">\"react.suspense\"</span>\n<span class=\"token comment\">// J0</span>\nJ0<span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"section\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"col sidebar\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"section\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"logo\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"logo.svg\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"22px\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"20px\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"alt\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"role\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"presentation\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"React Notes\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"section\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-menu\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"role\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"menubar\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@1\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@2\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"noteId\"</span><span class=\"token operator\">:</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"New\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"nav\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"$3\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"fallback\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"ul\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"notes-list skeleton-container\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-list-item skeleton\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-list-item skeleton\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-list-item skeleton\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"@4\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"section\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"null\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"col note-viewer\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"$3\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"fallback\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note skeleton-container\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"role\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"progressbar\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"aria-busy\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"true\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note-title skeleton\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"3rem\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"65%\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"marginInline\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"12px 1em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton skeleton--button\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"8em\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"2.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note-preview\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note--empty-state\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"span\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note-text--empty-state\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Click a note on the left to view something! 🥺\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\">// J0结束</span>\nM5<span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"./src/SidebarNote.client.js\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"chunks\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"client6\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// J4</span>\nJ4<span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"ul\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"notes-list\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Meeting Notes\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"This is an example note. It contains Markdown!\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Meeting Notes\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"12/30/20\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"A note with a very long title because sometimes you need more words\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"You can write all kinds of amazing notes in this app! These note live on the server in the notes...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"A note with a very long title because sometimes you need more words\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"12/30/20\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"3\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"I wrote this note today\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"It was an excellent note.\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"I wrote this note today\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"12/30/20\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"4\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Make a thing\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"It's very easy to make some words bold and other words italic with Markdown. You can even link to React's...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Make a thing\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"12/30/20\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"6\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Test Noteeeeeeeasd\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Test note's text\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Test Noteeeeeeeasd\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"11/29/22\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"7\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"asdasdasd\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"asdasdasd\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"asdasdasd\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"11/29/22\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\">// J4结束</span>\n\n</code></pre>\n<p>这一大坨简直没法看是不是！事实上这份类似JSON的文本就可以指导客户端的React去更新应用状态，让我们来仔细看看。</p>\n<p>首先看看比较短的两行：</p>\n<pre class=\"language-json\"><code class=\"language-json\">M1<span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"./src/SearchField.client.js\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"chunks\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"client5\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">}</span>\nM2<span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"./src/EditButton.client.js\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"chunks\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"client1\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">}</span>\nM5<span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"./src/SidebarNote.client.js\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"chunks\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"client6\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">}</span>\n</code></pre>\n<p>第一行（M1）其实就是指导React运行时渲染<code>SearchField</code>组件，而这个组件位于叫做<code>client5</code>的文件中。换句话来说，它指向了客户端组件位于JS包中的位置。既然这是个客户端组件，此时它还尚未渲染。</p>\n<p>React Suspense边界是这样定义的，很直接：</p>\n<pre class=\"language-json\"><code class=\"language-JSON\">S3<span class=\"token operator\">:</span><span class=\"token string\">\"react.suspense\"</span>\n</code></pre>\n<p>下面重点来了，<code>J0</code>和<code>J4</code>这两行，包含了非常多的内容：</p>\n<pre class=\"language-json\"><code class=\"language-JSON\"><span class=\"token comment\">// J0</span>\nJ0<span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"section\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"col sidebar\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"section\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"logo\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"logo.svg\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"22px\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"20px\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"alt\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"role\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"presentation\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"React Notes\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"section\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-menu\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"role\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"menubar\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@1\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@2\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"noteId\"</span><span class=\"token operator\">:</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"New\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"nav\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"$3\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"fallback\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"ul\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"notes-list skeleton-container\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-list-item skeleton\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-list-item skeleton\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-list-item skeleton\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"@4\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"section\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"null\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"col note-viewer\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"$3\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"fallback\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note skeleton-container\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"role\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"progressbar\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"aria-busy\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"true\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note-title skeleton\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"3rem\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"65%\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"marginInline\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"12px 1em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton skeleton--button\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"8em\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"2.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note-preview\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"skeleton v-stack\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"height\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1.5em\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note--empty-state\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"span\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"note-text--empty-state\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Click a note on the left to view something! 🥺\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\">// J0结束</span>\n<span class=\"token comment\">// J4</span>\nJ4<span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"ul\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"notes-list\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Meeting Notes\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"This is an example note. It contains Markdown!\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Meeting Notes\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"12/30/20\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"A note with a very long title because sometimes you need more words\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"You can write all kinds of amazing notes in this app! These note live on the server in the notes...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"A note with a very long title because sometimes you need more words\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"12/30/20\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"3\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"I wrote this note today\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"It was an excellent note.\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"I wrote this note today\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"12/30/20\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"4\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Make a thing\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"It's very easy to make some words bold and other words italic with Markdown. You can even link to React's...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Make a thing\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"12/30/20\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"6\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Test Noteeeeeeeasd\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Test note's text\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Test Noteeeeeeeasd\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"11/29/22\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"7\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"@5\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"asdasdasd\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"expandedChildren\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-excerpt\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"asdasdasd\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"className\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"sidebar-note-header\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"asdasdasd\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"small\"</span><span class=\"token punctuation\">,</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"children\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"11/29/22\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\">// J4结束</span>\n</code></pre>\n<p><code>J0</code>和<code>J4</code>是两个我们熟知的基本组件<code>div</code>和<code>ul</code>。它们已经在服务端被渲染好了，然后序列化成了我们看到的这种字符串，最后客户端就可以将其转换为视图。牛的地方就在于，客户端不需要做什么实际的工作，它只要解析字符串并做更新就好了。</p>\n<p>于是，服务端和客户端的通信就变成了这样：</p>\n<p><img src=\"https://s2.loli.net/2023/07/03/rjoIHb2QW1TEhCS.png\" alt=\"image.png\"></p>\n<p>绿色框框正是RSC带来的改变，相比于之前：</p>\n<ul>\n<li>只有客户端组件被打包到JS包。</li>\n<li>服务端将服务端组件渲染并序列为定制字符串，而不是HTML。</li>\n<li>在后续的服务端组件更新中，序列化字符串会被发送到客户端。</li>\n<li>客户端可以根据这些字符串进行更新并维护状态。</li>\n</ul>\n<p>总之，JS包变小了，TTL也就变短了。</p>\n<h3 id=\"2-依赖不再增加js包的体积\">2. 依赖不再增加JS包的体积</h3>\n<p>服务端组件的另一大好处就是它可以做到“0体积”。既然组件是在服务端渲染，那我们就不需要在客户端引入相关的依赖。</p>\n<p>从实现的角度来讲，当服务端的React@18处理一个服务端组件的时候，它会将其处理为最终在客户端呈现的基本组件。比如你的React组件用到了<code>date-fns/format</code>去处理日期，这些处理都发生在服务端，最终发送到客户端的已经是最后的结果，因此<code>date-fns/format</code>依赖在客户端是不需要的。</p>\n<p>所以，在RSC的世界中，客户端可以和庞大的依赖说再见了。</p>\n<p>还记得这张图么？这些依赖都不占JS体积了！</p>\n<p><img src=\"https://s2.loli.net/2023/07/03/p2J61GAdOyMtaoY.png\" alt=\"image.png\"></p>\n<h3 id=\"3-请求瀑布流不再往往复复\">3. 请求瀑布流不再往往复复</h3>\n<p>服务端组件相比于客户端组件更贴近服务端硬件。这也就意味着，原先需要从客户端发送到服务端的请求，现在可以完全在服务端内完成。让我们更新一下之前的图：</p>\n<p><img src=\"https://s2.loli.net/2023/07/03/jLb8lqy6t1RrANS.png\" alt=\"image.png\"></p>\n<p>显然，客户端现在只需要往返服务端一次，而服务端组件间的请求都发生在服务端内部，相比于之前，这可快太多了！</p>\n<h3 id=\"4-服务端不止一个线程\">4. 服务端不止一个线程</h3>\n<p>这也很显然，浏览器的JS运行时只有一个线程，而服务端的Node.js往往有多个线程，那么就有更多的带宽可以处理服务端组件了！</p>\n<h3 id=\"5-服务端可以访问服务端api废话\">5. 服务端可以访问服务端API（废话）</h3>\n<p>当服务端处理服务端组件时，我们可以直接访问很多东西，比如环境变量，因此我们可以在代码里直接使用<code>process.env</code>，这还挺爽的不是么？</p>\n<p>不仅如此，我们还可以直接访问本地数据库、文件系统、微服务。当然，直接在组件中访问数据库不是什么最佳实践，我只是举个例子ww。换说一个实用的例子吧：在实现一个静态博客的时候，我们可以在组件中直接循环文件目录，过去可是没法这么干的。</p>\n<h2 id=\"总结\">总结</h2>\n<p>在本文中，我们提出了客户端组件的5个痛点。服务端组件给我们展现了一种全新的视角，并提出了一些解决方案。</p>\n<p>希望本文可以让你大致理解</p>\n<ol>\n<li>为啥React@18要转向服务端组件。</li>\n<li>为啥Next@13要将服务端组件（搭配App Router）作为默认配置。</li>\n<li>以及总的来说，未来一段时间内，服务端组件生态的可能发展方向。</li>\n</ol>\n<hr>\n<p>译者：那么，译文本体就结束了，这篇文章可以说是讲了一大通RSC的优势，但如果它真的那么厉害，为啥现在我们仍然罕见RSC的应用呢？百闻不如一试，现在体验RSC有几个很好的demo：</p>\n<ul>\n<li><a href=\"https://stackblitz.com/edit/react-server-components-demo-u57n2t?file=README.md\" target=\"_blank\" rel=\"nofollow\">RSC demo</a></li>\n<li><a href=\"https://github.com/vercel/next-react-server-components\" target=\"_blank\" rel=\"nofollow\">Next13+RSC demo</a></li>\n</ul>\n<p>在体验demo的时候，可以考虑这几个问题：</p>\n<ol>\n<li>RSC在实现的时候，相比客户端组件有哪些限制？</li>\n<li>怎样触发RSC的组件状态更新？</li>\n<li>RSC在哪些场景下比较适用？</li>\n<li>相比于SSR+客户端组件，引入了RSC后，到底有多少的改变？</li>\n</ol>\n<p>译者对于这些问题其实也没有很好的答案，但如果你试一试，一定会发现RSC的实际应用比这篇文章更加有趣！</p>\n<p><strong>最后推荐阅读几篇相关文章：</strong></p>\n<ul>\n<li><a href=\"https://www.webscope.io/blog/server-components-vs-ssr\" target=\"_blank\" rel=\"nofollow\">Server Components vs. SSR in Next.js（RSC vs SSR）</a></li>\n<li><a href=\"https://marmelab.com/blog/2021/06/15/react-server-components.html\" target=\"_blank\" rel=\"nofollow\">I Tested React Server Components And I'm Not A Fan (Yet).（RSC的一些问题）</a></li>\n<li><a href=\"https://www.joshwcomeau.com/nextjs/refreshing-server-side-props/\" target=\"_blank\" rel=\"nofollow\">Refreshing Server-Side Props（SSR并不只是返回HTML）</a></li>\n</ul>\n</body></html>","description":"Next13已经在App Router中将Server Component作为默认配置，但你真的了解它么？这可不是什么SSR，完全不同，如果你对其抱有一丝兴趣与疑问，这篇译文或许可以给你一些答案。"},"__N_SSG":true}