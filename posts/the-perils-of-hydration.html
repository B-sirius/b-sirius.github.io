<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>LWDW!</title><meta name="description" content="ã€è¯‘ã€‘The Perils of Hydration / ä½ æ‰€ä¸äº†è§£çš„Hydration"/><meta property="og:title" content="ã€è¯‘ã€‘The Perils of Hydration / ä½ æ‰€ä¸äº†è§£çš„Hydration"/><meta property="og:description" content="æœ¬æ–‡ä»æ˜¯ä¸€ç¯‡è¯‘æ–‡ï¼Œå¦‚æœä½ æ˜¯Next/Gatsbyçš„å¼€å‘è€…ï¼Œä½ å¯èƒ½å¬è¯´è¿‡hydrationï¼Œè¿™ä¸€æ­¥éª¤ä¸SSR+ReactæŠ€æœ¯æ¯æ¯ç›¸å…³ï¼ˆäº‹å®ä¸Šæˆ‘çœ‹åˆ°è¿‡å¤§é‡ç›¸å…³æŠ¥é”™ï¼‰ï¼Œä½†ä½ å¯èƒ½ä»æœªæ·±å…¥è€ƒè™‘è¿‡å…¶èƒŒåçš„åŸç†ï¼Œè€Œè¿™ç”šè‡³å®¹æ˜“å¯¼è‡´ä¸€äº›å¸¸è§çš„é”™è¯¯......"/><meta name="next-head-count" content="6"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#ffffff"/><meta name="color-scheme" content="dark light"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#000"/><meta property="og:type" content="website"/><meta property="og:image" content="https://s2.loli.net/2023/01/18/42YTZxzePtR7jy9.png"/><meta property="og:url" content="https://b-sirius.github.io"/><link rel="preload" href="/_next/static/css/aef510c8abf24c2c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aef510c8abf24c2c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b51a0fb142b75fa0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b51a0fb142b75fa0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-165611dbf69200d4.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-673a4fae4a27af6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0da236044dc4e5fc.js" defer=""></script><script src="/_next/static/chunks/664-1b4479b4462ded63.js" defer=""></script><script src="/_next/static/chunks/332-e879213584d084bf.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-bdcbd70cb4cfba17.js" defer=""></script><script src="/_next/static/_ClwSS3-Ivr8G5PbtsguX/_buildManifest.js" defer=""></script><script src="/_next/static/_ClwSS3-Ivr8G5PbtsguX/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.6">.hkJmkj{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;border:1px solid var(--dialog-border-color);background-color:var(--dialog-bg-color);padding:1px;}/*!sc*/
.hkJmkj > div{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;border:1px solid #9d701d;color:#fff;padding:10px;}/*!sc*/
data-styled.g1[id="sc-87e76b53-0"]{content:"hkJmkj,"}/*!sc*/
.dxfnCq{font-size:22px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;}/*!sc*/
.dxfnCq > div{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;}/*!sc*/
data-styled.g2[id="sc-77cf2bd4-0"]{content:"dxfnCq,"}/*!sc*/
.gPcDhw{--root-bg-color:#000;--dialog-bg-color:#262427;--dialog-border-color:#9d701d;--font-color:#fff;--font-highlight-color:#e7e496;--nav-color:#e76464;--blog-title-shadow:1px 1px 2px #ad0909,0 0 1em #7b3f0c,0 0 0.15em #d2ff8f;--blog-hint-shadow:1px 1px 2px #ad0909,0 0 2em #7b3f0c,0 0 0.2em #d2ff8f;background-color:var(--root-bg-color);overflow:scroll;font-family:'GillSans','Helvetica Neue',Arial,Helvetica,sans-serif;}/*!sc*/
data-styled.g3[id="sc-9d615c10-0"]{content:"gPcDhw,"}/*!sc*/
.hptnUW{max-width:960px;margin:auto;overflow:hidden;padding:40px 20px;min-height:100vh;color:var(--font-color);}/*!sc*/
data-styled.g4[id="sc-868660b6-0"]{content:"hptnUW,"}/*!sc*/
.cEuFcK{font-family:monospace;}/*!sc*/
data-styled.g5[id="sc-f71203c5-0"]{content:"cEuFcK,"}/*!sc*/
.BdBtZ{font-size:44px;margin-bottom:0;text-shadow:var(--blog-title-shadow);}/*!sc*/
data-styled.g6[id="sc-f71203c5-1"]{content:"BdBtZ,"}/*!sc*/
.gXENPI{font-size:12px;margin:0;text-shadow:var(--blog-hint-shadow);}/*!sc*/
data-styled.g7[id="sc-f71203c5-2"]{content:"gXENPI,"}/*!sc*/
.dSoHmK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:20px;}/*!sc*/
data-styled.g8[id="sc-bbc62a17-0"]{content:"dSoHmK,"}/*!sc*/
.bGsVUC{margin-bottom:50px;}/*!sc*/
data-styled.g9[id="sc-bbc62a17-1"]{content:"bGsVUC,"}/*!sc*/
.gGxkic{padding:5px 0;font-family:monospace;color:var(--font-color);font-size:20px;margin-right:20px;}/*!sc*/
.gGxkic:hover{cursor:pointer;}/*!sc*/
@media only screen and (max-width:500px){.gGxkic{font-size:18px;margin-right:10px;}}/*!sc*/
data-styled.g10[id="sc-bbc62a17-2"]{content:"gGxkic,"}/*!sc*/
.bMRVsR{padding:5px 0;font-family:monospace;color:var(--font-color);font-size:20px;margin-right:20px;}/*!sc*/
.bMRVsR:hover{cursor:pointer;}/*!sc*/
@media only screen and (max-width:500px){.bMRVsR{font-size:18px;margin-right:10px;}}/*!sc*/
data-styled.g11[id="sc-bbc62a17-3"]{content:"bMRVsR,"}/*!sc*/
.czeavQ{--md-link-color:#e64f4f;--md-title-shadow:1px 1px 2px #ad0909,0 0 1em #7b3f0c,0 0 0.2em #d2ff8f;--md-title-color:#f2f2f2;--md-sub-title-color:#d3dae1;}/*!sc*/
.czeavQ h2{font-size:30px;margin-top:50px;margin-bottom:0;text-shadow:var(--md-title-shadow);color:var(--md-title-color);}/*!sc*/
.czeavQ h3{font-size:26px;margin-bottom:0;color:var(--md-sub-title-color);}/*!sc*/
.czeavQ h4,.czeavQ h5,.czeavQ h6{font-size:24px;color:var(--md-sub-title-color);}/*!sc*/
.czeavQ p,.czeavQ li{margin-bottom:2em;}/*!sc*/
.czeavQ p,.czeavQ li,.czeavQ a{font-size:18px;line-height:32px;}/*!sc*/
.czeavQ a{color:var(--md-link-color);}/*!sc*/
.czeavQ img{max-width:100%;}/*!sc*/
.czeavQ hr{border-color:#111;}/*!sc*/
.czeavQ blockquote{border-left:5px solid rgb(52,57,59);background-color:rgb(54,0,0);margin:0;padding:1em 1.5em 1em 2em;}/*!sc*/
.czeavQ blockquote p,.czeavQ blockquote li{margin:0;}/*!sc*/
.czeavQ code{font-size:16.5px;background-color:rgba(115,125,140,0.17);padding:4.5px 6px;border-radius:3px;}/*!sc*/
.czeavQ pre code{background-color:transparent;padding:0;border-radius:none;}/*!sc*/
@media only screen and (max-width:500px){.czeavQ p,.czeavQ li,.czeavQ a{font-size:16px;line-height:30px;}.czeavQ code{font-size:14px;}}/*!sc*/
data-styled.g12[id="sc-e9ca5221-0"]{content:"czeavQ,"}/*!sc*/
.fiBoCN{margin-top:50px;}/*!sc*/
data-styled.g13[id="sc-3304c032-0"]{content:"fiBoCN,"}/*!sc*/
.hOKWax{padding:0px 20px 10px;}/*!sc*/
@media only screen and (max-width:500px){.hOKWax{padding:0 5px 10px;}}/*!sc*/
data-styled.g14[id="sc-ba46d312-0"]{content:"hOKWax,"}/*!sc*/
.dmDrcr{padding:20px 20px;}/*!sc*/
@media only screen and (max-width:500px){.dmDrcr{padding:5px 5px;}}/*!sc*/
data-styled.g15[id="sc-ba46d312-1"]{content:"dmDrcr,"}/*!sc*/
.ibvPNw{font-size:40px;color:var(--font-highlight-color);margin-bottom:5px;}/*!sc*/
data-styled.g16[id="sc-ba46d312-2"]{content:"ibvPNw,"}/*!sc*/
.hcdRzS{font-family:monospace;font-size:14px;}/*!sc*/
data-styled.g17[id="sc-ba46d312-3"]{content:"hcdRzS,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9d615c10-0 gPcDhw"><div class="sc-868660b6-0 hptnUW"><div class="sc-bbc62a17-1 bGsVUC"><div class="sc-bbc62a17-0 dSoHmK"><a class="sc-bbc62a17-2 gGxkic" href="/">[<!-- -->Home<!-- -->]</a><a class="sc-bbc62a17-2 gGxkic" href="/posts">[<!-- -->Posts<!-- -->]</a><a class="sc-bbc62a17-3 bMRVsR" rel="noopener noreferrer" target="_blank" href="https://github.com/B-sirius">[<!-- -->Github<!-- -->]</a><a class="sc-bbc62a17-3 bMRVsR" rel="noopener noreferrer" target="_blank" href="https://b-sirius.github.io/rss.xml">[<!-- -->RSS<!-- -->]</a></div><div class="sc-f71203c5-0 cEuFcK"><h1 class="sc-f71203c5-1 BdBtZ">LWDW!</h1><p class="sc-f71203c5-2 gXENPI">Learn the work from doing the workğŸº</p></div></div><div class="sc-87e76b53-0 sc-77cf2bd4-0 hkJmkj dxfnCq"><div><div class="sc-ba46d312-0 hOKWax"><div class="sc-ba46d312-2 ibvPNw">ã€è¯‘ã€‘The Perils of Hydration / ä½ æ‰€ä¸äº†è§£çš„Hydration</div><div class="sc-ba46d312-3 hcdRzS">Posted on <!-- -->2023-06-12</div></div></div></div><div class="sc-87e76b53-0 hkJmkj"><div><div class="sc-ba46d312-1 dmDrcr"><div class="sc-e9ca5221-0 czeavQ"><p>è¯‘è€…ï¼šæœ¬äººå·²ç»ä½¿ç”¨äº†ç›¸å½“ä¸€æ®µæ—¶é—´çš„Next.jsï¼Œä¸”SSRã€SSGä¸€ç±»çš„æ¦‚å¿µä¹Ÿä»æ¥æ²¡æœ‰å›°æ‰°è¿‡æˆ‘......</p>
<p><img src="https://s2.loli.net/2023/06/12/dfMJrhHXB12NWTG.png" alt="image.png"/></p>
<p>ç›´åˆ°æˆ‘ä¸ºäº†è¿›ä¸€æ­¥äº†è§£<strong>Nextæ˜¯å¦‚ä½•åœ¨æœåŠ¡ç«¯è¿”å›HTMLç»™å®¢æˆ·ç«¯åï¼Œæ³¨å…¥Reactçš„äº‹ä»¶ä¸çŠ¶æ€ï¼Œè€Œæœç´¢Hydration</strong>çš„æ—¶å€™ï¼Œæˆ‘å‘ç°äº†è¿™ç¯‡åšå®¢ï¼š<a href="https://www.joshwcomeau.com/react/the-perils-of-rehydration" target="_blank" rel="noreferrer">The Perils of Hydration</a> â€”â€” ä¸€çœ‹åˆ°æ˜¯Josh W. Comeauå¤§ç¥çš„ç¾ä¸½åšå®¢ï¼Œå’±å°±çŸ¥é“ä¸å¾—ä¸è¯»äº†ã€‚</p>
<p>ç»“æœæ˜¯ï¼Œè¿™ç¯‡æ–‡ç« ä¸ä»…è§£ç­”äº†æˆ‘æœ€åˆçš„é—®é¢˜ï¼Œæ›´å¤šçš„æ˜¯é˜æ˜äº†åœ¨ä½¿ç”¨ Gatsby/Next è¿™æ ·çš„æ¡†æ¶å¼€å‘æ¶‰åŠSSRçš„åº”ç”¨æ—¶ï¼Œ<strong>Hydration</strong>æ˜¯å¦‚ä½•éœ€è¦å¼•èµ·æˆ‘ä»¬çš„è­¦è§‰çš„ã€‚</p>
<p>ä¸‹é¢å¼€å§‹æ­£æ–‡ï¼Œè‹±æ–‡åŸæ–‡åœ°å€ï¼š<a href="https://www.joshwcomeau.com/react/the-perils-of-rehydration" target="_blank" rel="noreferrer">The Perils of Hydration</a>ã€‚</p>
<hr/>
<p>æœ€è¿‘æˆ‘é‡åˆ°äº†ä¸ªå¾ˆå¥‡æ€ªçš„é—®é¢˜â€”â€”æˆ‘çš„åšå®¢åœ¨å¼€å‘ç¯å¢ƒä¸‹å¾ˆå®Œç¾ï¼Œä½†åˆ°äº†ç”Ÿäº§ç¯å¢ƒï¼Œåšå®¢åº•éƒ¨å´ä¹±äº†å¥—ï¼š</p>
<p><img src="https://s2.loli.net/2023/06/08/gDhGNp45F8H9b1S.png" alt="ä¹±å¥—äº†çš„å¸ƒå±€.png"/></p>
<p>äºæ˜¯æˆ‘æ‰“å¼€devtoolsï¼ŒæŸ¥çœ‹Elementsï¼Œå‘ç°äº†é—®é¢˜æ‰€åœ¨â€”â€”Reactç»„ä»¶æ¸²æŸ“åˆ°äº†é”™è¯¯çš„ä½ç½®ï¼</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- å¼€å‘æ—¶ï¼ŒNewsletterè¡¨å•åœ¨æ­£ç¡®çš„ä½ç½® --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ContentFooter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Last updated: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>Sometime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>NewsletterSignup<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æ³¨å†Œè¡¨å• --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- åˆ°äº†ç”Ÿäº§ç¯å¢ƒï¼ŒNewsletterè¡¨å•è¢«å¾€é‡Œæäº†ä¸€å±‚ï¼ï¼Ÿ --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ContentFooter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Last updated: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>Sometime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>NewsletterSignup<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- æ³¨å†Œè¡¨å• --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>è¿™åˆæ˜¯ä¸ºå•¥å‘¢ï¼Ÿéš¾é“æ˜¯Reactçš„Bugï¼Ÿæˆ‘çœ‹äº†çœ‹React Devtoolsçš„&quot;âš›ï¸ Components&quot;é€‰é¡¹å¡ï¼Œå‘ç°Reactç»„ä»¶çš„ä½ç½®å±…ç„¶æ˜¯æ­£ç¡®çš„ï¼Œé‚£è¿™ä¸æ˜¯ç¦»äº†è°±äº†ï¼</p>
<p>æäº†åŠå¤©ï¼Œæˆ‘æœ€åæ„è¯†åˆ°ï¼Œæˆ‘å¯¹äºReactå¦‚ä½•å¤„ç†**æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰**æœ‰æ ¹æœ¬æ€§çš„é”™è¯¯ç†è§£ï¼Œè€Œä¸”è®¸å¤šçš„Reactå¼€å‘è€…å¯èƒ½ä¹Ÿæœ‰è¿™æ ·çš„è¯¯åˆ¤ï¼Œè¿™å¯èƒ½äº§ç”Ÿä¸¥é‡çš„é”™è¯¯ï¼</p>
<h2 id="ä¸€äº›é—®é¢˜ä»£ç ">ä¸€äº›é—®é¢˜ä»£ç </h2>
<p>ä»¥ä¸‹æ˜¯ä¸€æ®µå¯ä»¥å¯¼è‡´æ¸²æŸ“é—®é¢˜çš„ä»£ç ç¤ºä¾‹ï¼Œä½ èƒ½å‘ç°å…¶ä¸­çš„é—®é¢˜ä¹ˆï¼Ÿ</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Navigation</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token dom variable">window</span> <span class="token operator">===</span> <span class="token string">&#x27;undefined&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// å‡è£…getUseræ–¹æ³•å­˜åœ¨</span>
  <span class="token comment">// getUserandè¦ä¹ˆè¿”å›ä¸€ä¸ªuserå¯¹è±¡ï¼Œè¦ä¹ˆè¿”å›`null`</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AuthenticatedNav</span></span>
        <span class="token attr-name">user</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>user<span class="token punctuation">}</span></span>
      <span class="token punctuation">/&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Login</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>æˆ‘è¿‡å»ä¸€ç›´è§‰å¾—è¿™æ®µä»£ç æ˜¯okçš„ï¼Œç›´åˆ°æˆ‘çš„åšå®¢å¼€å§‹ä¸€äº›â€œæ¯•åŠ ç´¢å¼å¸ƒå±€â€......</p>
<p>è¿™ç¯‡æ–‡ç« ä¼šé˜æ˜ï¼š</p>
<ol>
<li>æœåŠ¡ç«¯æ¸²æŸ“æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</li>
<li>ä»¥ä¸Šçš„ä»£ç é€»è¾‘ä¸ºä½•ä¼šæœ‰é—®é¢˜ï¼Ÿ</li>
<li>å¦‚ä½•ç”¨æ›´å¥½çš„æ–¹å¼å®ç°åŒæ ·çš„æ•ˆæœï¼Ÿ</li>
</ol>
<h2 id="æœåŠ¡ç«¯æ¸²æŸ“çš„åŸºæœ¬çŸ¥è¯†">æœåŠ¡ç«¯æ¸²æŸ“çš„åŸºæœ¬çŸ¥è¯†</h2>
<p>ä¸ºäº†ç†è§£é—®é¢˜æ‰€åœ¨ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ç†è§£Gatsby/Nextè¿™æ ·çš„æ¡†æ¶ä¸ä¼ ç»Ÿçš„Reactæ­å»ºçš„å®¢æˆ·ç«¯åº”ç”¨çš„åŒºåˆ«ã€‚</p>
<p>å½“ä½ ä½¿ç”¨create-react-appå»æ­å»ºåº”ç”¨ï¼Œæ‰€æœ‰çš„æ¸²æŸ“éƒ½å‘ç”Ÿåœ¨å®¢æˆ·ç«¯ã€‚ä¸ç®¡ä½ çš„åº”ç”¨æœ‰å¤šä¹ˆå·¨å¤§ï¼Œæµè§ˆå™¨æœ€åˆæ¥æ”¶åˆ°çš„åˆå§‹HTMLå¤§æ¦‚éƒ½æ˜¯è¿™ä¸ªæ ·å­ï¼š</p>
<pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- è¿™é‡Œæœ‰äº›metaä¿¡æ¯ä¹‹ç±»çš„ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/bundle.js<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/0.chunk.js<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/main.chunk.js<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>é™¤äº†å‡ æ®µè„šæœ¬ï¼Œè¿™ä¸ªé¡µé¢åŸºæœ¬æ˜¯ç©ºçš„ã€‚ä¸€æ—¦<strong>æµè§ˆå™¨</strong>åŠ è½½å¹¶è§£æäº†è¿™äº›è„šæœ¬ï¼ŒReactå°±å¯ä»¥çŸ¥é“é¡µé¢åˆ°åº•è¯¥é•¿å•¥æ ·å­ï¼Œåˆ›å»ºDOMå¹¶æ³¨å…¥åˆ°é¡µé¢ä¸­ï¼Œå»å®é™…å®Œæˆé¡µé¢æ¸²æŸ“ã€‚è€Œè¿™ï¼Œå°±æ˜¯<strong>å®¢æˆ·ç«¯æ¸²æŸ“ï¼ˆclient-side renderingï¼ŒCSRï¼‰</strong>ï¼Œå› ä¸ºæ¸²æŸ“æ­¥éª¤éƒ½æ˜¯å‘ç”Ÿåœ¨å®¢æˆ·ç«¯ï¼ˆç”¨æˆ·çš„æµè§ˆå™¨ï¼‰ã€‚</p>
<p>ä»¥ä¸Šè¿™äº›æ­¥éª¤ï¼ˆåŠ è½½è§£æè„šæœ¬ï¼Œæ‰§è¡Œæ¸²æŸ“ï¼‰éƒ½éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥å½“æµè§ˆå™¨å’ŒReactå“¼å“§å“¼å“§çš„å¤„ç†é¡µé¢çš„æ—¶å€™ï¼Œç”¨æˆ·åªèƒ½ç›¯ç€ä¸€ç‰‡ç™½å±ï¼Œé‚£è¿™ä¸ªä½“éªŒå°±å¾ˆä¸€èˆ¬äº†ï¼Œåœ¨å¾ˆå¤šåœºæ™¯å¹¶éæ˜¯æœ€ä½³å®è·µã€‚</p>
<p>äºæ˜¯æœ‰äº›èªæ˜äººæ„è¯†åˆ°ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥åœ¨æœåŠ¡ç«¯è¿›è¡Œæ¸²æŸ“ï¼Œå®¢æˆ·ç«¯é¦–æ¬¡å°±å¯ä»¥ç›´æ¥æ‹¿åˆ°å®Œæ•´çš„HTMLï¼Œé‚£ç”¨æˆ·å°±ä¸ç”¨åœ¨ç­‰JSåŠ è½½çš„æ—¶å€™çœ‹ç™½å±äº†ã€‚è¿™ç§æ¸²æŸ“æ–¹å¼å°±æ˜¯<strong>æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆserver-side renderingï¼ŒSSRï¼‰</strong>ã€‚</p>
<p>æœåŠ¡ç«¯æ¸²æŸ“å¯èƒ½ä¼šå¸¦æ¥æ€§èƒ½ä¸Šçš„æå‡ï¼Œä½†è¦æ³¨æ„ï¼Œæ¸²æŸ“æ˜¯åœ¨ç”¨æˆ·è¯·æ±‚æ—¶æ‰è¿›è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·è®¿é—® your-website.com çš„æ—¶å€™ï¼ŒReactä»ç„¶éœ€è¦å»å°†Reactç»„ä»¶æ¸²æŸ“ä¸ºå®é™…çš„HTMLï¼Œè€Œç”¨æˆ·æ­¤æ—¶çœ‹åˆ°çš„ä¹Ÿè¿˜æ˜¯ç™½å±ã€‚æˆ‘ä»¬åªæ˜¯æŠŠè¿™ä¸ªæ­¥éª¤ä»ç”¨æˆ·çš„è®¾å¤‡æŒªåˆ°äº†æœåŠ¡ç«¯è€Œå·²ã€‚</p>
<p>äºæ˜¯å‘¢ï¼Œæ›´èªæ˜çš„äººæ„è¯†åˆ°ï¼Œè®¸å¤šç½‘é¡µçš„å¤§éƒ¨åˆ†ç»„æˆéƒ½æ˜¯é™æ€çš„ï¼Œè¿™äº›å†…å®¹å¯ä»¥åœ¨ç¼–è¯‘æ—¶ï¼ˆè€Œä¸æ˜¯ç”¨æˆ·è®¿é—®æ—¶ï¼‰å°±ç¡®å®šä¸‹æ¥ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æå‰åœ¨ç¼–è¯‘é˜¶æ®µä¾¿å°†åˆå§‹çš„HTMLæ„å»ºå¥½ï¼Œè¿™æ ·å½“ç”¨æˆ·è¯·æ±‚æ—¶å°±å¯ä»¥ç›´æ¥è¿”å›äº†ï¼è¿™æ ·ä¸€æ¥ï¼ŒReactåº”ç”¨çš„åŠ è½½å°±å’Œæœ€åŸºç¡€çš„HTMLç«™ç‚¹ä¸€æ ·å¿«ã€‚</p>
<p>äº‹å®ä¸Šï¼Œè¿™å°±æ˜¯Gatsbyï¼ˆä»¥åŠç‰¹å®šé…ç½®ä¸‹çš„Next.jsï¼‰çš„å·¥ä½œåŸç†ã€‚å½“è¿è¡Œ<code>yarn build</code>çš„æ—¶å€™ï¼Œå®ƒä¼šä¸ºæ¯ä¸ªè·¯ç”±ç”Ÿæˆä¸€ä»½HTMLæ–‡æ¡£ã€‚æ‰€æœ‰çš„å­é¡µé¢ã€åšå®¢ä¹‹ç±»çš„éƒ½ä¼šç”Ÿæˆå¯¹åº”çš„HTMLï¼Œäºæ˜¯å®ƒä»¬å°±å¯ä»¥è¢«éšæ—¶æ‹¿å»ä½¿ç”¨ã€‚</p>
<blockquote>
<p>ä»¥ä¸Šéƒ½æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ä¹ˆï¼Ÿ</p>
<p>æŠ€æœ¯ä¸Šæ¥è®²ï¼ŒGatsbyå°±æ˜¯â€œæœåŠ¡ç«¯æ¸²æŸ“â€ï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†Nodeï¼Œä½¿ç”¨äº†ReactDOMServer APIå»æ¸²æŸ“Reactåº”ç”¨ï¼Œä¼ ç»Ÿçš„SSRä¹Ÿæ˜¯è¿™æ ·çš„ã€‚ä½†æˆ‘ä¸ªäººæ›´å€¾å‘çš„æ¦‚å¿µæ˜¯ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ç‰¹æŒ‡å‘ç”Ÿåœ¨â€œæœåŠ¡ç«¯æ¥æ”¶åˆ°ç”¨æˆ·è¯·æ±‚å¹¶å“åº”â€çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œè€ŒåƒGatsbyè¿™æ ·åœ¨ç¼–è¯‘æ—¶æ¸²æŸ“ï¼Œæ˜¯æ„å»ºè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œå‘ç”Ÿçš„æ—©å¾—å¤šã€‚</p>
<p>å› æ­¤ï¼Œå¾ˆå¤šäººä¹Ÿå°†å…¶ç§°ä¸º**é™æ€é¡µé¢ç”Ÿæˆï¼ˆStatic Site Generationï¼ŒSSGï¼‰<strong>æˆ–</strong>æœåŠ¡ç«¯ç”Ÿæˆï¼ˆServer-Side Generatedï¼‰**æŠ€æœ¯ã€‚</p>
</blockquote>
<h2 id="å®¢æˆ·ç«¯çš„ä»£ç ">å®¢æˆ·ç«¯çš„ä»£ç </h2>
<p>å¦‚ä»Šçš„webåº”ç”¨éƒ½æ˜¯åŠ¨æ€çš„ã€å“åº”å¼çš„ï¼Œè€Œè¿™ç§ä½“éªŒæ˜¯æ— æ³•ä»…ä»…é€šè¿‡HTMLå’ŒCSSå®ç°çš„ã€‚æ‰€ä»¥æˆ‘ä»¬ä»ç„¶éœ€è¦è¿è¡Œå®¢æˆ·ç«¯çš„JSä»£ç ã€‚</p>
<p>å®¢æˆ·ç«¯åŒæ ·åŒ…å«äº†ä¸€ä»½Reactçš„ä»£ç ï¼Œå®ƒä¼šè¯•å›¾æç»˜å‡ºé¡µé¢åº”è¯¥æ˜¯é•¿ä»€ä¹ˆæ ·å­ï¼Œç„¶åå®ƒæ‹¿è‡ªå·±æƒ³è±¡å‡ºçš„æ ·å­å»ä¸å®¢æˆ·ç«¯çš„HTMLè¿›è¡ŒåŒ¹é…ã€‚è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±å«åš<strong>Hydration</strong>ã€‚</p>
<p>ä¸¥æ ¼æ¥è¯´ï¼Œ<strong>Hydration</strong>å¹¶ä¸ç­‰åŒäº<strong>æ¸²æŸ“ï¼ˆrenderï¼‰</strong>ã€‚åœ¨å¸¸è§„çš„æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œå½“propså’Œstateæ”¹å˜ï¼ŒReactå°†ä¼šæ¯”è¾ƒæ”¹åŠ¨å¹¶æ›´æ–°DOMèŠ‚ç‚¹ã€‚åœ¨<strong>hydration</strong>è¿‡ç¨‹ä¸­ï¼ŒReactä¼šå‡è®¾DOMèŠ‚ç‚¹æ²¡æœ‰æ”¹å˜ï¼Œå¹¶å°è¯•å»åŒ¹é…å·²æœ‰çš„DOMã€‚</p>
<h2 id="åŠ¨æ€æ¸²æŸ“">åŠ¨æ€æ¸²æŸ“</h2>
<p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å›å¤´çœ‹çœ‹ä¹‹å‰çš„ä»£ç ç‰‡æ®µï¼š</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Navigation</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token dom variable">window</span> <span class="token operator">===</span> <span class="token string">&#x27;undefined&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// å‡è£…getUseræ–¹æ³•å­˜åœ¨</span>
  <span class="token comment">// getUserandè¦ä¹ˆè¿”å›ä¸€ä¸ªuserå¯¹è±¡ï¼Œè¦ä¹ˆè¿”å›`null`</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AuthenticatedNav</span></span>
        <span class="token attr-name">user</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>user<span class="token punctuation">}</span></span>
      <span class="token punctuation">/&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Login</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Navigationç»„ä»¶æœ‰ä¸‰ç§å¯èƒ½çš„è¿”å›ï¼š</p>
<ul>
<li>å¦‚æœç”¨æˆ·å·²ç»ç™»å½•ï¼Œæ¸²æŸ“<code>&lt;AuthenticatedNav&gt;</code>ç»„ä»¶ã€‚</li>
<li>å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œæ¸²æŸ“<code>&lt;UnauthenticatedNav&gt;</code>ç»„ä»¶ã€‚</li>
<li>å¦‚æœä¸çŸ¥é“ç”¨æˆ·æœ‰æ²¡æœ‰ç™»å½•ï¼Œå•¥éƒ½ä¸æ¸²æŸ“ã€‚</li>
</ul>
<h2 id="è–›å®šè°”çš„ç”¨æˆ·">è–›å®šè°”çš„ç”¨æˆ·</h2>
<p>åœ¨ä¸€ä¸ª<a href="https://zh.wikipedia.org/wiki/%E8%96%9B%E5%AE%9A%E8%B0%94%E7%8C%AB" target="_blank" rel="noreferrer">å¯æ€•çš„æ€æƒ³å®éªŒ</a>ä¸­ï¼Œå¥¥åœ°åˆ©ç‰©ç†å­¦è€…åŸƒå°”æ¸©Â·è–›å®šè°”æè¿°äº†è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæŠŠä¸€åªçŒ«æ”¾åœ¨ä¸€ä¸ªç›’å­é‡Œï¼Œåœ¨ä¸€å°æ—¶ä¸­ï¼Œç›’å­å†…æœ‰50%çš„æ¦‚ç‡ä¼šæ”¾å‡ºæ¯’æ°”ã€‚é‚£ä¹ˆåœ¨ä¸€å°æ—¶åï¼Œè¿™åªçŒ«æ˜¯ç”Ÿæ˜¯æ­»çš„æ¦‚ç‡ä¹Ÿä¸º50%ã€‚ä½†ç›´åˆ°ä½ æ‰“å¼€ç›’å­å»ç¡®è®¤è¿™ä»¶äº‹ä¹‹å‰ï¼Œè¿™åªçŒ«å¯ä»¥è¢«è®¤ä¸ºæ˜¯å¤„äº<strong>ç”Ÿæˆ–æ­»çš„å åŠ çŠ¶æ€</strong>ã€‚</p>
<p>åœ¨webåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¤„äºç±»ä¼¼çš„å›°å¢ƒï¼šåœ¨ç”¨æˆ·åˆšåˆšæ‰“å¼€æˆ‘ä»¬çš„ç«™ç‚¹æ—¶ï¼Œæˆ‘ä»¬æ— æ³•çŸ¥é“ç”¨æˆ·è¿‡å»æ˜¯å¦å·²ç»ç™»å½•ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºHTMLæ–‡æ¡£æ˜¯åœ¨ç¼–è¯‘æ—¶è¢«æ„å»ºçš„ã€‚å› æ­¤ä¸ç®¡æœ‰æ²¡æœ‰ç™»å½•è¿‡ï¼Œæ¯ä¸ªç”¨æˆ·ä¸€å¼€å§‹å¾—åˆ°çš„éƒ½æ˜¯åŒæ ·çš„ä¸€ä»½HTMLã€‚åªæœ‰å½“JSè¢«è§£ææ‰§è¡Œä¹‹åï¼Œæˆ‘ä»¬æ‰èƒ½æ ¹æ®ç”¨æˆ·çš„çŠ¶æ€å»æ›´æ–°UIï¼Œé‚£ä¹ˆè¿™ä¹‹é—´å°±æœ‰ä¸€ä¸ªæ˜æ˜¾çš„æ—¶é—´å·®ã€‚è¯´åˆ°åº•ï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥ä½¿ç”¨SSGï¼Œå°±æ˜¯ä¸ºäº†è®©æ…¢ç½‘ç”¨æˆ·èƒ½å¿«ç‚¹çœ‹åˆ°é¡µé¢ï¼Œä¸æ­¤åŒæ—¶åå°åœ¨åŠªåŠ›çš„ä¸‹è½½åŠ è½½è§£æJSè„šæœ¬ï¼Œé‚£è¿™ä¸ªè¿‡ç¨‹å°±ä¼šç›¸å½“æ¼«é•¿ã€‚</p>
<p>å› æ­¤æœ‰è®¸å¤šçš„webåº”ç”¨éƒ½ä¼šé»˜è®¤å±•ç¤ºâ€œæœªç™»å½•â€çš„çŠ¶æ€ï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸€ç§å¾ˆå¸¸è§çš„é—ªå±ç°è±¡ï¼š</p>
<p><img src="https://s2.loli.net/2023/06/12/UEm2jFgdQPtnJLV.gif" alt="guardian-with-effect.gif"/></p>
<p><img src="https://s2.loli.net/2023/06/12/XUJRljeEi8YIFBZ.gif" alt="airbnb.gif"/></p>
<p>æˆ‘ä¹Ÿæ„å»ºäº†ä¸€ä¸ªGatsby demoå»é‡ç°è¿™ä¸ªé—®é¢˜ï¼š</p>
<p><img src="https://s2.loli.net/2023/06/12/UVxpwtm34odbOy6.gif" alt="the-problem.gif"/></p>
<p>ä½ å¯ä»¥è‡ªå·±<a href="https://deploy-preview-1--cranky-darwin-49d519.netlify.app/" target="_blank" rel="noreferrer">è¯•è¯•</a>ï¼Œç‚¹å‡»â€œLog inâ€å»ç™»å½•ï¼Œå†ç‚¹å‡»ä¸€æ¬¡å°±å¯ä»¥ç™»å‡ºã€‚</p>
<h2 id="ä¸€æ¬¡ä¸å®Œç¾çš„å°è¯•">ä¸€æ¬¡ä¸å®Œç¾çš„å°è¯•</h2>
<p>åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬å°è¯•ç”¨ä¸‹é¢è¿™å‡ è¡Œä»£ç å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Navigation</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token dom variable">window</span> <span class="token operator">===</span> <span class="token string">&#x27;undefined&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>è¿™ä¸»æ„çœ‹èµ·æ¥æŒºé è°±ï¼šæˆ‘ä»¬çš„ç¼–è¯‘å‘ç”Ÿåœ¨æœåŠ¡ç«¯è¿è¡Œæ—¶ï¼ŒNodeç¯å¢ƒã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨<code>window</code>æ˜¯å¦å­˜åœ¨æ¥åˆ¤æ–­ä»£ç æ˜¯å¦è¿è¡Œåœ¨æœåŠ¡ç«¯ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œæˆ‘ä»¬å°±æ—©æ—©æ”¾å¼ƒæ¸²æŸ“ã€‚</p>
<p>é—®é¢˜åœ¨äºï¼Œè¿™ç ´åäº†è§„åˆ™ã€‚ğŸ˜¬</p>
<h2 id="hydration--render">Hydration â‰  render</h2>
<p>åœ¨Reactåº”ç”¨hydrateçš„æ—¶å€™ï¼Œå®ƒä¼šå‡è®¾DOMç»“æ„æ˜¯åŒ¹é…çš„ã€‚</p>
<p>å½“Reactç¬¬ä¸€æ¬¡åœ¨å®¢æˆ·ç«¯æ‰§è¡Œï¼Œå®ƒä¼šåœ¨å¸ƒå±€æ‰€æœ‰ç»„ä»¶çš„æ—¶å€™æç»˜å‡ºDOMåº”è¯¥é•¿å•¥æ ·ã€‚ç„¶åå®ƒä¼šè¯•å›¾å°†å…¶åŒ¹é…é¡µé¢å·²æœ‰çš„DOMèŠ‚ç‚¹ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ—¶å®ƒå¯ä¸æ˜¯åœ¨æ¯”è¾ƒä¸¤è€…ä¹‹é—´çš„å·®å¼‚ï¼ˆå°±åƒå¸¸è§„çš„çŠ¶æ€æ›´æ–°æ—¶åšçš„é‚£æ ·ï¼‰ï¼Œè€Œåªæ˜¯åœ¨è¯•å›¾å°†äºŒè€…ç²˜åˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿è¿›è¡Œæœªæ¥çš„çŠ¶æ€æ›´æ–°ã€‚</p>
<p>å½“æˆ‘ä»¬é€šè¿‡åˆ¤æ–­ä»£ç è¿è¡Œç¯å¢ƒè€Œå»æ¸²æŸ“ä¸åŒçš„ç»„ä»¶ï¼Œä»¥ä¸Šç³»ç»Ÿå°±è¢«ç ´åäº†â€”â€”æˆ‘ä»¬åœ¨æœåŠ¡ç«¯æ¸²æŸ“çš„æ˜¯Aï¼Œå´è®©Reactåœ¨å®¢æˆ·ç«¯å¾—åˆ°äº†Bï¼š</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- ç¼–è¯‘æ—¶ç”Ÿæˆçš„html --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Your Site<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- Reactåœ¨hydrateæ—¶æœŸå¾…çš„html --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Your Site<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>ç‰›å°±ç‰›åœ¨ï¼ŒReactæœ‰æ—¶è¿˜èƒ½å¤„ç†è¿™ç§ä¸åŒ¹é…çš„æƒ…å½¢ã€‚æ‰€ä»¥å³ä½¿ä½ å¹²è¿‡è¿™äº‹å„¿ï¼Œå¯èƒ½ä¹Ÿæ²¡æœ‰äº§ç”Ÿä¸¥é‡çš„åæœï¼Œä½†å¯è¿™æ˜¯åœ¨ç©ç«â€”â€”hydrationè¿‡ç¨‹æ˜¯ä¸ºäº†å°½å¿«çš„ç²˜åˆDOMä¸Reactï¼Œå®ƒå¯ä¸ä¼šå¸®ä½ æ­£ç¡®çº é”™ã€‚</p>
<h3 id="gatsbyçš„ç‰¹åˆ«è¡Œä¸º">Gatsbyçš„ç‰¹åˆ«è¡Œä¸º</h3>
<p>Reactå›¢é˜Ÿæ„è¯†åˆ°äº†Hydrationä¸åŒ¹é…å¯èƒ½ä¼šå¯¼è‡´éš¾ä»¥æ’æŸ¥çš„é—®é¢˜ï¼Œæ‰€ä»¥ä»–ä»¬åœ¨consoleè­¦å‘Šä¸­ç‰¹åˆ«æŒ‡å‡ºäº†è¿™ç§é”™è¯¯ï¼š</p>
<p><img src="https://i.stack.imgur.com/UdhVh.png" alt="error"/></p>
<p>ä½†é—®é¢˜åœ¨äºï¼Œ<strong>Gatsbyåªåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨SSRç›¸å…³API</strong>ã€‚åˆç”±äºReactè­¦å‘Šåªåœ¨å¼€å‘ç¯å¢ƒæŠ›å‡ºï¼Œç»“æœå°±æ˜¯è¿™äº›è­¦å‘Šåœ¨Gatsbyé¡¹ç›®ä¸­<strong>ä»æ¥ä¸ä¼šå‡ºç°</strong>ğŸ˜±ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ªå–èˆçš„äº‹å„¿ï¼Œç”±äºåœ¨å¼€å‘ç¯å¢ƒç¦ç”¨äº†SSRï¼ŒGatsbyå¯ä»¥è®©ä½ å¿«é€Ÿå¾—åˆ°ä»£ç æ”¹åŠ¨çš„åé¦ˆï¼Œä¸å¾—ä¸è¯´è¿™ä¹Ÿéå¸¸éå¸¸é‡è¦ã€‚Gatsbyå°±æ˜¯è¿™æ ·æ¯”èµ·å‡†ç¡®æ€§æ›´åŠ é‡è§†é€Ÿåº¦çš„æ¡†æ¶ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªç›¸å…³çš„<a href="https://github.com/gatsbyjs/gatsby/issues/17914" target="_blank" rel="noreferrer">issue</a>è¦æ±‚æ”¹è¿›è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯èƒ½åœ¨å°†æ¥çœ‹åˆ°hydrationç›¸å…³çš„è­¦å‘Šã€‚</p>
<p>ç›®å‰å‘¢ï¼Œæˆ‘ä»¬åªèƒ½åœ¨ä½¿ç”¨Gatsbyæ—¶æ ¼å¤–å°å¿ƒäº†ï¼</p>
<h2 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h2>
<p>è¦é¿å…ä¸Šè¿°çš„é—®é¢˜ï¼Œå…³é”®å°±åœ¨äºhydrationè¿‡ç¨‹ä¸­ï¼ŒHTMLå¯ä»¥åŒ¹é…ä¸Šã€‚é‚£æˆ‘ä»¬è¦æ€ä¹ˆå¤„ç†åŠ¨æ€æ•°æ®å‘¢ï¼Ÿ</p>
<p>ä¸‹é¢æ˜¯è§£å†³æ–¹æ¡ˆï¼š</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Navigation</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// é‡ç‚¹ä»è¿™å„¿</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>hasMounted<span class="token punctuation">,</span> setHasMounted<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setHasMounted</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasMounted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// åˆ°è¿™å„¿</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">AuthenticatedNav</span>
        user<span class="token operator">=</span><span class="token punctuation">{</span>user<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>nav<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;/login&quot;</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Login</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>æˆ‘ä»¬å°†çŠ¶æ€<code>hasMounted</code>åˆå§‹åŒ–<code>false</code>ã€‚æ‰€ä»¥å½“<code>hasMounted</code>ä¸º<code>false</code>çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¸ç”¨æ¸²æŸ“å®é™…çš„å†…å®¹ã€‚</p>
<p>åœ¨<code>useEffect</code>ä¸­ï¼Œre-renderç«‹åˆ»è¢«è§¦å‘ï¼Œå¹¶å°†<code>hasMounted</code>è®¾ç½®ä¸º<code>true</code>ã€‚ç”±äºå€¼ä¸º<code>true</code>ï¼Œå®é™…çš„å†…å®¹å°±ä¼šè¢«æ¸²æŸ“äº†ã€‚</p>
<p>è¿™å’Œä¹‹å‰æ–¹æ¡ˆçš„åŒºåˆ«åœ¨äºï¼š<code>useEffect</code><strong>åªåœ¨ç»„ä»¶mountåè§¦å‘</strong>ã€‚æ‰€ä»¥åœ¨hydrationçš„æ—¶å€™ï¼Œ<code>useEffect</code>å¹¶æ²¡æœ‰è¢«è°ƒç”¨ï¼Œè¿™å°±ç¬¦åˆReactçš„æœŸå¾…äº†ï¼š</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- ç¼–è¯‘æ—¶ç”Ÿæˆçš„html --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Your Site<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- Reactåœ¨hydrateæ—¶æœŸå¾…çš„html --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Your Site<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>åœ¨è¿™æ¬¡æ¯”è¾ƒä¹‹åï¼Œæˆ‘ä»¬å°±è§¦å‘äº†re-renderï¼Œè¿™å°±è®©Reactå¯ä»¥åç»­è¿›è¡Œæ­£ç¡®çš„å¤„ç†ã€‚å®ƒä¼šæ³¨æ„åˆ°æˆ‘ä»¬éœ€è¦æ¸²æŸ“ä¸€äº›æ–°å†…å®¹â€”â€”ç™»å½•åçš„èœå•ã€ç™»å½•æŒ‰é’®ä¹‹ç±»çš„ï¼Œç„¶åå®ƒä¼šæ­£ç¡®çš„æ›´æ–°DOMã€‚</p>
<p>è¿ç”¨äº†è§£å†³æ–¹æ¡ˆåï¼Œçœ‹èµ·æ¥å°±åƒè¿™æ ·ï¼š</p>
<p><img src="https://s2.loli.net/2023/06/12/EDs1Wqw7fit2RGz.gif" alt="the-initial-solution.gif"/></p>
<h2 id="äºŒæ¬¡æ¸²æŸ“">äºŒæ¬¡æ¸²æŸ“</h2>
<p>ä½ æœ‰æ²¡æœ‰æ³¨æ„åˆ°éº¦ç‰‡ç›’ä¸Šçš„ä¿è´¨æ—¥æœŸå¹¶ä¸æ˜¯å’Œç›’å­ä¸Šçš„å…¶ä»–å›¾æ¡ˆä¸€èµ·å°åˆ·çš„ï¼Ÿå®ƒæ˜¯åé¢å°ä¸Šå»çš„ï¼š</p>
<p><img src="https://s2.loli.net/2023/06/12/esEOP35WGcBmYXg.png" alt="image.png"/></p>
<p>å…¶èƒŒåçš„é€»è¾‘æ˜¯ï¼šéº¦ç‰‡ç›’å°åˆ·åˆ†ä¸ºä¸¤æ­¥ã€‚é¦–å…ˆï¼Œå°†æ‰€æœ‰é€šç”¨çš„ä¸œè¥¿å°åˆ·ä¸Šå»ï¼šlogoã€å¡é€šæ–‡æœ¬ã€å¤§å¹…éº¦ç‰‡å›¾æ¡ˆ......è¿™äº›ä¸œè¥¿éƒ½æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥åœ¨å‡ ä¸ªæœˆå‰å°±å¤§é‡å°åˆ·ã€‚</p>
<p>ä½†ä¿è´¨æ—¥æœŸå°±ä¸èƒ½è¿™ä¹ˆå°åˆ·äº†ã€‚å› ä¸ºåœ¨é‚£ä¸ªæ—¶å€™ï¼Œéº¦ç‰‡ç›’çš„ç”Ÿå‚å•†ä¹Ÿä¸çŸ¥é“ä¿è´¨æ—¥æœŸæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Œé‚£äº›è¢«æ”¾è¿›ç›’å­é‡Œçš„éº¦ç‰‡æ­¤æ—¶å¯èƒ½è¿˜æ²¡ç”Ÿäº§å‡ºæ¥å‘¢ï¼æ‰€ä»¥å‚å•†å°±åœ¨é‚£ä¸ªä½ç½®å°äº†ä¸€ä¸ªè“æ–¹å—ã€‚åœ¨å‡ ä¸ªæœˆåï¼Œéº¦ç‰‡è¢«ç”Ÿäº§å‡ºæ¥å¹¶æ”¾è¿›ç›’å­ï¼Œå‚å•†å°±å¯ä»¥å°†ç”Ÿäº§æ—¥æœŸä¸€èµ·å°åˆ·ä¸Šå»å¹¶æ‰“åŒ…è¿è¾“äº†ã€‚</p>
<p><strong>äºŒæ¬¡æ¸²æŸ“</strong>å°±æ˜¯åŒæ ·çš„é“ç†ã€‚ç¬¬ä¸€æ¬¡æ¸²æŸ“å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ï¼Œæ‰€æœ‰çš„å›ºå®šã€éä¸ªäººçš„å†…å®¹éƒ½è¢«ç”Ÿæˆï¼Œå¹¶ç•™å¥½åŠ¨æ€å†…å®¹çš„æ’æ§½ã€‚ç„¶åï¼Œå½“Reactåœ¨å®¢æˆ·ç«¯mountåï¼Œç¬¬äºŒæ¬¡æ¸²æŸ“ä¼šæ ¹æ®å®¢æˆ·ç«¯çš„çŠ¶æ€å°†åŠ¨æ€å†…å®¹å¡è¿›å»ã€‚</p>
<h3 id="æ€§èƒ½å½±å“">æ€§èƒ½å½±å“</h3>
<p>äºŒæ¬¡æ¸²æŸ“çš„å¼Šç«¯åœ¨äºå®ƒä¼šå»¶è¿Ÿå¯äº¤äº’æ—¶é—´ã€‚å› ä¸ºåœ¨mountåç«‹å³åšä¸€æ¬¡å¼ºåˆ¶æ¸²æŸ“å…¶å®ä¸æ˜¯è¢«æ¨èçš„è¡Œä¸ºã€‚</p>
<p>è™½ç„¶è¯è¿™ä¹ˆè¯´ï¼Œä½†å¯¹äºå¤§å¤šæ•°åº”ç”¨æ¥è¯´ï¼ŒåŒºåˆ«åº”è¯¥ä¸å¤§ã€‚å› ä¸ºåŠ¨æ€å†…å®¹ä¸€èˆ¬æ˜¯ç›¸å¯¹è¾ƒå°‘çš„ï¼Œå› æ­¤å¯ä»¥è¢«è¾ƒå¿«çš„å¤„ç†ã€‚å¦‚æœä½ çš„åº”ç”¨æœ‰å¤§ç‰‡å¤§ç‰‡çš„åŠ¨æ€å†…å®¹ï¼Œé‚£å®ƒå…¶å®ä¸å¤ªèƒ½åˆ©ç”¨æå‰æ¸²æŸ“çš„ä¼˜åŠ¿ã€‚</p>
<p>æ€»ä¹‹ï¼Œå¦‚æœä½ å¾ˆåœ¨æ„æ€§èƒ½é—®é¢˜ï¼Œè¿˜æ˜¯è‡ªå·±åšä¸€äº›å®éªŒæœ€å¥½ã€‚</p>
<h2 id="ä»£ç æŠ½è±¡">ä»£ç æŠ½è±¡</h2>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘éœ€è¦å†™å¾ˆå¤šè¿™ç§äºŒæ¬¡æ¸²æŸ“çš„ä»£ç ï¼Œé‡å¤è¿™äº›é€»è¾‘æ˜¾ç„¶ä»¤äººç–²æƒ«ã€‚æ‰€ä»¥æˆ‘æŠ½è±¡äº†ä¸€ä¸ª<code>&lt;ClientOnly&gt;</code>ç»„ä»¶å»æŠ½è±¡å®ƒï¼š</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ClientOnly</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children<span class="token punctuation">,</span> <span class="token spread operator">...</span>delegated <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>hasMounted<span class="token punctuation">,</span> setHasMounted<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setHasMounted</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasMounted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token spread"><span class="token punctuation">{</span><span class="token spread operator">...</span>delegated<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>ç„¶åä½ å°±å¯ä»¥è¿™æ ·å»ä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼š</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ClientOnly</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Navigation</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ClientOnly</span></span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>æˆ‘ä»¬ç”šè‡³å¯ä»¥ä½¿ç”¨<strong>è‡ªå®šä¹‰hook</strong>ï¼š</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">useHasMounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>hasMounted<span class="token punctuation">,</span> setHasMounted<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setHasMounted</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> hasMounted<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Navigation</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> hasMounted <span class="token operator">=</span> <span class="token function">useHasMounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasMounted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AuthenticatedNav</span></span>
        <span class="token attr-name">user</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>user<span class="token punctuation">}</span></span>
      <span class="token punctuation">/&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Login</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>æœ€ç»ˆé€šè¿‡è¿™äº›æ–¹æ³•ï¼Œæˆ‘è§£å†³äº†åšå®¢çš„æ¸²æŸ“é—®é¢˜ï¼Œå¯å–œå¯è´ºå¯å–œå¯è´ºï¼</p>
<h2 id="èƒŒåçš„æ€è€ƒæ–¹å¼">èƒŒåçš„æ€è€ƒæ–¹å¼</h2>
<p>ä»£ç çš„æŠ½è±¡æ–¹æ³•å…¶å®ä¸æ˜¯æœ¬æ–‡çš„æ ¸å¿ƒï¼Œæ›´é‡è¦çš„è¿˜æ˜¯èƒŒåçš„æ€è€ƒæ–¹å¼ã€‚</p>
<p>å½“å¼€å‘Gatsby/Nextåº”ç”¨çš„æ—¶å€™ï¼Œæˆ‘å‘ç°äºŒæ¬¡æ¸²æŸ“çš„æƒ³æ³•éå¸¸æœ‰ç”¨ã€‚ç¬¬ä¸€æ¬¡æ¸²æŸ“å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ï¼Œå°†æ‰€æœ‰é€šç”¨çš„ã€å›ºå®šçš„ã€ç”¨æˆ·æ— å…³çš„å†…å®¹ç”Ÿæˆã€‚ä¹‹ååœ¨è¿è¡Œæ—¶ï¼Œç¬¬äºŒæ¬¡æ¸²æŸ“ä¼šå°†çŠ¶æ€æœ‰å…³çš„ã€ç”¨æˆ·ç›¸å…³çš„å†…å®¹å¡«å…¥ã€‚</p>
<hr/>
<p>è¯‘è€…ï¼šä»¥ä¸Šå°±æ˜¯å…¨éƒ¨çš„æ­£æ–‡å†…å®¹ï¼ŒåŸä½œè€…æœ€åè¿˜æ‰“äº†ä¸ªä»–çš„åŸåˆ›è¯¾ç¨‹å¹¿å‘Šï¼š<a href="https://joyofreact.com/" target="_blank" rel="noreferrer">The Joy of React</a>ï¼Œæ„Ÿå…´è¶£çš„è¯ä¹Ÿè¯·åŠ¡å¿…çœ‹çœ‹ï¼Œå› ä¸º<a href="https://www.joshwcomeau.com/" target="_blank" rel="noreferrer">Josh W. Comeau</a>äººå®¶ç¡®å®æ˜¯å¾ˆæœ‰æ°´å¹³ï¼</p>
<p>å¦åŸæ–‡åšå®¢æ˜¯ç”¨MDXå†™çš„ï¼Œå› æ­¤åŸåšå®¢åœ°å€é˜…è¯»å…¶å®ä½“éªŒä¼šæ›´å¥½ï¼Œæ‰€ä»¥ä¹Ÿæ¨èå¤§å®¶æœ‰æ¡ä»¶çš„è¯å»çœ‹çœ‹åŸæ–‡ï¼š<a href="https://www.joshwcomeau.com/react/the-perils-of-rehydration" target="_blank" rel="noreferrer">The Perils of Hydration</a>ã€‚</p>
<p>é‚£ä¹ˆä¸‹æ¬¡å†è§ï¼Œç¥æ‚¨ç”Ÿæ´»æ„‰å¿«ã€‚ğŸ‘»</p></div></div></div></div><div class="sc-3304c032-0 fiBoCN"><div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"the-perils-of-hydration","title":"ã€è¯‘ã€‘The Perils of Hydration / ä½ æ‰€ä¸äº†è§£çš„Hydration","date":"2023-06-12","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    strong: \"strong\",\n    a: \"a\",\n    hr: \"hr\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\",\n    h2: \"h2\",\n    ol: \"ol\",\n    li: \"li\",\n    blockquote: \"blockquote\",\n    ul: \"ul\",\n    h3: \"h3\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"è¯‘è€…ï¼šæœ¬äººå·²ç»ä½¿ç”¨äº†ç›¸å½“ä¸€æ®µæ—¶é—´çš„Next.jsï¼Œä¸”SSRã€SSGä¸€ç±»çš„æ¦‚å¿µä¹Ÿä»æ¥æ²¡æœ‰å›°æ‰°è¿‡æˆ‘......\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/06/12/dfMJrhHXB12NWTG.png\",\n        alt: \"image.png\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ç›´åˆ°æˆ‘ä¸ºäº†è¿›ä¸€æ­¥äº†è§£\", _jsx(_components.strong, {\n        children: \"Nextæ˜¯å¦‚ä½•åœ¨æœåŠ¡ç«¯è¿”å›HTMLç»™å®¢æˆ·ç«¯åï¼Œæ³¨å…¥Reactçš„äº‹ä»¶ä¸çŠ¶æ€ï¼Œè€Œæœç´¢Hydration\"\n      }), \"çš„æ—¶å€™ï¼Œæˆ‘å‘ç°äº†è¿™ç¯‡åšå®¢ï¼š\", _jsx(_components.a, {\n        href: \"https://www.joshwcomeau.com/react/the-perils-of-rehydration\",\n        children: \"The Perils of Hydration\"\n      }), \" â€”â€” ä¸€çœ‹åˆ°æ˜¯Josh W. Comeauå¤§ç¥çš„ç¾ä¸½åšå®¢ï¼Œå’±å°±çŸ¥é“ä¸å¾—ä¸è¯»äº†ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ç»“æœæ˜¯ï¼Œè¿™ç¯‡æ–‡ç« ä¸ä»…è§£ç­”äº†æˆ‘æœ€åˆçš„é—®é¢˜ï¼Œæ›´å¤šçš„æ˜¯é˜æ˜äº†åœ¨ä½¿ç”¨ Gatsby/Next è¿™æ ·çš„æ¡†æ¶å¼€å‘æ¶‰åŠSSRçš„åº”ç”¨æ—¶ï¼Œ\", _jsx(_components.strong, {\n        children: \"Hydration\"\n      }), \"æ˜¯å¦‚ä½•éœ€è¦å¼•èµ·æˆ‘ä»¬çš„è­¦è§‰çš„ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ä¸‹é¢å¼€å§‹æ­£æ–‡ï¼Œè‹±æ–‡åŸæ–‡åœ°å€ï¼š\", _jsx(_components.a, {\n        href: \"https://www.joshwcomeau.com/react/the-perils-of-rehydration\",\n        children: \"The Perils of Hydration\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.p, {\n      children: \"æœ€è¿‘æˆ‘é‡åˆ°äº†ä¸ªå¾ˆå¥‡æ€ªçš„é—®é¢˜â€”â€”æˆ‘çš„åšå®¢åœ¨å¼€å‘ç¯å¢ƒä¸‹å¾ˆå®Œç¾ï¼Œä½†åˆ°äº†ç”Ÿäº§ç¯å¢ƒï¼Œåšå®¢åº•éƒ¨å´ä¹±äº†å¥—ï¼š\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/06/08/gDhGNp45F8H9b1S.png\",\n        alt: \"ä¹±å¥—äº†çš„å¸ƒå±€.png\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"äºæ˜¯æˆ‘æ‰“å¼€devtoolsï¼ŒæŸ¥çœ‹Elementsï¼Œå‘ç°äº†é—®é¢˜æ‰€åœ¨â€”â€”Reactç»„ä»¶æ¸²æŸ“åˆ°äº†é”™è¯¯çš„ä½ç½®ï¼\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-html\",\n      children: _jsxs(_components.code, {\n        className: \"language-html\",\n        children: [_jsx(_components.span, {\n          className: \"token comment\",\n          children: \"\u003c!-- å¼€å‘æ—¶ï¼ŒNewsletterè¡¨å•åœ¨æ­£ç¡®çš„ä½ç½® --\u003e\"\n        }), \"\\n\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"main\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"div\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"class\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"ContentFooter\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  Last updated: \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"strong\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"Sometime\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"strong\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"div\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"div\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"class\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"NewsletterSignup\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"form\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"\u003c!-- æ³¨å†Œè¡¨å• --\u003e\"\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"form\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"div\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"main\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-html\",\n      children: _jsxs(_components.code, {\n        className: \"language-html\",\n        children: [_jsx(_components.span, {\n          className: \"token comment\",\n          children: \"\u003c!-- åˆ°äº†ç”Ÿäº§ç¯å¢ƒï¼ŒNewsletterè¡¨å•è¢«å¾€é‡Œæäº†ä¸€å±‚ï¼ï¼Ÿ --\u003e\"\n        }), \"\\n\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"main\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"div\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"class\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"ContentFooter\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  Last updated: \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"strong\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"Sometime\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"strong\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"div\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"class\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"NewsletterSignup\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"form\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"\u003c!-- æ³¨å†Œè¡¨å• --\u003e\"\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"form\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"div\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"div\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"main\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"è¿™åˆæ˜¯ä¸ºå•¥å‘¢ï¼Ÿéš¾é“æ˜¯Reactçš„Bugï¼Ÿæˆ‘çœ‹äº†çœ‹React Devtoolsçš„\\\"âš›ï¸ Components\\\"é€‰é¡¹å¡ï¼Œå‘ç°Reactç»„ä»¶çš„ä½ç½®å±…ç„¶æ˜¯æ­£ç¡®çš„ï¼Œé‚£è¿™ä¸æ˜¯ç¦»äº†è°±äº†ï¼\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æäº†åŠå¤©ï¼Œæˆ‘æœ€åæ„è¯†åˆ°ï¼Œæˆ‘å¯¹äºReactå¦‚ä½•å¤„ç†**æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰**æœ‰æ ¹æœ¬æ€§çš„é”™è¯¯ç†è§£ï¼Œè€Œä¸”è®¸å¤šçš„Reactå¼€å‘è€…å¯èƒ½ä¹Ÿæœ‰è¿™æ ·çš„è¯¯åˆ¤ï¼Œè¿™å¯èƒ½äº§ç”Ÿä¸¥é‡çš„é”™è¯¯ï¼\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"ä¸€äº›é—®é¢˜ä»£ç \",\n      children: \"ä¸€äº›é—®é¢˜ä»£ç \"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ä»¥ä¸‹æ˜¯ä¸€æ®µå¯ä»¥å¯¼è‡´æ¸²æŸ“é—®é¢˜çš„ä»£ç ç¤ºä¾‹ï¼Œä½ èƒ½å‘ç°å…¶ä¸­çš„é—®é¢˜ä¹ˆï¼Ÿ\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-jsx\",\n      children: _jsxs(_components.code, {\n        className: \"language-jsx\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"Navigation\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"typeof\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token dom variable\",\n          children: \"window\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"===\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'undefined'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword null nil\",\n          children: \"null\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// å‡è£…getUseræ–¹æ³•å­˜åœ¨\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// getUserandè¦ä¹ˆè¿”å›ä¸€ä¸ªuserå¯¹è±¡ï¼Œè¦ä¹ˆè¿”å›`null`\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" user \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"getUser\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"user\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n      \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"AuthenticatedNav\"\n            })]\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"user\"\n          }), _jsxs(_components.span, {\n            className: \"token script language-javascript\",\n            children: [_jsx(_components.span, {\n              className: \"token script-punctuation punctuation\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"user\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"/\u003e\"\n          })]\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"nav\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"\\n      \"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"a\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"href\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"/login\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"Login\"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"a\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"\\n    \"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"nav\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æˆ‘è¿‡å»ä¸€ç›´è§‰å¾—è¿™æ®µä»£ç æ˜¯okçš„ï¼Œç›´åˆ°æˆ‘çš„åšå®¢å¼€å§‹ä¸€äº›â€œæ¯•åŠ ç´¢å¼å¸ƒå±€â€......\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"è¿™ç¯‡æ–‡ç« ä¼šé˜æ˜ï¼š\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"æœåŠ¡ç«¯æ¸²æŸ“æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ä»¥ä¸Šçš„ä»£ç é€»è¾‘ä¸ºä½•ä¼šæœ‰é—®é¢˜ï¼Ÿ\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"å¦‚ä½•ç”¨æ›´å¥½çš„æ–¹å¼å®ç°åŒæ ·çš„æ•ˆæœï¼Ÿ\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"æœåŠ¡ç«¯æ¸²æŸ“çš„åŸºæœ¬çŸ¥è¯†\",\n      children: \"æœåŠ¡ç«¯æ¸²æŸ“çš„åŸºæœ¬çŸ¥è¯†\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ä¸ºäº†ç†è§£é—®é¢˜æ‰€åœ¨ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ç†è§£Gatsby/Nextè¿™æ ·çš„æ¡†æ¶ä¸ä¼ ç»Ÿçš„Reactæ­å»ºçš„å®¢æˆ·ç«¯åº”ç”¨çš„åŒºåˆ«ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å½“ä½ ä½¿ç”¨create-react-appå»æ­å»ºåº”ç”¨ï¼Œæ‰€æœ‰çš„æ¸²æŸ“éƒ½å‘ç”Ÿåœ¨å®¢æˆ·ç«¯ã€‚ä¸ç®¡ä½ çš„åº”ç”¨æœ‰å¤šä¹ˆå·¨å¤§ï¼Œæµè§ˆå™¨æœ€åˆæ¥æ”¶åˆ°çš„åˆå§‹HTMLå¤§æ¦‚éƒ½æ˜¯è¿™ä¸ªæ ·å­ï¼š\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-html\",\n      children: _jsxs(_components.code, {\n        className: \"language-html\",\n        children: [_jsxs(_components.span, {\n          className: \"token doctype\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003c!\"\n          }), _jsx(_components.span, {\n            className: \"token doctype-tag\",\n            children: \"DOCTYPE\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token name\",\n            children: \"html\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"html\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"lang\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"en\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"head\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"\u003c!-- è¿™é‡Œæœ‰äº›metaä¿¡æ¯ä¹‹ç±»çš„ --\u003e\"\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"head\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"body\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"div\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"id\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"root\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"div\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"script\"]\n          }), \"\\n      \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"src\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"/static/bundle.js\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token script\"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"script\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"script\"]\n          }), \"\\n      \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"src\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"/static/0.chunk.js\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token script\"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"script\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"script\"]\n          }), \"\\n      \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"src\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"/static/main.chunk.js\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token script\"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"script\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"body\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"html\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"é™¤äº†å‡ æ®µè„šæœ¬ï¼Œè¿™ä¸ªé¡µé¢åŸºæœ¬æ˜¯ç©ºçš„ã€‚ä¸€æ—¦\", _jsx(_components.strong, {\n        children: \"æµè§ˆå™¨\"\n      }), \"åŠ è½½å¹¶è§£æäº†è¿™äº›è„šæœ¬ï¼ŒReactå°±å¯ä»¥çŸ¥é“é¡µé¢åˆ°åº•è¯¥é•¿å•¥æ ·å­ï¼Œåˆ›å»ºDOMå¹¶æ³¨å…¥åˆ°é¡µé¢ä¸­ï¼Œå»å®é™…å®Œæˆé¡µé¢æ¸²æŸ“ã€‚è€Œè¿™ï¼Œå°±æ˜¯\", _jsx(_components.strong, {\n        children: \"å®¢æˆ·ç«¯æ¸²æŸ“ï¼ˆclient-side renderingï¼ŒCSRï¼‰\"\n      }), \"ï¼Œå› ä¸ºæ¸²æŸ“æ­¥éª¤éƒ½æ˜¯å‘ç”Ÿåœ¨å®¢æˆ·ç«¯ï¼ˆç”¨æˆ·çš„æµè§ˆå™¨ï¼‰ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ä»¥ä¸Šè¿™äº›æ­¥éª¤ï¼ˆåŠ è½½è§£æè„šæœ¬ï¼Œæ‰§è¡Œæ¸²æŸ“ï¼‰éƒ½éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥å½“æµè§ˆå™¨å’ŒReactå“¼å“§å“¼å“§çš„å¤„ç†é¡µé¢çš„æ—¶å€™ï¼Œç”¨æˆ·åªèƒ½ç›¯ç€ä¸€ç‰‡ç™½å±ï¼Œé‚£è¿™ä¸ªä½“éªŒå°±å¾ˆä¸€èˆ¬äº†ï¼Œåœ¨å¾ˆå¤šåœºæ™¯å¹¶éæ˜¯æœ€ä½³å®è·µã€‚\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"äºæ˜¯æœ‰äº›èªæ˜äººæ„è¯†åˆ°ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥åœ¨æœåŠ¡ç«¯è¿›è¡Œæ¸²æŸ“ï¼Œå®¢æˆ·ç«¯é¦–æ¬¡å°±å¯ä»¥ç›´æ¥æ‹¿åˆ°å®Œæ•´çš„HTMLï¼Œé‚£ç”¨æˆ·å°±ä¸ç”¨åœ¨ç­‰JSåŠ è½½çš„æ—¶å€™çœ‹ç™½å±äº†ã€‚è¿™ç§æ¸²æŸ“æ–¹å¼å°±æ˜¯\", _jsx(_components.strong, {\n        children: \"æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆserver-side renderingï¼ŒSSRï¼‰\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æœåŠ¡ç«¯æ¸²æŸ“å¯èƒ½ä¼šå¸¦æ¥æ€§èƒ½ä¸Šçš„æå‡ï¼Œä½†è¦æ³¨æ„ï¼Œæ¸²æŸ“æ˜¯åœ¨ç”¨æˆ·è¯·æ±‚æ—¶æ‰è¿›è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·è®¿é—® your-website.com çš„æ—¶å€™ï¼ŒReactä»ç„¶éœ€è¦å»å°†Reactç»„ä»¶æ¸²æŸ“ä¸ºå®é™…çš„HTMLï¼Œè€Œç”¨æˆ·æ­¤æ—¶çœ‹åˆ°çš„ä¹Ÿè¿˜æ˜¯ç™½å±ã€‚æˆ‘ä»¬åªæ˜¯æŠŠè¿™ä¸ªæ­¥éª¤ä»ç”¨æˆ·çš„è®¾å¤‡æŒªåˆ°äº†æœåŠ¡ç«¯è€Œå·²ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"äºæ˜¯å‘¢ï¼Œæ›´èªæ˜çš„äººæ„è¯†åˆ°ï¼Œè®¸å¤šç½‘é¡µçš„å¤§éƒ¨åˆ†ç»„æˆéƒ½æ˜¯é™æ€çš„ï¼Œè¿™äº›å†…å®¹å¯ä»¥åœ¨ç¼–è¯‘æ—¶ï¼ˆè€Œä¸æ˜¯ç”¨æˆ·è®¿é—®æ—¶ï¼‰å°±ç¡®å®šä¸‹æ¥ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æå‰åœ¨ç¼–è¯‘é˜¶æ®µä¾¿å°†åˆå§‹çš„HTMLæ„å»ºå¥½ï¼Œè¿™æ ·å½“ç”¨æˆ·è¯·æ±‚æ—¶å°±å¯ä»¥ç›´æ¥è¿”å›äº†ï¼è¿™æ ·ä¸€æ¥ï¼ŒReactåº”ç”¨çš„åŠ è½½å°±å’Œæœ€åŸºç¡€çš„HTMLç«™ç‚¹ä¸€æ ·å¿«ã€‚\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"äº‹å®ä¸Šï¼Œè¿™å°±æ˜¯Gatsbyï¼ˆä»¥åŠç‰¹å®šé…ç½®ä¸‹çš„Next.jsï¼‰çš„å·¥ä½œåŸç†ã€‚å½“è¿è¡Œ\", _jsx(_components.code, {\n        children: \"yarn build\"\n      }), \"çš„æ—¶å€™ï¼Œå®ƒä¼šä¸ºæ¯ä¸ªè·¯ç”±ç”Ÿæˆä¸€ä»½HTMLæ–‡æ¡£ã€‚æ‰€æœ‰çš„å­é¡µé¢ã€åšå®¢ä¹‹ç±»çš„éƒ½ä¼šç”Ÿæˆå¯¹åº”çš„HTMLï¼Œäºæ˜¯å®ƒä»¬å°±å¯ä»¥è¢«éšæ—¶æ‹¿å»ä½¿ç”¨ã€‚\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"ä»¥ä¸Šéƒ½æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ä¹ˆï¼Ÿ\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"æŠ€æœ¯ä¸Šæ¥è®²ï¼ŒGatsbyå°±æ˜¯â€œæœåŠ¡ç«¯æ¸²æŸ“â€ï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†Nodeï¼Œä½¿ç”¨äº†ReactDOMServer APIå»æ¸²æŸ“Reactåº”ç”¨ï¼Œä¼ ç»Ÿçš„SSRä¹Ÿæ˜¯è¿™æ ·çš„ã€‚ä½†æˆ‘ä¸ªäººæ›´å€¾å‘çš„æ¦‚å¿µæ˜¯ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ç‰¹æŒ‡å‘ç”Ÿåœ¨â€œæœåŠ¡ç«¯æ¥æ”¶åˆ°ç”¨æˆ·è¯·æ±‚å¹¶å“åº”â€çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œè€ŒåƒGatsbyè¿™æ ·åœ¨ç¼–è¯‘æ—¶æ¸²æŸ“ï¼Œæ˜¯æ„å»ºè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œå‘ç”Ÿçš„æ—©å¾—å¤šã€‚\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"å› æ­¤ï¼Œå¾ˆå¤šäººä¹Ÿå°†å…¶ç§°ä¸º**é™æ€é¡µé¢ç”Ÿæˆï¼ˆStatic Site Generationï¼ŒSSGï¼‰\", _jsx(_components.strong, {\n          children: \"æˆ–\"\n        }), \"æœåŠ¡ç«¯ç”Ÿæˆï¼ˆServer-Side Generatedï¼‰**æŠ€æœ¯ã€‚\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"å®¢æˆ·ç«¯çš„ä»£ç \",\n      children: \"å®¢æˆ·ç«¯çš„ä»£ç \"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å¦‚ä»Šçš„webåº”ç”¨éƒ½æ˜¯åŠ¨æ€çš„ã€å“åº”å¼çš„ï¼Œè€Œè¿™ç§ä½“éªŒæ˜¯æ— æ³•ä»…ä»…é€šè¿‡HTMLå’ŒCSSå®ç°çš„ã€‚æ‰€ä»¥æˆ‘ä»¬ä»ç„¶éœ€è¦è¿è¡Œå®¢æˆ·ç«¯çš„JSä»£ç ã€‚\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"å®¢æˆ·ç«¯åŒæ ·åŒ…å«äº†ä¸€ä»½Reactçš„ä»£ç ï¼Œå®ƒä¼šè¯•å›¾æç»˜å‡ºé¡µé¢åº”è¯¥æ˜¯é•¿ä»€ä¹ˆæ ·å­ï¼Œç„¶åå®ƒæ‹¿è‡ªå·±æƒ³è±¡å‡ºçš„æ ·å­å»ä¸å®¢æˆ·ç«¯çš„HTMLè¿›è¡ŒåŒ¹é…ã€‚è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±å«åš\", _jsx(_components.strong, {\n        children: \"Hydration\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ä¸¥æ ¼æ¥è¯´ï¼Œ\", _jsx(_components.strong, {\n        children: \"Hydration\"\n      }), \"å¹¶ä¸ç­‰åŒäº\", _jsx(_components.strong, {\n        children: \"æ¸²æŸ“ï¼ˆrenderï¼‰\"\n      }), \"ã€‚åœ¨å¸¸è§„çš„æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œå½“propså’Œstateæ”¹å˜ï¼ŒReactå°†ä¼šæ¯”è¾ƒæ”¹åŠ¨å¹¶æ›´æ–°DOMèŠ‚ç‚¹ã€‚åœ¨\", _jsx(_components.strong, {\n        children: \"hydration\"\n      }), \"è¿‡ç¨‹ä¸­ï¼ŒReactä¼šå‡è®¾DOMèŠ‚ç‚¹æ²¡æœ‰æ”¹å˜ï¼Œå¹¶å°è¯•å»åŒ¹é…å·²æœ‰çš„DOMã€‚\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"åŠ¨æ€æ¸²æŸ“\",\n      children: \"åŠ¨æ€æ¸²æŸ“\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å›å¤´çœ‹çœ‹ä¹‹å‰çš„ä»£ç ç‰‡æ®µï¼š\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-jsx\",\n      children: _jsxs(_components.code, {\n        className: \"language-jsx\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function-variable function\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"Navigation\"\n          })\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"typeof\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token dom variable\",\n          children: \"window\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"===\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'undefined'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword null nil\",\n          children: \"null\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// å‡è£…getUseræ–¹æ³•å­˜åœ¨\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// getUserandè¦ä¹ˆè¿”å›ä¸€ä¸ªuserå¯¹è±¡ï¼Œè¦ä¹ˆè¿”å›`null`\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" user \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"getUser\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"user\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n      \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"AuthenticatedNav\"\n            })]\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"user\"\n          }), _jsxs(_components.span, {\n            className: \"token script language-javascript\",\n            children: [_jsx(_components.span, {\n              className: \"token script-punctuation punctuation\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"user\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"/\u003e\"\n          })]\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"nav\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"\\n      \"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"a\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"href\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"/login\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"Login\"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"a\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"\\n    \"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"nav\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Navigationç»„ä»¶æœ‰ä¸‰ç§å¯èƒ½çš„è¿”å›ï¼š\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"å¦‚æœç”¨æˆ·å·²ç»ç™»å½•ï¼Œæ¸²æŸ“\", _jsx(_components.code, {\n          children: \"\u003cAuthenticatedNav\u003e\"\n        }), \"ç»„ä»¶ã€‚\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œæ¸²æŸ“\", _jsx(_components.code, {\n          children: \"\u003cUnauthenticatedNav\u003e\"\n        }), \"ç»„ä»¶ã€‚\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"å¦‚æœä¸çŸ¥é“ç”¨æˆ·æœ‰æ²¡æœ‰ç™»å½•ï¼Œå•¥éƒ½ä¸æ¸²æŸ“ã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"è–›å®šè°”çš„ç”¨æˆ·\",\n      children: \"è–›å®šè°”çš„ç”¨æˆ·\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"åœ¨ä¸€ä¸ª\", _jsx(_components.a, {\n        href: \"https://zh.wikipedia.org/wiki/%E8%96%9B%E5%AE%9A%E8%B0%94%E7%8C%AB\",\n        children: \"å¯æ€•çš„æ€æƒ³å®éªŒ\"\n      }), \"ä¸­ï¼Œå¥¥åœ°åˆ©ç‰©ç†å­¦è€…åŸƒå°”æ¸©Â·è–›å®šè°”æè¿°äº†è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæŠŠä¸€åªçŒ«æ”¾åœ¨ä¸€ä¸ªç›’å­é‡Œï¼Œåœ¨ä¸€å°æ—¶ä¸­ï¼Œç›’å­å†…æœ‰50%çš„æ¦‚ç‡ä¼šæ”¾å‡ºæ¯’æ°”ã€‚é‚£ä¹ˆåœ¨ä¸€å°æ—¶åï¼Œè¿™åªçŒ«æ˜¯ç”Ÿæ˜¯æ­»çš„æ¦‚ç‡ä¹Ÿä¸º50%ã€‚ä½†ç›´åˆ°ä½ æ‰“å¼€ç›’å­å»ç¡®è®¤è¿™ä»¶äº‹ä¹‹å‰ï¼Œè¿™åªçŒ«å¯ä»¥è¢«è®¤ä¸ºæ˜¯å¤„äº\", _jsx(_components.strong, {\n        children: \"ç”Ÿæˆ–æ­»çš„å åŠ çŠ¶æ€\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"åœ¨webåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¤„äºç±»ä¼¼çš„å›°å¢ƒï¼šåœ¨ç”¨æˆ·åˆšåˆšæ‰“å¼€æˆ‘ä»¬çš„ç«™ç‚¹æ—¶ï¼Œæˆ‘ä»¬æ— æ³•çŸ¥é“ç”¨æˆ·è¿‡å»æ˜¯å¦å·²ç»ç™»å½•ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"è¿™æ˜¯å› ä¸ºHTMLæ–‡æ¡£æ˜¯åœ¨ç¼–è¯‘æ—¶è¢«æ„å»ºçš„ã€‚å› æ­¤ä¸ç®¡æœ‰æ²¡æœ‰ç™»å½•è¿‡ï¼Œæ¯ä¸ªç”¨æˆ·ä¸€å¼€å§‹å¾—åˆ°çš„éƒ½æ˜¯åŒæ ·çš„ä¸€ä»½HTMLã€‚åªæœ‰å½“JSè¢«è§£ææ‰§è¡Œä¹‹åï¼Œæˆ‘ä»¬æ‰èƒ½æ ¹æ®ç”¨æˆ·çš„çŠ¶æ€å»æ›´æ–°UIï¼Œé‚£ä¹ˆè¿™ä¹‹é—´å°±æœ‰ä¸€ä¸ªæ˜æ˜¾çš„æ—¶é—´å·®ã€‚è¯´åˆ°åº•ï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥ä½¿ç”¨SSGï¼Œå°±æ˜¯ä¸ºäº†è®©æ…¢ç½‘ç”¨æˆ·èƒ½å¿«ç‚¹çœ‹åˆ°é¡µé¢ï¼Œä¸æ­¤åŒæ—¶åå°åœ¨åŠªåŠ›çš„ä¸‹è½½åŠ è½½è§£æJSè„šæœ¬ï¼Œé‚£è¿™ä¸ªè¿‡ç¨‹å°±ä¼šç›¸å½“æ¼«é•¿ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å› æ­¤æœ‰è®¸å¤šçš„webåº”ç”¨éƒ½ä¼šé»˜è®¤å±•ç¤ºâ€œæœªç™»å½•â€çš„çŠ¶æ€ï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸€ç§å¾ˆå¸¸è§çš„é—ªå±ç°è±¡ï¼š\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/06/12/UEm2jFgdQPtnJLV.gif\",\n        alt: \"guardian-with-effect.gif\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/06/12/XUJRljeEi8YIFBZ.gif\",\n        alt: \"airbnb.gif\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æˆ‘ä¹Ÿæ„å»ºäº†ä¸€ä¸ªGatsby demoå»é‡ç°è¿™ä¸ªé—®é¢˜ï¼š\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/06/12/UVxpwtm34odbOy6.gif\",\n        alt: \"the-problem.gif\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ä½ å¯ä»¥è‡ªå·±\", _jsx(_components.a, {\n        href: \"https://deploy-preview-1--cranky-darwin-49d519.netlify.app/\",\n        children: \"è¯•è¯•\"\n      }), \"ï¼Œç‚¹å‡»â€œLog inâ€å»ç™»å½•ï¼Œå†ç‚¹å‡»ä¸€æ¬¡å°±å¯ä»¥ç™»å‡ºã€‚\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"ä¸€æ¬¡ä¸å®Œç¾çš„å°è¯•\",\n      children: \"ä¸€æ¬¡ä¸å®Œç¾çš„å°è¯•\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬å°è¯•ç”¨ä¸‹é¢è¿™å‡ è¡Œä»£ç å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼š\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-jsx\",\n      children: _jsxs(_components.code, {\n        className: \"language-jsx\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function-variable function\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"Navigation\"\n          })\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"typeof\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token dom variable\",\n          children: \"window\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"===\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'undefined'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword null nil\",\n          children: \"null\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"è¿™ä¸»æ„çœ‹èµ·æ¥æŒºé è°±ï¼šæˆ‘ä»¬çš„ç¼–è¯‘å‘ç”Ÿåœ¨æœåŠ¡ç«¯è¿è¡Œæ—¶ï¼ŒNodeç¯å¢ƒã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨\", _jsx(_components.code, {\n        children: \"window\"\n      }), \"æ˜¯å¦å­˜åœ¨æ¥åˆ¤æ–­ä»£ç æ˜¯å¦è¿è¡Œåœ¨æœåŠ¡ç«¯ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œæˆ‘ä»¬å°±æ—©æ—©æ”¾å¼ƒæ¸²æŸ“ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"é—®é¢˜åœ¨äºï¼Œè¿™ç ´åäº†è§„åˆ™ã€‚ğŸ˜¬\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"hydration--render\",\n      children: \"Hydration â‰  render\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"åœ¨Reactåº”ç”¨hydrateçš„æ—¶å€™ï¼Œå®ƒä¼šå‡è®¾DOMç»“æ„æ˜¯åŒ¹é…çš„ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å½“Reactç¬¬ä¸€æ¬¡åœ¨å®¢æˆ·ç«¯æ‰§è¡Œï¼Œå®ƒä¼šåœ¨å¸ƒå±€æ‰€æœ‰ç»„ä»¶çš„æ—¶å€™æç»˜å‡ºDOMåº”è¯¥é•¿å•¥æ ·ã€‚ç„¶åå®ƒä¼šè¯•å›¾å°†å…¶åŒ¹é…é¡µé¢å·²æœ‰çš„DOMèŠ‚ç‚¹ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ—¶å®ƒå¯ä¸æ˜¯åœ¨æ¯”è¾ƒä¸¤è€…ä¹‹é—´çš„å·®å¼‚ï¼ˆå°±åƒå¸¸è§„çš„çŠ¶æ€æ›´æ–°æ—¶åšçš„é‚£æ ·ï¼‰ï¼Œè€Œåªæ˜¯åœ¨è¯•å›¾å°†äºŒè€…ç²˜åˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿è¿›è¡Œæœªæ¥çš„çŠ¶æ€æ›´æ–°ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å½“æˆ‘ä»¬é€šè¿‡åˆ¤æ–­ä»£ç è¿è¡Œç¯å¢ƒè€Œå»æ¸²æŸ“ä¸åŒçš„ç»„ä»¶ï¼Œä»¥ä¸Šç³»ç»Ÿå°±è¢«ç ´åäº†â€”â€”æˆ‘ä»¬åœ¨æœåŠ¡ç«¯æ¸²æŸ“çš„æ˜¯Aï¼Œå´è®©Reactåœ¨å®¢æˆ·ç«¯å¾—åˆ°äº†Bï¼š\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-html\",\n      children: _jsxs(_components.code, {\n        className: \"language-html\",\n        children: [_jsx(_components.span, {\n          className: \"token comment\",\n          children: \"\u003c!-- ç¼–è¯‘æ—¶ç”Ÿæˆçš„html --\u003e\"\n        }), \"\\n\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"header\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"h1\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"Your Site\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"h1\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"header\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-html\",\n      children: _jsxs(_components.code, {\n        className: \"language-html\",\n        children: [_jsx(_components.span, {\n          className: \"token comment\",\n          children: \"\u003c!-- Reactåœ¨hydrateæ—¶æœŸå¾…çš„html --\u003e\"\n        }), \"\\n\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"header\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"h1\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"Your Site\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"h1\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"nav\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"a\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"href\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"/login\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"Login\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"a\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"nav\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"header\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ç‰›å°±ç‰›åœ¨ï¼ŒReactæœ‰æ—¶è¿˜èƒ½å¤„ç†è¿™ç§ä¸åŒ¹é…çš„æƒ…å½¢ã€‚æ‰€ä»¥å³ä½¿ä½ å¹²è¿‡è¿™äº‹å„¿ï¼Œå¯èƒ½ä¹Ÿæ²¡æœ‰äº§ç”Ÿä¸¥é‡çš„åæœï¼Œä½†å¯è¿™æ˜¯åœ¨ç©ç«â€”â€”hydrationè¿‡ç¨‹æ˜¯ä¸ºäº†å°½å¿«çš„ç²˜åˆDOMä¸Reactï¼Œå®ƒå¯ä¸ä¼šå¸®ä½ æ­£ç¡®çº é”™ã€‚\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"gatsbyçš„ç‰¹åˆ«è¡Œä¸º\",\n      children: \"Gatsbyçš„ç‰¹åˆ«è¡Œä¸º\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Reactå›¢é˜Ÿæ„è¯†åˆ°äº†Hydrationä¸åŒ¹é…å¯èƒ½ä¼šå¯¼è‡´éš¾ä»¥æ’æŸ¥çš„é—®é¢˜ï¼Œæ‰€ä»¥ä»–ä»¬åœ¨consoleè­¦å‘Šä¸­ç‰¹åˆ«æŒ‡å‡ºäº†è¿™ç§é”™è¯¯ï¼š\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://i.stack.imgur.com/UdhVh.png\",\n        alt: \"error\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ä½†é—®é¢˜åœ¨äºï¼Œ\", _jsx(_components.strong, {\n        children: \"Gatsbyåªåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨SSRç›¸å…³API\"\n      }), \"ã€‚åˆç”±äºReactè­¦å‘Šåªåœ¨å¼€å‘ç¯å¢ƒæŠ›å‡ºï¼Œç»“æœå°±æ˜¯è¿™äº›è­¦å‘Šåœ¨Gatsbyé¡¹ç›®ä¸­\", _jsx(_components.strong, {\n        children: \"ä»æ¥ä¸ä¼šå‡ºç°\"\n      }), \"ğŸ˜±ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"è¿™å°±æ˜¯ä¸ªå–èˆçš„äº‹å„¿ï¼Œç”±äºåœ¨å¼€å‘ç¯å¢ƒç¦ç”¨äº†SSRï¼ŒGatsbyå¯ä»¥è®©ä½ å¿«é€Ÿå¾—åˆ°ä»£ç æ”¹åŠ¨çš„åé¦ˆï¼Œä¸å¾—ä¸è¯´è¿™ä¹Ÿéå¸¸éå¸¸é‡è¦ã€‚Gatsbyå°±æ˜¯è¿™æ ·æ¯”èµ·å‡†ç¡®æ€§æ›´åŠ é‡è§†é€Ÿåº¦çš„æ¡†æ¶ã€‚\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"è¿™é‡Œæœ‰ä¸€ä¸ªç›¸å…³çš„\", _jsx(_components.a, {\n        href: \"https://github.com/gatsbyjs/gatsby/issues/17914\",\n        children: \"issue\"\n      }), \"è¦æ±‚æ”¹è¿›è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯èƒ½åœ¨å°†æ¥çœ‹åˆ°hydrationç›¸å…³çš„è­¦å‘Šã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ç›®å‰å‘¢ï¼Œæˆ‘ä»¬åªèƒ½åœ¨ä½¿ç”¨Gatsbyæ—¶æ ¼å¤–å°å¿ƒäº†ï¼\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"è§£å†³æ–¹æ¡ˆ\",\n      children: \"è§£å†³æ–¹æ¡ˆ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"è¦é¿å…ä¸Šè¿°çš„é—®é¢˜ï¼Œå…³é”®å°±åœ¨äºhydrationè¿‡ç¨‹ä¸­ï¼ŒHTMLå¯ä»¥åŒ¹é…ä¸Šã€‚é‚£æˆ‘ä»¬è¦æ€ä¹ˆå¤„ç†åŠ¨æ€æ•°æ®å‘¢ï¼Ÿ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ä¸‹é¢æ˜¯è§£å†³æ–¹æ¡ˆï¼š\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-js\",\n      children: _jsxs(_components.code, {\n        className: \"language-js\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"Navigation\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// é‡ç‚¹ä»è¿™å„¿\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"[\"\n        }), \"hasMounted\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" setHasMounted\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"]\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token maybe-class-name\",\n          children: \"React\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: \"useState\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token boolean\",\n          children: \"false\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token maybe-class-name\",\n          children: \"React\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: \"useEffect\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"setHasMounted\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token boolean\",\n          children: \"true\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"[\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"]\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"!\"\n        }), \"hasMounted\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword null nil\",\n          children: \"null\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// åˆ°è¿™å„¿\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" user \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"getUser\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"user\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003c\"\n        }), _jsx(_components.span, {\n          className: \"token maybe-class-name\",\n          children: \"AuthenticatedNav\"\n        }), \"\\n        user\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"user\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"/\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003e\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003c\"\n        }), \"nav\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003e\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003c\"\n        }), \"a href\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"\\\"/login\\\"\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003e\"\n        }), _jsx(_components.span, {\n          className: \"token maybe-class-name\",\n          children: \"Login\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003c\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"/\"\n        }), \"a\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003e\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003c\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"/\"\n        }), \"nav\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003e\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"æˆ‘ä»¬å°†çŠ¶æ€\", _jsx(_components.code, {\n        children: \"hasMounted\"\n      }), \"åˆå§‹åŒ–\", _jsx(_components.code, {\n        children: \"false\"\n      }), \"ã€‚æ‰€ä»¥å½“\", _jsx(_components.code, {\n        children: \"hasMounted\"\n      }), \"ä¸º\", _jsx(_components.code, {\n        children: \"false\"\n      }), \"çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¸ç”¨æ¸²æŸ“å®é™…çš„å†…å®¹ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"åœ¨\", _jsx(_components.code, {\n        children: \"useEffect\"\n      }), \"ä¸­ï¼Œre-renderç«‹åˆ»è¢«è§¦å‘ï¼Œå¹¶å°†\", _jsx(_components.code, {\n        children: \"hasMounted\"\n      }), \"è®¾ç½®ä¸º\", _jsx(_components.code, {\n        children: \"true\"\n      }), \"ã€‚ç”±äºå€¼ä¸º\", _jsx(_components.code, {\n        children: \"true\"\n      }), \"ï¼Œå®é™…çš„å†…å®¹å°±ä¼šè¢«æ¸²æŸ“äº†ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"è¿™å’Œä¹‹å‰æ–¹æ¡ˆçš„åŒºåˆ«åœ¨äºï¼š\", _jsx(_components.code, {\n        children: \"useEffect\"\n      }), _jsx(_components.strong, {\n        children: \"åªåœ¨ç»„ä»¶mountåè§¦å‘\"\n      }), \"ã€‚æ‰€ä»¥åœ¨hydrationçš„æ—¶å€™ï¼Œ\", _jsx(_components.code, {\n        children: \"useEffect\"\n      }), \"å¹¶æ²¡æœ‰è¢«è°ƒç”¨ï¼Œè¿™å°±ç¬¦åˆReactçš„æœŸå¾…äº†ï¼š\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-html\",\n      children: _jsxs(_components.code, {\n        className: \"language-html\",\n        children: [_jsx(_components.span, {\n          className: \"token comment\",\n          children: \"\u003c!-- ç¼–è¯‘æ—¶ç”Ÿæˆçš„html --\u003e\"\n        }), \"\\n\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"header\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"h1\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"Your Site\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"h1\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"header\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-html\",\n      children: _jsxs(_components.code, {\n        className: \"language-html\",\n        children: [_jsx(_components.span, {\n          className: \"token comment\",\n          children: \"\u003c!-- Reactåœ¨hydrateæ—¶æœŸå¾…çš„html --\u003e\"\n        }), \"\\n\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"header\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"h1\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"Your Site\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"h1\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"header\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"åœ¨è¿™æ¬¡æ¯”è¾ƒä¹‹åï¼Œæˆ‘ä»¬å°±è§¦å‘äº†re-renderï¼Œè¿™å°±è®©Reactå¯ä»¥åç»­è¿›è¡Œæ­£ç¡®çš„å¤„ç†ã€‚å®ƒä¼šæ³¨æ„åˆ°æˆ‘ä»¬éœ€è¦æ¸²æŸ“ä¸€äº›æ–°å†…å®¹â€”â€”ç™»å½•åçš„èœå•ã€ç™»å½•æŒ‰é’®ä¹‹ç±»çš„ï¼Œç„¶åå®ƒä¼šæ­£ç¡®çš„æ›´æ–°DOMã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"è¿ç”¨äº†è§£å†³æ–¹æ¡ˆåï¼Œçœ‹èµ·æ¥å°±åƒè¿™æ ·ï¼š\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/06/12/EDs1Wqw7fit2RGz.gif\",\n        alt: \"the-initial-solution.gif\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"äºŒæ¬¡æ¸²æŸ“\",\n      children: \"äºŒæ¬¡æ¸²æŸ“\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ä½ æœ‰æ²¡æœ‰æ³¨æ„åˆ°éº¦ç‰‡ç›’ä¸Šçš„ä¿è´¨æ—¥æœŸå¹¶ä¸æ˜¯å’Œç›’å­ä¸Šçš„å…¶ä»–å›¾æ¡ˆä¸€èµ·å°åˆ·çš„ï¼Ÿå®ƒæ˜¯åé¢å°ä¸Šå»çš„ï¼š\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/06/12/esEOP35WGcBmYXg.png\",\n        alt: \"image.png\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å…¶èƒŒåçš„é€»è¾‘æ˜¯ï¼šéº¦ç‰‡ç›’å°åˆ·åˆ†ä¸ºä¸¤æ­¥ã€‚é¦–å…ˆï¼Œå°†æ‰€æœ‰é€šç”¨çš„ä¸œè¥¿å°åˆ·ä¸Šå»ï¼šlogoã€å¡é€šæ–‡æœ¬ã€å¤§å¹…éº¦ç‰‡å›¾æ¡ˆ......è¿™äº›ä¸œè¥¿éƒ½æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥åœ¨å‡ ä¸ªæœˆå‰å°±å¤§é‡å°åˆ·ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ä½†ä¿è´¨æ—¥æœŸå°±ä¸èƒ½è¿™ä¹ˆå°åˆ·äº†ã€‚å› ä¸ºåœ¨é‚£ä¸ªæ—¶å€™ï¼Œéº¦ç‰‡ç›’çš„ç”Ÿå‚å•†ä¹Ÿä¸çŸ¥é“ä¿è´¨æ—¥æœŸæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Œé‚£äº›è¢«æ”¾è¿›ç›’å­é‡Œçš„éº¦ç‰‡æ­¤æ—¶å¯èƒ½è¿˜æ²¡ç”Ÿäº§å‡ºæ¥å‘¢ï¼æ‰€ä»¥å‚å•†å°±åœ¨é‚£ä¸ªä½ç½®å°äº†ä¸€ä¸ªè“æ–¹å—ã€‚åœ¨å‡ ä¸ªæœˆåï¼Œéº¦ç‰‡è¢«ç”Ÿäº§å‡ºæ¥å¹¶æ”¾è¿›ç›’å­ï¼Œå‚å•†å°±å¯ä»¥å°†ç”Ÿäº§æ—¥æœŸä¸€èµ·å°åˆ·ä¸Šå»å¹¶æ‰“åŒ…è¿è¾“äº†ã€‚\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"äºŒæ¬¡æ¸²æŸ“\"\n      }), \"å°±æ˜¯åŒæ ·çš„é“ç†ã€‚ç¬¬ä¸€æ¬¡æ¸²æŸ“å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ï¼Œæ‰€æœ‰çš„å›ºå®šã€éä¸ªäººçš„å†…å®¹éƒ½è¢«ç”Ÿæˆï¼Œå¹¶ç•™å¥½åŠ¨æ€å†…å®¹çš„æ’æ§½ã€‚ç„¶åï¼Œå½“Reactåœ¨å®¢æˆ·ç«¯mountåï¼Œç¬¬äºŒæ¬¡æ¸²æŸ“ä¼šæ ¹æ®å®¢æˆ·ç«¯çš„çŠ¶æ€å°†åŠ¨æ€å†…å®¹å¡è¿›å»ã€‚\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"æ€§èƒ½å½±å“\",\n      children: \"æ€§èƒ½å½±å“\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"äºŒæ¬¡æ¸²æŸ“çš„å¼Šç«¯åœ¨äºå®ƒä¼šå»¶è¿Ÿå¯äº¤äº’æ—¶é—´ã€‚å› ä¸ºåœ¨mountåç«‹å³åšä¸€æ¬¡å¼ºåˆ¶æ¸²æŸ“å…¶å®ä¸æ˜¯è¢«æ¨èçš„è¡Œä¸ºã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"è™½ç„¶è¯è¿™ä¹ˆè¯´ï¼Œä½†å¯¹äºå¤§å¤šæ•°åº”ç”¨æ¥è¯´ï¼ŒåŒºåˆ«åº”è¯¥ä¸å¤§ã€‚å› ä¸ºåŠ¨æ€å†…å®¹ä¸€èˆ¬æ˜¯ç›¸å¯¹è¾ƒå°‘çš„ï¼Œå› æ­¤å¯ä»¥è¢«è¾ƒå¿«çš„å¤„ç†ã€‚å¦‚æœä½ çš„åº”ç”¨æœ‰å¤§ç‰‡å¤§ç‰‡çš„åŠ¨æ€å†…å®¹ï¼Œé‚£å®ƒå…¶å®ä¸å¤ªèƒ½åˆ©ç”¨æå‰æ¸²æŸ“çš„ä¼˜åŠ¿ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æ€»ä¹‹ï¼Œå¦‚æœä½ å¾ˆåœ¨æ„æ€§èƒ½é—®é¢˜ï¼Œè¿˜æ˜¯è‡ªå·±åšä¸€äº›å®éªŒæœ€å¥½ã€‚\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"ä»£ç æŠ½è±¡\",\n      children: \"ä»£ç æŠ½è±¡\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘éœ€è¦å†™å¾ˆå¤šè¿™ç§äºŒæ¬¡æ¸²æŸ“çš„ä»£ç ï¼Œé‡å¤è¿™äº›é€»è¾‘æ˜¾ç„¶ä»¤äººç–²æƒ«ã€‚æ‰€ä»¥æˆ‘æŠ½è±¡äº†ä¸€ä¸ª\", _jsx(_components.code, {\n        children: \"\u003cClientOnly\u003e\"\n      }), \"ç»„ä»¶å»æŠ½è±¡å®ƒï¼š\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-jsx\",\n      children: _jsxs(_components.code, {\n        className: \"language-jsx\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"ClientOnly\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsxs(_components.span, {\n          className: \"token parameter\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \" children\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token spread operator\",\n            children: \"...\"\n          }), \"delegated \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"[\"\n        }), \"hasMounted\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" setHasMounted\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"]\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token maybe-class-name\",\n          children: \"React\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: \"useState\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token boolean\",\n          children: \"false\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token maybe-class-name\",\n          children: \"React\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: \"useEffect\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"setHasMounted\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token boolean\",\n          children: \"true\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"[\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"]\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"!\"\n        }), \"hasMounted\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword null nil\",\n          children: \"null\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"div\"]\n          }), \" \", _jsxs(_components.span, {\n            className: \"token spread\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), _jsx(_components.span, {\n              className: \"token spread operator\",\n              children: \"...\"\n            }), \"delegated\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"\\n      \"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"children\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"\\n    \"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"div\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ç„¶åä½ å°±å¯ä»¥è¿™æ ·å»ä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼š\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-jsx\",\n      children: _jsxs(_components.code, {\n        className: \"language-jsx\",\n        children: [_jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"ClientOnly\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"\\n  \"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Navigation\"\n            })]\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"/\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"ClientOnly\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"æˆ‘ä»¬ç”šè‡³å¯ä»¥ä½¿ç”¨\", _jsx(_components.strong, {\n        children: \"è‡ªå®šä¹‰hook\"\n      }), \"ï¼š\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-js\",\n      children: _jsxs(_components.code, {\n        className: \"language-js\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"useHasMounted\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"[\"\n        }), \"hasMounted\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" setHasMounted\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"]\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token maybe-class-name\",\n          children: \"React\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: \"useState\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token boolean\",\n          children: \"false\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token maybe-class-name\",\n          children: \"React\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: \"useEffect\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"setHasMounted\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token boolean\",\n          children: \"true\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"[\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"]\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" hasMounted\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-jsx\",\n      children: _jsxs(_components.code, {\n        className: \"language-jsx\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"Navigation\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" hasMounted \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"useHasMounted\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"!\"\n        }), \"hasMounted\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword null nil\",\n          children: \"null\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" user \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"getUser\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"user\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n      \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"AuthenticatedNav\"\n            })]\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"user\"\n          }), _jsxs(_components.span, {\n            className: \"token script language-javascript\",\n            children: [_jsx(_components.span, {\n              className: \"token script-punctuation punctuation\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"user\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"/\u003e\"\n          })]\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"nav\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"\\n      \"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), \"a\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token attr-name\",\n            children: \"href\"\n          }), _jsxs(_components.span, {\n            className: \"token attr-value\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation attr-equals\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            }), \"/login\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\\\"\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"Login\"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"a\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"token plain-text\",\n          children: \"\\n    \"\n        }), _jsxs(_components.span, {\n          className: \"token tag\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c/\"\n            }), \"nav\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\u003e\"\n          })]\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æœ€ç»ˆé€šè¿‡è¿™äº›æ–¹æ³•ï¼Œæˆ‘è§£å†³äº†åšå®¢çš„æ¸²æŸ“é—®é¢˜ï¼Œå¯å–œå¯è´ºå¯å–œå¯è´ºï¼\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"èƒŒåçš„æ€è€ƒæ–¹å¼\",\n      children: \"èƒŒåçš„æ€è€ƒæ–¹å¼\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ä»£ç çš„æŠ½è±¡æ–¹æ³•å…¶å®ä¸æ˜¯æœ¬æ–‡çš„æ ¸å¿ƒï¼Œæ›´é‡è¦çš„è¿˜æ˜¯èƒŒåçš„æ€è€ƒæ–¹å¼ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å½“å¼€å‘Gatsby/Nextåº”ç”¨çš„æ—¶å€™ï¼Œæˆ‘å‘ç°äºŒæ¬¡æ¸²æŸ“çš„æƒ³æ³•éå¸¸æœ‰ç”¨ã€‚ç¬¬ä¸€æ¬¡æ¸²æŸ“å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ï¼Œå°†æ‰€æœ‰é€šç”¨çš„ã€å›ºå®šçš„ã€ç”¨æˆ·æ— å…³çš„å†…å®¹ç”Ÿæˆã€‚ä¹‹ååœ¨è¿è¡Œæ—¶ï¼Œç¬¬äºŒæ¬¡æ¸²æŸ“ä¼šå°†çŠ¶æ€æœ‰å…³çš„ã€ç”¨æˆ·ç›¸å…³çš„å†…å®¹å¡«å…¥ã€‚\"\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.p, {\n      children: [\"è¯‘è€…ï¼šä»¥ä¸Šå°±æ˜¯å…¨éƒ¨çš„æ­£æ–‡å†…å®¹ï¼ŒåŸä½œè€…æœ€åè¿˜æ‰“äº†ä¸ªä»–çš„åŸåˆ›è¯¾ç¨‹å¹¿å‘Šï¼š\", _jsx(_components.a, {\n        href: \"https://joyofreact.com/\",\n        children: \"The Joy of React\"\n      }), \"ï¼Œæ„Ÿå…´è¶£çš„è¯ä¹Ÿè¯·åŠ¡å¿…çœ‹çœ‹ï¼Œå› ä¸º\", _jsx(_components.a, {\n        href: \"https://www.joshwcomeau.com/\",\n        children: \"Josh W. Comeau\"\n      }), \"äººå®¶ç¡®å®æ˜¯å¾ˆæœ‰æ°´å¹³ï¼\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"å¦åŸæ–‡åšå®¢æ˜¯ç”¨MDXå†™çš„ï¼Œå› æ­¤åŸåšå®¢åœ°å€é˜…è¯»å…¶å®ä½“éªŒä¼šæ›´å¥½ï¼Œæ‰€ä»¥ä¹Ÿæ¨èå¤§å®¶æœ‰æ¡ä»¶çš„è¯å»çœ‹çœ‹åŸæ–‡ï¼š\", _jsx(_components.a, {\n        href: \"https://www.joshwcomeau.com/react/the-perils-of-rehydration\",\n        children: \"The Perils of Hydration\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"é‚£ä¹ˆä¸‹æ¬¡å†è§ï¼Œç¥æ‚¨ç”Ÿæ´»æ„‰å¿«ã€‚ğŸ‘»\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"description":"æœ¬æ–‡ä»æ˜¯ä¸€ç¯‡è¯‘æ–‡ï¼Œå¦‚æœä½ æ˜¯Next/Gatsbyçš„å¼€å‘è€…ï¼Œä½ å¯èƒ½å¬è¯´è¿‡hydrationï¼Œè¿™ä¸€æ­¥éª¤ä¸SSR+ReactæŠ€æœ¯æ¯æ¯ç›¸å…³ï¼ˆäº‹å®ä¸Šæˆ‘çœ‹åˆ°è¿‡å¤§é‡ç›¸å…³æŠ¥é”™ï¼‰ï¼Œä½†ä½ å¯èƒ½ä»æœªæ·±å…¥è€ƒè™‘è¿‡å…¶èƒŒåçš„åŸç†ï¼Œè€Œè¿™ç”šè‡³å®¹æ˜“å¯¼è‡´ä¸€äº›å¸¸è§çš„é”™è¯¯......","usedCustomComponentNames":[]},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"the-perils-of-hydration"},"buildId":"_ClwSS3-Ivr8G5PbtsguX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>