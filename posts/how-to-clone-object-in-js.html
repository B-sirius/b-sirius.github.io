<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>LWDW!</title><meta name="description" content="jså¯¹è±¡å…‹éš†ä¹‹è°œ"/><meta property="og:title" content="jså¯¹è±¡å…‹éš†ä¹‹è°œ"/><meta property="og:description" content="å¦‚ä½•åœ¨jsä¸­è·å¾—ä¸€ä¸ªå…‹éš†å¯¹è±¡ï¼Œå¯ä»¥è¯´æ˜¯å–œé—»ä¹è§çš„è¯é¢˜äº†ã€‚ç›¸ä¿¡å¤§å®¶éƒ½äº†è§£å¼•ç”¨ç±»å‹ä¸åŸºæœ¬ç±»å‹ï¼Œä¹Ÿéƒ½çŸ¥é“æœ‰ç§å«åšæ·±æ‹·è´çš„ä¸œè¥¿ï¼Œä¼ è¯´æ·±æ‹·è´å¯ä»¥è·å¾—ä¸€ä¸ªå…‹éš†å¯¹è±¡ï¼é‚£ä¹ˆåƒæˆ‘è¿™æ ·çš„èŒæ–°è‡ªç„¶å°±å»å­¦ä¹ äº†ä¸€æ³¢ï¼Œæˆ‘ä»¬èƒ½æ‰¾åˆ°......"/><meta name="next-head-count" content="6"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#ffffff"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#000"/><meta property="og:type" content="website"/><meta property="og:image" content="https://s2.loli.net/2023/01/18/42YTZxzePtR7jy9.png"/><meta property="og:url" content="https://b-sirius.github.io"/><link rel="preload" href="/_next/static/css/aef510c8abf24c2c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aef510c8abf24c2c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b51a0fb142b75fa0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b51a0fb142b75fa0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-f164db4954bac6ec.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-673a4fae4a27af6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0da236044dc4e5fc.js" defer=""></script><script src="/_next/static/chunks/664-1b4479b4462ded63.js" defer=""></script><script src="/_next/static/chunks/332-e879213584d084bf.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-ca2b821b98344017.js" defer=""></script><script src="/_next/static/8iFDsdjaTfV5KLx0s_qSu/_buildManifest.js" defer=""></script><script src="/_next/static/8iFDsdjaTfV5KLx0s_qSu/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="sc-590e23a2-0 iUjvom"><div class="sc-7fa12c98-0 iqAzDm"><div class="sc-357ac6e1-1 blSmbb"><div class="sc-357ac6e1-0 fqUBXX"><a class="sc-357ac6e1-2 gfNIvm" href="/">[<!-- -->Home<!-- -->]</a><a class="sc-357ac6e1-2 gfNIvm" href="/posts">[<!-- -->Posts<!-- -->]</a><a class="sc-357ac6e1-3 eNeEmH" rel="noopener noreferrer" target="_blank" href="https://github.com/B-sirius">[<!-- -->Github<!-- -->]</a><a class="sc-357ac6e1-3 eNeEmH" rel="noopener noreferrer" target="_blank" href="https://b-sirius.github.io/rss.xml">[<!-- -->RSS<!-- -->]</a></div><div class="sc-f5ce872-0 drvesR"><h1 class="sc-f5ce872-1 jPBPjm">LWDW!</h1><p class="sc-f5ce872-2 djaGsH">Learn the work from doing the workğŸº</p></div></div><div class="sc-920e94b6-0 sc-659069c1-0 cMfBpD jHWfVM"><div><div class="sc-32c5999b-0 iFBmZi"><div class="sc-32c5999b-2 fHkOeB">jså¯¹è±¡å…‹éš†ä¹‹è°œ</div><div class="sc-32c5999b-3 deKveP">Posted on <!-- -->2017-08-26</div></div></div></div><div class="sc-920e94b6-0 cMfBpD"><div><div class="sc-32c5999b-1 fNXLto"><div class="sc-ba7d3cad-0 gyeaXD"><div><html><head></head><body><h2 id="å…ˆè°ˆè°ˆæ·±æ‹·è´">å…ˆè°ˆè°ˆæ·±æ‹·è´</h2>
<p>å¦‚ä½•åœ¨jsä¸­è·å¾—ä¸€ä¸ªå…‹éš†å¯¹è±¡ï¼Œå¯ä»¥è¯´æ˜¯å–œé—»ä¹è§çš„è¯é¢˜äº†ã€‚ç›¸ä¿¡å¤§å®¶éƒ½äº†è§£å¼•ç”¨ç±»å‹ä¸åŸºæœ¬ç±»å‹ï¼Œä¹Ÿéƒ½çŸ¥é“æœ‰ç§å«åšæ·±æ‹·è´çš„ä¸œè¥¿ï¼Œä¼ è¯´æ·±æ‹·è´å¯ä»¥è·å¾—ä¸€ä¸ªå…‹éš†å¯¹è±¡ï¼é‚£ä¹ˆåƒæˆ‘è¿™æ ·çš„èŒæ–°è‡ªç„¶å°±å»å­¦ä¹ äº†ä¸€æ³¢ï¼Œæˆ‘ä»¬èƒ½æ‰¾åˆ°çš„ä»£ç åŸºæœ¬éƒ½æ˜¯è¿™æ ·çš„ï¼š</p>
<h3 id="ä½é…ç‰ˆæ·±æ‹·è´">ä½é…ç‰ˆæ·±æ‹·è´</h3>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">deepClone</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currobj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> currobj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword control-flow">return</span> currobj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">if</span><span class="token punctuation">(</span>currobj <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> newobj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword control-flow">else</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> newobj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> currobj<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> currobj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            newobj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> currobj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword control-flow">else</span><span class="token punctuation">{</span>
            newobj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>currobj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>    
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">return</span> newobj
<span class="token punctuation">}</span>
</code></pre>
<p>å•§å•§çœŸæ˜¯å¾ˆç²¾å·§å•Šï¼å¯¹äºArrayå’Œæ™®é€šObjectéƒ½åšäº†åŒºåˆ†ã€‚ä½†æ˜¯æ˜¾ç„¶ï¼Œå€ŸåŠ©é€’å½’å®ç°çš„æ·±æ‹·è´å¦‚æœè¦å…‹éš†å±‚çº§å¾ˆå¤šçš„å¤æ‚å¯¹è±¡ï¼Œå®¹æ˜“é€ æˆå†…å­˜æº¢å‡ºï¼Œå’±å¯ä»¥åšå‡ºä¸€ä¸ªå°å°æ”¹è¿›ï¼š</p>
<h3 id="çœ‹èµ·æ¥é…·ä¸€ç‚¹çš„æ·±æ‹·è´">çœ‹èµ·æ¥é…·ä¸€ç‚¹çš„æ·±æ‹·è´</h3>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">deepClone</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currobj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> currobj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword control-flow">return</span> currobj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">if</span><span class="token punctuation">(</span>currobj <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> newobj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword control-flow">else</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> newobj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> currQue <span class="token operator">=</span> <span class="token punctuation">[</span>currobj<span class="token punctuation">]</span><span class="token punctuation">,</span> newQue <span class="token operator">=</span> <span class="token punctuation">[</span>newobj<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//å…³é”®åœ¨è¿™é‡Œ</span>
    <span class="token keyword control-flow">while</span><span class="token punctuation">(</span>currQue<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> obj1 <span class="token operator">=</span> currQue<span class="token punctuation">.</span><span class="token method function property-access">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>obj2 <span class="token operator">=</span> newQue<span class="token punctuation">.</span><span class="token method function property-access">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj1<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj1<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                obj2<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj1<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword control-flow">else</span><span class="token punctuation">{</span>
                <span class="token keyword control-flow">if</span><span class="token punctuation">(</span>obj1<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
                    obj2<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword control-flow">else</span><span class="token punctuation">{</span>
                    obj2<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token comment">// å¦™å•Š</span>
                currQue<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>obj1<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                newQue<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>obj2<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">return</span> newobj<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>è¿™é‡Œåˆ©ç”¨äº†ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œè¿˜ç®—ä¼˜é›…çš„é¿å…äº†é€’å½’çš„å¼Šç«¯ã€‚</p>
<h3 id="jsonåºåˆ—åŒ–">JSONåºåˆ—åŒ–</h3>
<p>è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯åˆ©ç”¨JSONçš„å†…ç½®æ–¹æ³•ï¼Œå³æ‰€è°“çš„JSONåºåˆ—åŒ–ï¼š</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">deepClone</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> str<span class="token punctuation">,</span> newobj <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token property-access">constructor</span> <span class="token operator">===</span> <span class="token known-class-name class-name">Array</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        str <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//ç³»åˆ—åŒ–å¯¹è±¡</span>
        newobj <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¿˜åŸ</span>
    <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
            newobj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> 
            <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">return</span> newobj<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>ä¸è¿‡ä¸æ‰“ç´§ï¼Œå®ƒä¸ä¸Šé¢æ–¹æ³•çš„æ•ˆæœåŸºæœ¬ç›¸åŒã€‚</p>
<h3 id="ä¸Šé¢å‡ ç§æ·±æ‹·è´çš„å±€é™">ä¸Šé¢å‡ ç§æ·±æ‹·è´çš„å±€é™</h3>
<p>æ‹œæ‰˜ï¼Œå¤§å®¶éƒ½å¾ˆæ‡‚å¯¹è±¡ï¼Œä¸Šé¢çš„æ–¹æ³•æœ‰å‡ ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼š</p>
<ul>
<li>é‡åˆ°å¯¹è±¡å†…éƒ¨çš„<strong>å¾ªç¯å¼•ç”¨</strong>ç›´æ¥gg</li>
<li>æ— æ³•æ‹·è´<strong>å‡½æ•°</strong>ï¼ˆtypeof å‡½æ•° å¾—åˆ°çš„æ˜¯ 'function'ï¼‰ï¼Œå‡½æ•°ä»æ˜¯å¼•ç”¨ç±»å‹</li>
<li>æ— æ³•æ­£ç¡®ä¿ç•™<strong>å®ä¾‹å¯¹è±¡çš„åŸå‹</strong></li>
</ul>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹æ”¹é€ ä¸Šé¢çš„æ·±æ‹·è´æ–¹æ³•æ¥è¿›è¡Œå®Œç¾çš„å…‹éš†äº†ï¼.............ä¹ˆï¼Ÿ</p>
<h2 id="ç­‰ä¸‹ä½ åˆ°åº•è¦å•¥">ç­‰ä¸‹ï¼Œä½ åˆ°åº•è¦å•¥</h2>
<p>å…‹éš†å…‹éš†ï¼Œæˆ‘ä»¬å¹³å¸¸æŠŠå®ƒæŒ‚åœ¨å˜´ä¸Šï¼Œä½†é¢å¯¹ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬çœŸæ­£æƒ³å…‹éš†çš„æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘æƒ³åœ¨99%çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æƒ³å…‹éš†çš„æ˜¯å¯¹è±¡çš„<strong>æ•°æ®</strong>ï¼Œè€Œä¿ç•™å®ƒçš„<strong>åŸå‹å¼•ç”¨</strong>å’Œ<strong>æ–¹æ³•å¼•ç”¨</strong>ï¼Œå› æ­¤ä¸Šé¢æåˆ°çš„å±€é™ä¸­çš„ç¬¬äºŒç‚¹ï¼ŒåŸºæœ¬å¯ä»¥ä¸è€ƒè™‘ã€‚ç°åœ¨å’±å†æ¥çœ‹çœ‹æ€ä¹ˆè§£å†³å‰©ä¸‹ä¸¤ç‚¹ã€‚</p>
<h2 id="è§£å†³å¾ªç¯å¼•ç”¨">è§£å†³å¾ªç¯å¼•ç”¨</h2>
<p>é¦–å…ˆææ¸…ä»€ä¹ˆæ˜¯å¾ªç¯å¼•ç”¨ï¼Œå¸¸è§çš„å¾ªç¯å¼•ç”¨æœ‰ä¸¤ç§ï¼š</p>
<h3 id="è‡ªèº«å¾ªç¯å¼•ç”¨">è‡ªèº«å¾ªç¯å¼•ç”¨</h3>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token property-access">_self</span> <span class="token operator">=</span> a<span class="token punctuation">;</span>
</code></pre>
<p>è¿™ç§å¾ªç¯å¼•ç”¨å¯ä»¥è¯´å¾ˆæ˜¯å¸¸è§ã€‚</p>
<h3 id="å¤šä¸ªå¯¹è±¡äº’ç›¸å¼•ç”¨">å¤šä¸ªå¯¹è±¡äº’ç›¸å¼•ç”¨</h3>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token property-access">brother</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token property-access">brother</span> <span class="token operator">=</span> a<span class="token punctuation">;</span>
</code></pre>
<p>ä¹Ÿä¸æ˜¯æ²¡è§è¿‡ï¼Œä¸è¿‡è¿™æ˜¯å…¸å‹å¯¼è‡´å¯¹è±¡å†…å­˜æ— æ³•è¢«å›æ”¶çš„å†™æ³•ï¼Œæœ¬èº«å°±ä¸æ¨èã€‚</p>
<h3 id="è§£å†³ä¹‹é“">è§£å†³ä¹‹é“</h3>
<p>ç›®å‰åªæ‰¾åˆ°äº†é’ˆå¯¹ç¬¬ä¸€ç§å¼•ç”¨çš„è§£å†³æ–¹æ³•ï¼Œæ¥è‡ªäºJqueryæºç ï¼š</p>
<pre class="language-javascript"><code class="language-javascript">jQuery<span class="token punctuation">.</span><span class="token property-access">extend</span> <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token property-access">fn</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">extend</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// optionsæ˜¯ä¸€ä¸ªç¼“å­˜å˜é‡ï¼Œç”¨æ¥ç¼“å­˜arguments[i]</span>
  <span class="token comment">// nameæ˜¯ç”¨æ¥æ¥æ”¶å°†è¦è¢«æ‰©å±•å¯¹è±¡çš„key</span>
  <span class="token comment">// srcæ”¹å˜ä¹‹å‰targetå¯¹è±¡ä¸Šæ¯ä¸ªkeyå¯¹åº”çš„value</span>
  <span class="token comment">// copyä¼ å…¥å¯¹è±¡ä¸Šæ¯ä¸ªkeyå¯¹åº”çš„valu</span>
  <span class="token comment">// copyIsArrayåˆ¤å®šcopyæ˜¯å¦ä¸ºä¸€ä¸ªæ•°ç»„</span>
  <span class="token comment">// cloneæ·±æ‹·è´ä¸­ç”¨æ¥ä¸´æ—¶å­˜å¯¹è±¡æˆ–æ•°ç»„çš„src</span>
  <span class="token keyword">var</span> options<span class="token punctuation">,</span> name<span class="token punctuation">,</span> src<span class="token punctuation">,</span> copy<span class="token punctuation">,</span> copyIsArray<span class="token punctuation">,</span> clone<span class="token punctuation">,</span> target <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  length <span class="token operator">=</span> arguments<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span>
  deep <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token comment">// å¤„ç†æ·±æ‹·è´çš„æƒ…å†µ</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">===</span> <span class="token string">"boolean"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deep <span class="token operator">=</span> target<span class="token punctuation">;</span>
    target <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//è·³è¿‡å¸ƒå°”å€¼å’Œç›®æ ‡ </span>
    i<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// æ§åˆ¶å½“targetä¸æ˜¯objectæˆ–è€…functionçš„æƒ…å†µ</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">!==</span> <span class="token string">"object"</span> <span class="token operator">&#x26;&#x26;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token method function property-access">isFunction</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å½“å‚æ•°åˆ—è¡¨é•¿åº¦ç­‰äºiçš„æ—¶å€™ï¼Œæ‰©å±•jQueryå¯¹è±¡è‡ªèº«</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>length <span class="token operator">===</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>options <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// æ‰©å±•åŸºç¡€å¯¹è±¡</span>
      <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span>name <span class="token keyword">in</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        src <span class="token operator">=</span> target<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>	
        copy <span class="token operator">=</span> options<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// é˜²æ­¢æ°¸æ— æ­¢å¢ƒçš„å¾ªç¯ï¼Œè¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼Œå¦‚var i = {};i.a = i;$.extend(true,{},i);å¦‚æœæ²¡æœ‰è¿™ä¸ªåˆ¤æ–­å˜æˆæ­»å¾ªç¯äº†</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>target <span class="token operator">===</span> copy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword control-flow">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>deep <span class="token operator">&#x26;&#x26;</span> copy <span class="token operator">&#x26;&#x26;</span> <span class="token punctuation">(</span>jQuery<span class="token punctuation">.</span><span class="token method function property-access">isPlainObject</span><span class="token punctuation">(</span>copy<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>copyIsArray <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token method function property-access">isArray</span><span class="token punctuation">(</span>copy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>copyIsArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            copyIsArray <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            clone <span class="token operator">=</span> src <span class="token operator">&#x26;&#x26;</span> jQuery<span class="token punctuation">.</span><span class="token method function property-access">isArray</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">?</span> src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœsrcå­˜åœ¨ä¸”æ˜¯æ•°ç»„çš„è¯å°±è®©cloneå‰¯æœ¬ç­‰äºsrcå¦åˆ™ç­‰äºç©ºæ•°ç»„ã€‚</span>
          <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
            clone <span class="token operator">=</span> src <span class="token operator">&#x26;&#x26;</span> jQuery<span class="token punctuation">.</span><span class="token method function property-access">isPlainObject</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">?</span> src<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœsrcå­˜åœ¨ä¸”æ˜¯å¯¹è±¡çš„è¯å°±è®©cloneå‰¯æœ¬ç­‰äºsrcå¦åˆ™ç­‰äºç©ºæ•°ç»„ã€‚</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// é€’å½’æ‹·è´</span>
          target<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token method function property-access">extend</span><span class="token punctuation">(</span>deep<span class="token punctuation">,</span> clone<span class="token punctuation">,</span> copy<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>copy <span class="token operator">!==</span> <span class="token keyword nil">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          target<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> copy<span class="token punctuation">;</span> <span class="token comment">// è‹¥åŸå¯¹è±¡å­˜åœ¨nameå±æ€§ï¼Œåˆ™ç›´æ¥è¦†ç›–æ‰ï¼›è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°çš„å±æ€§ã€‚</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// è¿”å›ä¿®æ”¹çš„å¯¹è±¡</span>
  <span class="token keyword control-flow">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="è§£å†³åŸå‹çš„å¼•ç”¨">è§£å†³åŸå‹çš„å¼•ç”¨</h2>
<p>åœ¨æˆ‘ä»¬æƒ³åŠæ³•é­”æ”¹æ·±æ‹·è´æ—¶ï¼Œå…ˆçœ‹ä¸‹ä»¥ä¸Šè¿™ä¹ˆå¤šæ·±æ‹·è´çš„åŸºæœ¬åŸç†ï¼š</p>
<p><strong>åˆ©ç”¨for-inå¾ªç¯éå†å¯¹è±¡å±æ€§ï¼Œå¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡åˆ™æ·±æ‹·è´ï¼Œä¸æ˜¯åˆ™ç›´æ¥èµ‹å€¼</strong></p>
<p>äºæ˜¯ä¿ºçœ‰å¤´ä¸€çš±å‘ç°äº‹æƒ…å¹¶ä¸ç®€å•ï¼Œä¿ºä¸Šä¸€ç¯‡åšå®¢å·²ç»è¯´æ˜ï¼š<strong>for-inéå†çš„æ˜¯å¯¹è±¡ä»¥åŠå…¶åŸå‹é“¾ä¸Šå¯æšä¸¾å±æ€§</strong>ï¼Œå› æ­¤æƒ³åœ¨éå†æ—¶å¯¹æºå¯¹è±¡çš„<code>__proto__</code>åšæ‰‹è„šæ˜¯æ ¹æœ¬ä¸å­˜åœ¨çš„ï¼Œ<strong><code>__proto__</code>ä»¥åŠå®ƒçš„ä¸å¯æšä¸¾å±æ€§æ ¹æœ¬ä¸ä¼šè¢«éå†åˆ°</strong>ã€‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä¾‹å­çœ‹å‡ºï¼š</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">deepClone</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span> <span class="token comment">// éšä¾¿ä»ä¸Šé¢æ‹¿ä¸€ä¸ª</span>
<span class="token keyword">var</span> <span class="token function-variable function"><span class="token maybe-class-name">A</span></span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">val</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">A</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">log</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">val</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A {val: 1}</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {val: 1, log: function(){...}}</span>
</code></pre>
<p>å› æ­¤ï¼Œä¸€ä¸ªè§£å†³æ–¹æ³•å¾ˆå•çº¯ï¼Œå°±æ˜¯åƒä¸Šé¢çš„jQuery.extendæ–¹æ³•ä¸€æ ·ï¼Œ<strong>è‡ªå·±ä¼ å…¥æ‹·è´çš„ç›®æ ‡å¯¹è±¡</strong>ï¼Œextendæ–¹æ³•æœ¬è´¨ä¸Šåªæ˜¯<strong>æ‹“å±•ç›®æ ‡å¯¹è±¡çš„å±æ€§ï¼Œä½¿å…¶è·å¾—æºå¯¹è±¡ä¸Šçš„æ•°æ®</strong>ï¼Œè¿™æ ·ä¸€æ¥åªè¦æˆ‘ä»¬å…ˆåˆ›å»ºå¥½ç¬¦åˆéœ€æ±‚çš„ç›®æ ‡å¯¹è±¡å³å¯ã€‚</p>
<p>å¦ä¸€ç§æ–¹æ³•åˆ™æ˜¯ä¸é‡‡ç”¨æ·±æ‹·è´ï¼Œ<strong>ç›´æ¥å–å‡ºéœ€è¦è¿›è¡Œæ‹·è´çš„å¯¹è±¡çš„æ•°æ®ï¼Œç„¶åå†åˆ©ç”¨è¿™ä»½æ•°æ®æ¥å®ä¾‹åŒ–å’Œè®¾ç½®ä¸€ä¸ªæ–°çš„å¯¹è±¡å‡ºæ¥</strong>ï¼š</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function"><span class="token maybe-class-name">Foo</span></span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">obj</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">name</span> <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">sex</span> <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token property-access">sex</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Foo</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token property-access">toJSON</span> <span class="token operator">=</span> <span class="token function">funciton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">sex</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"bandit"</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">"male"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fooCopy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span> foo<span class="token punctuation">.</span><span class="token method function property-access">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>é—®é¢˜åŒæ ·å¾—åˆ°è§£å†³ã€é¼“æŒã€‘</p>
<hr>
<p>å›é¡¾ä¸€ä¸‹ï¼Œæ²¡æœ‰å“ªç§æ–¹æ³•æ˜¯ä¸‡ç”¨çš„é­”æ³• â€”â€” åœ¨æˆ‘ä»¬æƒ³è¦è·å¾—ä¸€ä¸ªå…‹éš†å¯¹è±¡ä¹‹å‰ï¼Œæˆ–è®¸æœ€å¥½å…ˆææ¸…æ¥šæˆ‘ä»¬åˆ°åº•æ˜¯åœ¨å…‹éš†ä»€ä¹ˆï¼Œå†é‡‡ç”¨æœ€é€‚åˆçš„æ–¹æ³•ã€‚è€Œéæ˜¯æ‹˜æ³¥äºâ€œæ·±æ‹·è´æµ…æ‹·è´â€çš„è¯´æ³•ï¼Œå»å¤åˆ¶ä¸€æ®µä»£ç ç¥ˆç¥·ä»–èƒ½ç”Ÿæ•ˆã€‚æˆ‘ç›¸ä¿¡ä»¥ä¸Šçš„ç¤ºä¾‹ä»£ç è¿˜æ²¡æœ‰è€ƒè™‘åˆ°å…‹éš†å¯¹è±¡çš„æ‰€æœ‰é—®é¢˜ï¼Œä½†å®ƒä»¬åœ¨åˆé€‚çš„åœºæ™¯ä¸‹èƒ½å¤Ÿå¤„ç†åˆé€‚çš„é—®é¢˜ã€‚å—¯ï¼Œå…¶å®å¾ˆå¤šäº‹æƒ…éƒ½æ˜¯è¿™æ ·è›¤ã€å¸¦ï¼ã€‘</p>
</body></html></div></div></div></div></div><div class="sc-bbd5e802-0 cbkQsN"><div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"how-to-clone-object-in-js","title":"jså¯¹è±¡å…‹éš†ä¹‹è°œ","date":"2017-08-26","htmlText":"\u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003ch2 id=\"å…ˆè°ˆè°ˆæ·±æ‹·è´\"\u003eå…ˆè°ˆè°ˆæ·±æ‹·è´\u003c/h2\u003e\n\u003cp\u003eå¦‚ä½•åœ¨jsä¸­è·å¾—ä¸€ä¸ªå…‹éš†å¯¹è±¡ï¼Œå¯ä»¥è¯´æ˜¯å–œé—»ä¹è§çš„è¯é¢˜äº†ã€‚ç›¸ä¿¡å¤§å®¶éƒ½äº†è§£å¼•ç”¨ç±»å‹ä¸åŸºæœ¬ç±»å‹ï¼Œä¹Ÿéƒ½çŸ¥é“æœ‰ç§å«åšæ·±æ‹·è´çš„ä¸œè¥¿ï¼Œä¼ è¯´æ·±æ‹·è´å¯ä»¥è·å¾—ä¸€ä¸ªå…‹éš†å¯¹è±¡ï¼é‚£ä¹ˆåƒæˆ‘è¿™æ ·çš„èŒæ–°è‡ªç„¶å°±å»å­¦ä¹ äº†ä¸€æ³¢ï¼Œæˆ‘ä»¬èƒ½æ‰¾åˆ°çš„ä»£ç åŸºæœ¬éƒ½æ˜¯è¿™æ ·çš„ï¼š\u003c/p\u003e\n\u003ch3 id=\"ä½é…ç‰ˆæ·±æ‹·è´\"\u003eä½é…ç‰ˆæ·±æ‹·è´\u003c/h3\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edeepClone\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ecurrobj\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e currobj \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token string\"\u003e'object'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e currobj\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecurrobj \u003cspan class=\"token keyword\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e newobj \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e newobj \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e key \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e currobj\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e currobj\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token string\"\u003e'object'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            newobj\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e currobj\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            newobj\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003edeepClone\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecurrobj\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e    \n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e newobj\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå•§å•§çœŸæ˜¯å¾ˆç²¾å·§å•Šï¼å¯¹äºArrayå’Œæ™®é€šObjectéƒ½åšäº†åŒºåˆ†ã€‚ä½†æ˜¯æ˜¾ç„¶ï¼Œå€ŸåŠ©é€’å½’å®ç°çš„æ·±æ‹·è´å¦‚æœè¦å…‹éš†å±‚çº§å¾ˆå¤šçš„å¤æ‚å¯¹è±¡ï¼Œå®¹æ˜“é€ æˆå†…å­˜æº¢å‡ºï¼Œå’±å¯ä»¥åšå‡ºä¸€ä¸ªå°å°æ”¹è¿›ï¼š\u003c/p\u003e\n\u003ch3 id=\"çœ‹èµ·æ¥é…·ä¸€ç‚¹çš„æ·±æ‹·è´\"\u003eçœ‹èµ·æ¥é…·ä¸€ç‚¹çš„æ·±æ‹·è´\u003c/h3\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edeepClone\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ecurrobj\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e currobj \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token string\"\u003e'object'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e currobj\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecurrobj \u003cspan class=\"token keyword\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e newobj \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e newobj \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e currQue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ecurrobj\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e newQue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003enewobj\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e//å…³é”®åœ¨è¿™é‡Œ\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003ewhile\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecurrQue\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003elength\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e obj1 \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e currQue\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eshift\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003eobj2 \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e newQue\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eshift\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e key \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e obj1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e obj1\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token string\"\u003e'object'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                obj2\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e obj1\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobj1\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token keyword\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eArray\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                    obj2\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                    obj2\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"token comment\"\u003e// å¦™å•Š\u003c/span\u003e\n                currQue\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobj1\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                newQue\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobj2\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e newobj\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eè¿™é‡Œåˆ©ç”¨äº†ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œè¿˜ç®—ä¼˜é›…çš„é¿å…äº†é€’å½’çš„å¼Šç«¯ã€‚\u003c/p\u003e\n\u003ch3 id=\"jsonåºåˆ—åŒ–\"\u003eJSONåºåˆ—åŒ–\u003c/h3\u003e\n\u003cp\u003eè¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯åˆ©ç”¨JSONçš„å†…ç½®æ–¹æ³•ï¼Œå³æ‰€è°“çš„JSONåºåˆ—åŒ–ï¼š\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edeepClone\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eobj\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e str\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e newobj \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e obj\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003econstructor\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token known-class-name class-name\"\u003eArray\u003c/span\u003e \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e obj \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token string\"\u003e'object'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token dom variable\"\u003ewindow\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token known-class-name class-name\"\u003eJSON\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        str \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token known-class-name class-name\"\u003eJSON\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003estringify\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobj\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e//ç³»åˆ—åŒ–å¯¹è±¡\u003c/span\u003e\n        newobj \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token known-class-name class-name\"\u003eJSON\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eparse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estr\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e//è¿˜åŸ\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e i \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e obj\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            newobj\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e obj\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e'object'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \n            \u003cspan class=\"token function\"\u003edeepClone\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobj\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e obj\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e newobj\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eä¸è¿‡ä¸æ‰“ç´§ï¼Œå®ƒä¸ä¸Šé¢æ–¹æ³•çš„æ•ˆæœåŸºæœ¬ç›¸åŒã€‚\u003c/p\u003e\n\u003ch3 id=\"ä¸Šé¢å‡ ç§æ·±æ‹·è´çš„å±€é™\"\u003eä¸Šé¢å‡ ç§æ·±æ‹·è´çš„å±€é™\u003c/h3\u003e\n\u003cp\u003eæ‹œæ‰˜ï¼Œå¤§å®¶éƒ½å¾ˆæ‡‚å¯¹è±¡ï¼Œä¸Šé¢çš„æ–¹æ³•æœ‰å‡ ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eé‡åˆ°å¯¹è±¡å†…éƒ¨çš„\u003cstrong\u003eå¾ªç¯å¼•ç”¨\u003c/strong\u003eç›´æ¥gg\u003c/li\u003e\n\u003cli\u003eæ— æ³•æ‹·è´\u003cstrong\u003eå‡½æ•°\u003c/strong\u003eï¼ˆtypeof å‡½æ•° å¾—åˆ°çš„æ˜¯ 'function'ï¼‰ï¼Œå‡½æ•°ä»æ˜¯å¼•ç”¨ç±»å‹\u003c/li\u003e\n\u003cli\u003eæ— æ³•æ­£ç¡®ä¿ç•™\u003cstrong\u003eå®ä¾‹å¯¹è±¡çš„åŸå‹\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eäºæ˜¯ï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹æ”¹é€ ä¸Šé¢çš„æ·±æ‹·è´æ–¹æ³•æ¥è¿›è¡Œå®Œç¾çš„å…‹éš†äº†ï¼.............ä¹ˆï¼Ÿ\u003c/p\u003e\n\u003ch2 id=\"ç­‰ä¸‹ä½ åˆ°åº•è¦å•¥\"\u003eç­‰ä¸‹ï¼Œä½ åˆ°åº•è¦å•¥\u003c/h2\u003e\n\u003cp\u003eå…‹éš†å…‹éš†ï¼Œæˆ‘ä»¬å¹³å¸¸æŠŠå®ƒæŒ‚åœ¨å˜´ä¸Šï¼Œä½†é¢å¯¹ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬çœŸæ­£æƒ³å…‹éš†çš„æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘æƒ³åœ¨99%çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æƒ³å…‹éš†çš„æ˜¯å¯¹è±¡çš„\u003cstrong\u003eæ•°æ®\u003c/strong\u003eï¼Œè€Œä¿ç•™å®ƒçš„\u003cstrong\u003eåŸå‹å¼•ç”¨\u003c/strong\u003eå’Œ\u003cstrong\u003eæ–¹æ³•å¼•ç”¨\u003c/strong\u003eï¼Œå› æ­¤ä¸Šé¢æåˆ°çš„å±€é™ä¸­çš„ç¬¬äºŒç‚¹ï¼ŒåŸºæœ¬å¯ä»¥ä¸è€ƒè™‘ã€‚ç°åœ¨å’±å†æ¥çœ‹çœ‹æ€ä¹ˆè§£å†³å‰©ä¸‹ä¸¤ç‚¹ã€‚\u003c/p\u003e\n\u003ch2 id=\"è§£å†³å¾ªç¯å¼•ç”¨\"\u003eè§£å†³å¾ªç¯å¼•ç”¨\u003c/h2\u003e\n\u003cp\u003eé¦–å…ˆææ¸…ä»€ä¹ˆæ˜¯å¾ªç¯å¼•ç”¨ï¼Œå¸¸è§çš„å¾ªç¯å¼•ç”¨æœ‰ä¸¤ç§ï¼š\u003c/p\u003e\n\u003ch3 id=\"è‡ªèº«å¾ªç¯å¼•ç”¨\"\u003eè‡ªèº«å¾ªç¯å¼•ç”¨\u003c/h3\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e a \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\na\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003e_self\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e a\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eè¿™ç§å¾ªç¯å¼•ç”¨å¯ä»¥è¯´å¾ˆæ˜¯å¸¸è§ã€‚\u003c/p\u003e\n\u003ch3 id=\"å¤šä¸ªå¯¹è±¡äº’ç›¸å¼•ç”¨\"\u003eå¤šä¸ªå¯¹è±¡äº’ç›¸å¼•ç”¨\u003c/h3\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e a \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e b \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\na\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ebrother\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e b\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\nb\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ebrother\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e a\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eä¹Ÿä¸æ˜¯æ²¡è§è¿‡ï¼Œä¸è¿‡è¿™æ˜¯å…¸å‹å¯¼è‡´å¯¹è±¡å†…å­˜æ— æ³•è¢«å›æ”¶çš„å†™æ³•ï¼Œæœ¬èº«å°±ä¸æ¨èã€‚\u003c/p\u003e\n\u003ch3 id=\"è§£å†³ä¹‹é“\"\u003eè§£å†³ä¹‹é“\u003c/h3\u003e\n\u003cp\u003eç›®å‰åªæ‰¾åˆ°äº†é’ˆå¯¹ç¬¬ä¸€ç§å¼•ç”¨çš„è§£å†³æ–¹æ³•ï¼Œæ¥è‡ªäºJqueryæºç ï¼š\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003ejQuery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eextend\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e jQuery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003efn\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method-variable function-variable method function property-access\"\u003eextend\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// optionsæ˜¯ä¸€ä¸ªç¼“å­˜å˜é‡ï¼Œç”¨æ¥ç¼“å­˜arguments[i]\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// nameæ˜¯ç”¨æ¥æ¥æ”¶å°†è¦è¢«æ‰©å±•å¯¹è±¡çš„key\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// srcæ”¹å˜ä¹‹å‰targetå¯¹è±¡ä¸Šæ¯ä¸ªkeyå¯¹åº”çš„value\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// copyä¼ å…¥å¯¹è±¡ä¸Šæ¯ä¸ªkeyå¯¹åº”çš„valu\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// copyIsArrayåˆ¤å®šcopyæ˜¯å¦ä¸ºä¸€ä¸ªæ•°ç»„\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// cloneæ·±æ‹·è´ä¸­ç”¨æ¥ä¸´æ—¶å­˜å¯¹è±¡æˆ–æ•°ç»„çš„src\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e options\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e name\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e src\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e copy\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e copyIsArray\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e clone\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e target \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e arguments\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  length \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e arguments\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003elength\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  deep \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// å¤„ç†æ·±æ‹·è´çš„æƒ…å†µ\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e target \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"boolean\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    deep \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e target\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    target \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e arguments\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e//è·³è¿‡å¸ƒå°”å€¼å’Œç›®æ ‡ \u003c/span\u003e\n    i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// æ§åˆ¶å½“targetä¸æ˜¯objectæˆ–è€…functionçš„æƒ…å†µ\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e target \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"object\"\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!\u003c/span\u003ejQuery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eisFunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etarget\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    target \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// å½“å‚æ•°åˆ—è¡¨é•¿åº¦ç­‰äºiçš„æ—¶å€™ï¼Œæ‰©å±•jQueryå¯¹è±¡è‡ªèº«\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elength \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e i\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    target \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token operator\"\u003e--\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e length\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eoptions \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e arguments\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token keyword null nil\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token comment\"\u003e// æ‰©å±•åŸºç¡€å¯¹è±¡\u003c/span\u003e\n      \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ename \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e options\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        src \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e target\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ename\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\t\n        copy \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e options\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ename\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e// é˜²æ­¢æ°¸æ— æ­¢å¢ƒçš„å¾ªç¯ï¼Œè¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼Œå¦‚var i = {};i.a = i;$.extend(true,{},i);å¦‚æœæ²¡æœ‰è¿™ä¸ªåˆ¤æ–­å˜æˆæ­»å¾ªç¯äº†\u003c/span\u003e\n        \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etarget \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e copy\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"token keyword control-flow\"\u003econtinue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edeep \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e copy \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ejQuery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eisPlainObject\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecopy\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecopyIsArray \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e jQuery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eisArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecopy\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecopyIsArray\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            copyIsArray \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            clone \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e src \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e jQuery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eisArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003esrc\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e src\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¦‚æœsrcå­˜åœ¨ä¸”æ˜¯æ•°ç»„çš„è¯å°±è®©cloneå‰¯æœ¬ç­‰äºsrcå¦åˆ™ç­‰äºç©ºæ•°ç»„ã€‚\u003c/span\u003e\n          \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            clone \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e src \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e jQuery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eisPlainObject\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003esrc\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e src\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¦‚æœsrcå­˜åœ¨ä¸”æ˜¯å¯¹è±¡çš„è¯å°±è®©cloneå‰¯æœ¬ç­‰äºsrcå¦åˆ™ç­‰äºç©ºæ•°ç»„ã€‚\u003c/span\u003e\n          \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"token comment\"\u003e// é€’å½’æ‹·è´\u003c/span\u003e\n          target\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ename\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e jQuery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eextend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edeep\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e clone\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e copy\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecopy \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token keyword nil\"\u003eundefined\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n          target\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ename\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e copy\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è‹¥åŸå¯¹è±¡å­˜åœ¨nameå±æ€§ï¼Œåˆ™ç›´æ¥è¦†ç›–æ‰ï¼›è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°çš„å±æ€§ã€‚\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// è¿”å›ä¿®æ”¹çš„å¯¹è±¡\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e target\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"è§£å†³åŸå‹çš„å¼•ç”¨\"\u003eè§£å†³åŸå‹çš„å¼•ç”¨\u003c/h2\u003e\n\u003cp\u003eåœ¨æˆ‘ä»¬æƒ³åŠæ³•é­”æ”¹æ·±æ‹·è´æ—¶ï¼Œå…ˆçœ‹ä¸‹ä»¥ä¸Šè¿™ä¹ˆå¤šæ·±æ‹·è´çš„åŸºæœ¬åŸç†ï¼š\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eåˆ©ç”¨for-inå¾ªç¯éå†å¯¹è±¡å±æ€§ï¼Œå¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡åˆ™æ·±æ‹·è´ï¼Œä¸æ˜¯åˆ™ç›´æ¥èµ‹å€¼\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eäºæ˜¯ä¿ºçœ‰å¤´ä¸€çš±å‘ç°äº‹æƒ…å¹¶ä¸ç®€å•ï¼Œä¿ºä¸Šä¸€ç¯‡åšå®¢å·²ç»è¯´æ˜ï¼š\u003cstrong\u003efor-inéå†çš„æ˜¯å¯¹è±¡ä»¥åŠå…¶åŸå‹é“¾ä¸Šå¯æšä¸¾å±æ€§\u003c/strong\u003eï¼Œå› æ­¤æƒ³åœ¨éå†æ—¶å¯¹æºå¯¹è±¡çš„\u003ccode\u003e__proto__\u003c/code\u003eåšæ‰‹è„šæ˜¯æ ¹æœ¬ä¸å­˜åœ¨çš„ï¼Œ\u003cstrong\u003e\u003ccode\u003e__proto__\u003c/code\u003eä»¥åŠå®ƒçš„ä¸å¯æšä¸¾å±æ€§æ ¹æœ¬ä¸ä¼šè¢«éå†åˆ°\u003c/strong\u003eã€‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä¾‹å­çœ‹å‡ºï¼š\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edeepClone\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token spread operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// éšä¾¿ä»ä¸Šé¢æ‹¿ä¸€ä¸ª\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003e\u003cspan class=\"token maybe-class-name\"\u003eA\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eval\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token class-name\"\u003eA\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eprototype\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method-variable function-variable method function property-access\"\u003elog\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eval\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e obj1 \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eA\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e obj2 \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003edeepClone\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobj1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobj1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// A {val: 1}\u003c/span\u003e\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobj2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// {val: 1, log: function(){...}}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå› æ­¤ï¼Œä¸€ä¸ªè§£å†³æ–¹æ³•å¾ˆå•çº¯ï¼Œå°±æ˜¯åƒä¸Šé¢çš„jQuery.extendæ–¹æ³•ä¸€æ ·ï¼Œ\u003cstrong\u003eè‡ªå·±ä¼ å…¥æ‹·è´çš„ç›®æ ‡å¯¹è±¡\u003c/strong\u003eï¼Œextendæ–¹æ³•æœ¬è´¨ä¸Šåªæ˜¯\u003cstrong\u003eæ‹“å±•ç›®æ ‡å¯¹è±¡çš„å±æ€§ï¼Œä½¿å…¶è·å¾—æºå¯¹è±¡ä¸Šçš„æ•°æ®\u003c/strong\u003eï¼Œè¿™æ ·ä¸€æ¥åªè¦æˆ‘ä»¬å…ˆåˆ›å»ºå¥½ç¬¦åˆéœ€æ±‚çš„ç›®æ ‡å¯¹è±¡å³å¯ã€‚\u003c/p\u003e\n\u003cp\u003eå¦ä¸€ç§æ–¹æ³•åˆ™æ˜¯ä¸é‡‡ç”¨æ·±æ‹·è´ï¼Œ\u003cstrong\u003eç›´æ¥å–å‡ºéœ€è¦è¿›è¡Œæ‹·è´çš„å¯¹è±¡çš„æ•°æ®ï¼Œç„¶åå†åˆ©ç”¨è¿™ä»½æ•°æ®æ¥å®ä¾‹åŒ–å’Œè®¾ç½®ä¸€ä¸ªæ–°çš„å¯¹è±¡å‡ºæ¥\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003e\u003cspan class=\"token maybe-class-name\"\u003eFoo\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e \u003cspan class=\"token parameter\"\u003eobj\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ename\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e obj\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esex\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e obj\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esex\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token class-name\"\u003eFoo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eprototype\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etoJSON\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003efunciton\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token literal-property property\"\u003ename\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token literal-property property\"\u003esex\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esex\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e foo \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eFoo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token literal-property property\"\u003ename\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"bandit\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token literal-property property\"\u003esex\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"male\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e fooCopy \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eFoo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e foo\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etoJSON\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eé—®é¢˜åŒæ ·å¾—åˆ°è§£å†³ã€é¼“æŒã€‘\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eå›é¡¾ä¸€ä¸‹ï¼Œæ²¡æœ‰å“ªç§æ–¹æ³•æ˜¯ä¸‡ç”¨çš„é­”æ³• â€”â€” åœ¨æˆ‘ä»¬æƒ³è¦è·å¾—ä¸€ä¸ªå…‹éš†å¯¹è±¡ä¹‹å‰ï¼Œæˆ–è®¸æœ€å¥½å…ˆææ¸…æ¥šæˆ‘ä»¬åˆ°åº•æ˜¯åœ¨å…‹éš†ä»€ä¹ˆï¼Œå†é‡‡ç”¨æœ€é€‚åˆçš„æ–¹æ³•ã€‚è€Œéæ˜¯æ‹˜æ³¥äºâ€œæ·±æ‹·è´æµ…æ‹·è´â€çš„è¯´æ³•ï¼Œå»å¤åˆ¶ä¸€æ®µä»£ç ç¥ˆç¥·ä»–èƒ½ç”Ÿæ•ˆã€‚æˆ‘ç›¸ä¿¡ä»¥ä¸Šçš„ç¤ºä¾‹ä»£ç è¿˜æ²¡æœ‰è€ƒè™‘åˆ°å…‹éš†å¯¹è±¡çš„æ‰€æœ‰é—®é¢˜ï¼Œä½†å®ƒä»¬åœ¨åˆé€‚çš„åœºæ™¯ä¸‹èƒ½å¤Ÿå¤„ç†åˆé€‚çš„é—®é¢˜ã€‚å—¯ï¼Œå…¶å®å¾ˆå¤šäº‹æƒ…éƒ½æ˜¯è¿™æ ·è›¤ã€å¸¦ï¼ã€‘\u003c/p\u003e\n\u003c/body\u003e\u003c/html\u003e","description":"å¦‚ä½•åœ¨jsä¸­è·å¾—ä¸€ä¸ªå…‹éš†å¯¹è±¡ï¼Œå¯ä»¥è¯´æ˜¯å–œé—»ä¹è§çš„è¯é¢˜äº†ã€‚ç›¸ä¿¡å¤§å®¶éƒ½äº†è§£å¼•ç”¨ç±»å‹ä¸åŸºæœ¬ç±»å‹ï¼Œä¹Ÿéƒ½çŸ¥é“æœ‰ç§å«åšæ·±æ‹·è´çš„ä¸œè¥¿ï¼Œä¼ è¯´æ·±æ‹·è´å¯ä»¥è·å¾—ä¸€ä¸ªå…‹éš†å¯¹è±¡ï¼é‚£ä¹ˆåƒæˆ‘è¿™æ ·çš„èŒæ–°è‡ªç„¶å°±å»å­¦ä¹ äº†ä¸€æ³¢ï¼Œæˆ‘ä»¬èƒ½æ‰¾åˆ°......"},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"how-to-clone-object-in-js"},"buildId":"8iFDsdjaTfV5KLx0s_qSu","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>