<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>LWDW!</title><meta name="description" content="å›¾åƒå¤„ç†åˆè§ï¼â€”â€”æ°´æ³¢çº¹"/><meta property="og:title" content="å›¾åƒå¤„ç†åˆè§ï¼â€”â€”æ°´æ³¢çº¹"/><meta property="og:description" content="æ°´æ³¢çº¹æ•ˆæœçš„å®ç°æ–¹æ³•å…¶å®ç›¸å½“å¤šï¼Œä»Šå¤©ä¿ºæƒ³è®¨è®ºçš„ä¸€ç§æ˜¯åˆ©ç”¨ç®—æ³•ï¼ˆå°±æ˜¯è¯´ä¾ç…§æŸç§è§„åˆ™å°†å›¾åƒçš„åƒç´ ä¹±æä¸€é€šï¼Œçœ‹èµ·æ¥å°±åƒæ³¢çº¹ä¸€æ ·ï¼ï¼‰æ¥è¿›è¡Œå¤„ç†çš„ï¼Œä¸å€ŸåŠ©æ³¢çº¹å›¾ç‰‡ç­‰ç­‰ï¼Œå› æ­¤æœ‰å¾ˆé«˜çš„å¯å®šåˆ¶æ€§ã€‚......"/><meta name="next-head-count" content="6"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#ffffff"/><meta name="color-scheme" content="dark light"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#000"/><meta property="og:type" content="website"/><meta property="og:image" content="https://s2.loli.net/2023/01/18/42YTZxzePtR7jy9.png"/><meta property="og:url" content="https://b-sirius.github.io"/><link rel="preload" href="/_next/static/css/aef510c8abf24c2c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aef510c8abf24c2c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b51a0fb142b75fa0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b51a0fb142b75fa0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-165611dbf69200d4.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-673a4fae4a27af6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0da236044dc4e5fc.js" defer=""></script><script src="/_next/static/chunks/332-751efa0ececa7b8e.js" defer=""></script><script src="/_next/static/chunks/664-1b4479b4462ded63.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-2b4aeb585f50200f.js" defer=""></script><script src="/_next/static/GIjWwzmqV_zCUqfUSYb44/_buildManifest.js" defer=""></script><script src="/_next/static/GIjWwzmqV_zCUqfUSYb44/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="sc-9d615c10-0 gPcDhw"><div class="sc-868660b6-0 hptnUW"><div class="sc-bbc62a17-1 bGsVUC"><div class="sc-bbc62a17-0 dSoHmK"><a class="sc-bbc62a17-2 gGxkic" href="/">[<!-- -->Home<!-- -->]</a><a class="sc-bbc62a17-2 gGxkic" href="/posts">[<!-- -->Posts<!-- -->]</a><a class="sc-bbc62a17-3 bMRVsR" rel="noopener noreferrer" target="_blank" href="https://github.com/B-sirius">[<!-- -->Github<!-- -->]</a><a class="sc-bbc62a17-3 bMRVsR" rel="noopener noreferrer" target="_blank" href="https://b-sirius.github.io/rss.xml">[<!-- -->RSS<!-- -->]</a></div><div class="sc-f71203c5-0 cEuFcK"><h1 class="sc-f71203c5-1 BdBtZ">LWDW!</h1><p class="sc-f71203c5-2 gXENPI">Learn the work from doing the workğŸº</p></div></div><div class="sc-87e76b53-0 sc-77cf2bd4-0 hkJmkj dxfnCq"><div><div class="sc-ba46d312-0 hOKWax"><div class="sc-ba46d312-2 ibvPNw">å›¾åƒå¤„ç†åˆè§ï¼â€”â€”æ°´æ³¢çº¹</div><div class="sc-ba46d312-3 hcdRzS">Posted on <!-- -->2018-06-12</div></div></div></div><div class="sc-87e76b53-0 hkJmkj"><div><div class="sc-ba46d312-1 dmDrcr"><div class="sc-e9ca5221-0 czeavQ"><p>æ°´æ³¢çº¹æ•ˆæœçš„å®ç°æ–¹æ³•å…¶å®ç›¸å½“å¤šï¼Œä»Šå¤©ä¿ºæƒ³è®¨è®ºçš„ä¸€ç§æ˜¯åˆ©ç”¨ç®—æ³•ï¼ˆå°±æ˜¯è¯´ä¾ç…§æŸç§è§„åˆ™å°†å›¾åƒçš„åƒç´ ä¹±æä¸€é€šï¼Œçœ‹èµ·æ¥å°±åƒæ³¢çº¹ä¸€æ ·ï¼ï¼‰æ¥è¿›è¡Œå¤„ç†çš„ï¼Œä¸å€ŸåŠ©æ³¢çº¹å›¾ç‰‡ç­‰ç­‰ï¼Œå› æ­¤æœ‰å¾ˆé«˜çš„å¯å®šåˆ¶æ€§ã€‚</p>
<p><strong>WARNINGâ€”â€”æœ¬æ–‡ä¸­çš„demoæœªåšè¶³å¤Ÿä¼˜åŒ–ï¼Œä¸å»ºè®®ä½¿ç”¨æ‰‹æœºæŸ¥çœ‹</strong></p>
<h2 id="é¦–å…ˆæ¥çœ‹ä¸€çœ¼æ•ˆæœ">é¦–å…ˆæ¥çœ‹ä¸€çœ¼æ•ˆæœ</h2>
<p data-height="265" data-theme-id="0" data-slug-hash="YvVypN" data-default-tab="js,result" data-user="padfoot_07" data-embed-version="2" data-pen-title="water ripple" class="codepen">See the Pen <a href="https://codepen.io/padfoot_07/pen/YvVypN/">water ripple</a> by Zhouyi (<a href="https://codepen.io/padfoot_07">@padfoot_07</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async="" src="https://static.codepen.io/assets/embed/ei.js"></script>
<p>ã€ä¼¤å®³å¤§å®¶çš„çœ¼ç›ä½¿æˆ‘å¿«ä¹ã€‘</p>
<h2 id="é‚£ä¹ˆè¿™ä¹ˆå¥½çš„ç®—æ³•æ˜¯ä»€ä¹ˆå‘¢">é‚£ä¹ˆï¼Œè¿™ä¹ˆå¥½çš„ç®—æ³•æ˜¯ä»€ä¹ˆå‘¢?</h2>
<h3 id="ä¸å‡†ç¡®çš„å¤§æ¦‚æè¿°">ä¸å‡†ç¡®çš„å¤§æ¦‚æè¿°</h3>
<p>åœ¨å…·ä½“ä»‹ç»ç­–ç•¥ä¹‹å‰ï¼Œä¿ºå…ˆæ¨¡ç³Šçš„æè¿°ä¸€ä¸‹è¿™ä¸ªç­–ç•¥çš„æ€æƒ³ï¼š</p>
<p>æ°´æ³¢çº¹æœ¬è´¨ä¸Šæ˜¯åƒç´ æœ‰è§„å¾‹çš„å‘ç”Ÿ<strong>åç§»ï¼ˆoffsetï¼‰<strong>é€ æˆçš„è§†è§‰æ•ˆæœï¼Œä¸”è¿™ä¸ªåç§»è¿ç»­è¿›è¡Œï¼Œçœ‹èµ·æ¥æ‰ä¼šåƒæ˜¯æ°´æ³¢æ‰©æ•£ã€è¡æ¼¾ä¸€æ ·ã€‚å› æ­¤åœ¨æˆ‘ä»¬è¯•å›¾å°†è¿™ç§åç§»ä½œç”¨åˆ°å›¾åƒï¼ˆä¸€å †åƒç´ ï¼‰ä¸Šä¹‹å‰ï¼Œé¦–å…ˆæ€è€ƒçš„æ˜¯ä¸€è¿ä¸²çš„æ•°å€¼å˜åŒ–ï¼›æˆ‘ä»¬ä¸ºå›¾åƒçš„æ¯ä¸€ä¸ªåƒç´ éƒ½èµ‹äºˆä¸€ä¸ªæ•°å€¼ï¼Œæ¥ä»£è¡¨å®ƒåœ¨â€œæ°´æ³¢çº¹â€ä½œç”¨ä¸‹çš„çŠ¶æ€ã€‚è€Œè¿™ä¸ªå˜åŒ–è¦å…·æœ‰è¿ç»­æ€§ï¼Œæˆ‘ä»¬è¦ä¸åœè®°å½•</strong>å½“å‰</strong>å’Œ<strong>ä¸Šä¸€å¸§æ¸²æŸ“</strong>çš„çŠ¶æ€ï¼Œå†ä¾æ®æŸç§ç­–ç•¥ä½¿å…¶çŠ¶æ€çš„æ”¹å˜è‡ªå‘è¿›è¡Œä¸‹å»ã€‚ä¹‹åå†<strong>ä¾æ®æ¯ä¸ªåƒç´ çš„çŠ¶æ€ä¿¡æ¯ï¼Œè®¡ç®—å‡ºå®ƒçš„åç§»</strong>ã€‚</p>
<h3 id="å…·ä½“ç­–ç•¥">å…·ä½“ç­–ç•¥</h3>
<p>å‡è®¾æˆ‘ä»¬å¤„ç†çš„æ˜¯100*100çš„å›¾åƒï¼Œè¿™ä¸ªç­–ç•¥å¤§æ¦‚åˆ†ä¸ºè¿™ä¹ˆå‡ æ­¥ï¼š</p>
<ol>
<li>
<p>è®°å½•æ°´æ³¢çº¹**å½“å‰ï¼ˆcurrentï¼‰<strong>å’Œ</strong>ä¸Šä¸€å¸§æ¸²æŸ“æ—¶ï¼ˆpreviousï¼‰**çš„çŠ¶æ€ä¿¡æ¯ã€‚å°±åƒæˆ‘ä»¬ä¸Šæ–‡æçš„ä¸€æ ·ï¼Œè¿™é‡Œçš„ä¿¡æ¯æ˜¯å¯¹åº”æ¯ä¸ªåƒç´ çš„ï¼Œå› æ­¤ä¿ºå°±ä½¿ç”¨äº†ä¸¤ä¸ªæ•°ç»„æ¥è®°å½•ï¼Œé•¿åº¦éƒ½ä¸º10000ï¼ˆ100*100ï¼Œå¯¹åº”åƒç´ é¡ºåºæ˜¯æŒ‰ç…§ä¸€è¡Œä¸€è¡Œæ’åˆ—</p>
<p>ï¼Œä»å·¦å‘å³ï¼Œä»ä¸Šå‘ä¸‹ï¼‰ï¼Œå‡åˆå§‹åŒ–ä¸º0ã€‚</p>
</li>
<li>
<p>æ¯ä¸€å¸§ï¼Œéƒ½åˆ©ç”¨previouså¯¹currentè¿›è¡Œæ··åˆï¼ˆè¿™é‡Œä¼¼ä¹æ˜¯ä¸€ç§<strong>å·ç§¯</strong>è®¡ç®—ï¼Œç„¶è€Œä¿ºçš„é«˜æ•°ä¸å¥½ï¼Œå¯è‡ªè¡Œäº†è§£ï¼‰ï¼Œå¹¶äº¤æ¢ä¸¤è€…ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>å¯¹äºæ¯ä¸ªåƒç´ çš„currentå€¼ï¼ˆä¸ºäº†æ–¹ä¾¿ï¼Œè¾¹ç¼˜åƒç´ è¿™é‡Œä¸å¤„ç†ï¼‰ï¼Œå°†å…¶previousä¸­çš„é‚»å±…åƒç´ ï¼ˆæ¯”å¦‚å®ƒçš„ä¸Šä¸‹å·¦å³å››ä¸ªåƒç´ ï¼‰çš„çŠ¶æ€æ•°å€¼ç›¸åŠ ï¼Œé™¤ä»¥2ï¼Œå‡å»currentä¸­çš„æ•°å€¼â€”â€”å½“ç„¶æˆ‘çŸ¥é“ä½ å¬ä¸æ‡‚ï¼Œæ‰€ä»¥ç”»äº†ä¸ªå›¾ï¼š</p>
<p><img src="https://hukua-blog.oss-cn-beijing.aliyuncs.com/markdown-imgs/%E6%B3%A2%E7%BA%B9%E7%AD%96%E7%95%A5.png" alt="ç­–ç•¥"/></p>
</li>
<li>
<p>ç­‰ç­‰ï¼æ ¹æ®å¸¸è¯†ï¼Œæ³¢çº¹çš„æ‰©æ•£ï¼ˆå¡Œé™·ï¼‰å¹…åº¦ä¼šä¹‹é—´å‡å°ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªé˜»å°¼æ¥å‡å°currentå€¼ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ¯å¸§éƒ½ä¹˜ä»¥ä¸€ä¸ªå°äº1çš„å€¼ã€‚</p>
</li>
<li>
<p>PS: å½“ç„¶ï¼Œå’±è‚¯å®šä¼šæƒ³ï¼Œè¿™ä»–å–µæ˜¯ä»€ä¹ˆä¸ªåŸç†ï¼Ÿè™½ç„¶æˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯å“ªä½å¤§ç¥æƒ³å‡ºçš„ç®—æ³•ï¼ˆè¿™ä¸ªç®—æ³•çš„ä½¿ç”¨ç›¸å½“å¹¿æ³›ï¼Œä»¥è‡³äºæˆ‘å‚è€ƒçš„ä¸åŒå®ç°æ ·ä¾‹éƒ½ä¸çº¦è€ŒåŒå¾—ä½¿ç”¨äº†è¯¥ç®—æ³•ï¼‰ï¼Œä½†æ˜¯è‡³å°‘å’±å¯ä»¥å¯è§†åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼Œåº·åº·åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼š</p>
<p data-height="265" data-theme-id="0" data-slug-hash="rKymEg" data-default-tab="js,result" data-user="padfoot_07" data-embed-version="2" data-pen-title="æ°´æ³¢çº¹ç­–ç•¥-å¯è§†åŒ–" class="codepen">See the Pen <a href="https://codepen.io/padfoot_07/pen/rKymEg/">æ°´æ³¢çº¹ç­–ç•¥-å¯è§†åŒ–</a> by Zhouyi (<a href="https://codepen.io/padfoot_07">@padfoot_07</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async="" src="https://static.codepen.io/assets/embed/ei.js"></script>
<p>è¿™é‡Œdemoå°†æ¯ä¸ªåƒç´ çš„currentå€¼ç›´æ¥ä½œä¸ºrgbå€¼èµ‹äºˆäº†åƒç´ ï¼Œæ•°å€¼è¶Šé«˜çš„åƒç´ çœ‹èµ·æ¥è¶Šâ€œäº®â€ï¼Œå¯ä»¥ç›´è§‚çš„çœ‹å‡ºæ•°å€¼çš„å˜åŒ–å°±æ˜¯æ³¢çº¹çŠ¶ã€‚</p>
</li>
</ul>
</li>
<li>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥å‡†å¤‡å¤„ç†å›¾åƒäº†ï¼Œé¦–å…ˆè‡ªç„¶æ˜¯è·å¾—å›¾åƒçš„åƒç´ ä¿¡æ¯ï¼Œæ¯”å¦‚æˆ‘ä½¿ç”¨çš„p5.jsï¼Œæä¾›<code>loadPixels()</code>è¿™æ ·çš„apiä¾¿å¯å¦‚å­—é¢æ„ä¹‰è·å¾—å›¾åƒæ‰€æœ‰çš„åƒç´ ä¿¡æ¯ï¼Œæ•°æ®ç»“æ„å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">[</span>
    <span class="token comment">// å¦‚100*100çš„å›¾ç‰‡ï¼Œåƒç´ æ•°æ®çš„é¡ºåºæŒ‰ç…§ä¸€è¡Œä¸€è¡Œæ’åˆ—ï¼Œå…±100*100*4ä¸ªå…ƒç´ </span>
    <span class="token comment">// ç¬¬ä¸€ä¸ªåƒç´ çš„rgba</span>
    <span class="token number">123</span><span class="token punctuation">,</span> <span class="token comment">// r</span>
    <span class="token number">255</span><span class="token punctuation">,</span> <span class="token comment">// g</span>
    <span class="token number">23</span><span class="token punctuation">,</span> <span class="token comment">// b</span>
    <span class="token number">255</span><span class="token punctuation">,</span> <span class="token comment">// a</span>
    <span class="token comment">// ç¬¬äºŒä¸ªåƒç´ çš„rgba</span>
    <span class="token number">23</span><span class="token punctuation">,</span>
    <span class="token number">55</span><span class="token punctuation">,</span>
    <span class="token number">213</span><span class="token punctuation">,</span>
    <span class="token number">255</span><span class="token punctuation">,</span>
    <span class="token comment">// ......</span>
<span class="token punctuation">]</span>
</code></pre>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥å®šä¹‰è‡ªå·±ä¹ æƒ¯çš„æ•°æ®æ ¼å¼ã€‚</p>
</li>
<li>
<p>ç°åœ¨æˆ‘ä»¬éœ€è¦æ ¹æ®currentå€¼æ¥å†³å®šå›¾åƒåƒç´ çš„åç§»é‡offsetäº†ã€‚è¯´å®è¯ï¼Œè¿™ä¸€æ­¥ä¿ºä»¬æœ‰å¾ˆå¤§çš„è‡ªä¸»æƒï¼Œå‚æ•°ä»¥åŠå‡½æ•°çš„é€‰æ‹©å¯ä»¥å¸¦æ¥ä¸åŒçš„æ•ˆæœã€‚ç®€å•çš„æ¥è¯´ï¼Œcurrentå€¼è¶Šé«˜æ„å‘³ç€æ°´æ³¢è¶Šé«˜ï¼Œâ€œæŠ˜å°„â€è¶Šæ˜æ˜¾ï¼Œåç§»å€¼è¶Šå¤§ã€‚</p>
</li>
<li>
<p>åœ¨æœ€åï¼Œæˆ‘ä»¬éœ€è¦äº’æ¢currentå’Œpreviousæ•°ç»„ï¼Œå‡†å¤‡å¼€å§‹ä¸‹ä¸€è½®è®¡ç®—ã€‚</p>
</li>
<li>
<p>åŸºæœ¬æ˜¯åˆ°è¿™ä¸€æ­¥å°±ç»“æŸäº†â€”â€”ä½†æ˜¾ç„¶æˆ‘ä»¬è¿˜å·®ä¸€ä¸ªå…³é”®æ­¥éª¤ï¼Œå°±æ˜¯è§¦å‘æ³¢çº¹ã€‚ä¸Šæ–‡åœ¨åˆå§‹åŒ–currentå’Œpreviousæ—¶åˆå§‹åŒ–æ˜¯0ï¼Œå¦‚æœæˆ‘ä»¬ä¸å»æ”¹å˜ï¼Œåç§»å€¼è‡ªç„¶ä¹Ÿä¸€ç›´æ˜¯0ã€‚æƒ³è¦åœ¨æŸä¸ªä½ç½®è§¦å‘â€œæ°´æ³¢çº¹â€ï¼Œåªéœ€æ”¹å˜è¯¥åƒç´ çš„previouså€¼ä¾¿å¯ï¼Œéšåæ¯å¸§è¿›è¡Œçš„è®¡ç®—ä¼šæ¨åŠ¨æ³¢çº¹çš„äº§ç”Ÿã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯åšä¸€äº›æ°´æ³¢åœ¨å›¾åƒè¾¹ç¼˜ç¢°æ’çš„æ£€æµ‹ä½¿æ•ˆæœæ›´åŠ çœŸå®ã€‚</p>
</li>
<li>
<p>å¤§æ¦‚çš„ä»£ç ï¼Œå…·ä½“å¯æŸ¥çœ‹æœ€ä¸Šæ–¹çš„æ ·ä¾‹ï¼š</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token spread operator">...</span>
<span class="token comment">// è§¦å‘æ³¢çº¹</span>
<span class="token keyword">function</span> <span class="token function">tick</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    previous<span class="token punctuation">[</span><span class="token function">int</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token function">int</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">512</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token spread operator">...</span>
<span class="token comment">// æ¯ä¸€å¸§ç»˜åˆ¶</span>
<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">loadPixels</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å¾ªç¯éè¾¹ç¼˜çš„å¯¹è±¡</span>
    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token constant">COLS</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token constant">ROWS</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            current<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
                previous<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span>
                previous<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span>
                previous<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span>
                previous<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span>
            <span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> current<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>

            current<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">*=</span> dampening<span class="token punctuation">;</span>

			<span class="token spread operator">...</span>

            <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token number">1024</span> <span class="token operator">-</span> current<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">// è·å¾—åç§»å€¼</span>
            <span class="token keyword">let</span> xoffset <span class="token operator">=</span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> data <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> yoffset <span class="token operator">=</span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">*</span> data <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// è¾¹ç¼˜æ£€æŸ¥</span>
            <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>xoffset <span class="token operator">&gt;=</span> <span class="token constant">COLS</span><span class="token punctuation">)</span> xoffset <span class="token operator">=</span> <span class="token constant">COLS</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword control-flow">else</span> <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>xoffset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> xoffset <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>yoffset <span class="token operator">&gt;=</span> <span class="token constant">ROWS</span><span class="token punctuation">)</span> yoffset <span class="token operator">=</span> <span class="token constant">ROWS</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword control-flow">else</span> <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>yoffset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> yoffset <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

            <span class="token comment">// æ ¹æ®åç§»å€¼è·å¾—åç§»ä¸‹æ ‡</span>
            <span class="token keyword">const</span> index <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> j <span class="token operator">*</span> <span class="token constant">COLS</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> newIndex <span class="token operator">=</span> <span class="token punctuation">(</span>xoffset <span class="token operator">+</span> yoffset <span class="token operator">*</span> <span class="token constant">COLS</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">;</span>

            pixels<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> imagePixelsCopy<span class="token punctuation">[</span>newIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
            pixels<span class="token punctuation">[</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> imagePixelsCopy<span class="token punctuation">[</span>newIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            pixels<span class="token punctuation">[</span>index <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> imagePixelsCopy<span class="token punctuation">[</span>newIndex <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">updatePixels</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// äº¤æ¢currentä¸previous</span>
    <span class="token keyword">let</span> temp <span class="token operator">=</span> previous<span class="token punctuation">;</span>
    previous <span class="token operator">=</span> current<span class="token punctuation">;</span>
    current <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
</ol>
<h2 id="å†å²è€ƒå¯Ÿ">å†å²è€ƒå¯Ÿ</h2>
<p>åœ¨å†™è¿™ç¯‡æ°´æ–‡æŸ¥é˜…èµ„æ–™æ—¶ï¼Œå‘ç°æœ‰å‡ ç¯‡æ–‡ç« éƒ½æŒ‡å‘äº†ä¸€ä¸ªç°åœ¨æ— æ³•æ‰“å¼€çš„åœ°å€ï¼Œå¥½åœ¨<a href="https://archive.org/" target="_blank" rel="noreferrer">archive</a>å­˜æœ‰å¿«ç…§ï¼Œè¿™æ˜¯ç¯‡98å¹´çš„åšå®¢ï¼Œä½œè€…å¯¹äºç®—æ³•çš„åŸç†åŠåº”ç”¨éƒ½æœ‰å¾ˆå¥½çš„ä»‹ç»ï¼Œå¾ˆå»ºè®®é˜…è¯»ï¼Œè¿™é‡Œæ˜¯<a href="https://web.archive.org/web/20160607052007/http://freespace.virgin.net/hugo.elias/graphics/x_water.htm" target="_blank" rel="noreferrer">åœ°å€</a>ã€‚</p>
<hr/>
<p>æˆ‘ä»€ä¹ˆéƒ½ä¸æƒ³åšï¼Œæˆ‘åªæƒ³ç©èµ›åšæœ‹å…‹2077.jpg</p></div></div></div></div><div class="sc-3304c032-0 fiBoCN"><div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"image-processing-water-ripple","title":"å›¾åƒå¤„ç†åˆè§ï¼â€”â€”æ°´æ³¢çº¹","date":"2018-06-12","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    strong: \"strong\",\n    h2: \"h2\",\n    h3: \"h3\",\n    ol: \"ol\",\n    li: \"li\",\n    ul: \"ul\",\n    img: \"img\",\n    code: \"code\",\n    pre: \"pre\",\n    span: \"span\",\n    a: \"a\",\n    hr: \"hr\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"æ°´æ³¢çº¹æ•ˆæœçš„å®ç°æ–¹æ³•å…¶å®ç›¸å½“å¤šï¼Œä»Šå¤©ä¿ºæƒ³è®¨è®ºçš„ä¸€ç§æ˜¯åˆ©ç”¨ç®—æ³•ï¼ˆå°±æ˜¯è¯´ä¾ç…§æŸç§è§„åˆ™å°†å›¾åƒçš„åƒç´ ä¹±æä¸€é€šï¼Œçœ‹èµ·æ¥å°±åƒæ³¢çº¹ä¸€æ ·ï¼ï¼‰æ¥è¿›è¡Œå¤„ç†çš„ï¼Œä¸å€ŸåŠ©æ³¢çº¹å›¾ç‰‡ç­‰ç­‰ï¼Œå› æ­¤æœ‰å¾ˆé«˜çš„å¯å®šåˆ¶æ€§ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"WARNINGâ€”â€”æœ¬æ–‡ä¸­çš„demoæœªåšè¶³å¤Ÿä¼˜åŒ–ï¼Œä¸å»ºè®®ä½¿ç”¨æ‰‹æœºæŸ¥çœ‹\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"é¦–å…ˆæ¥çœ‹ä¸€çœ¼æ•ˆæœ\",\n      children: \"é¦–å…ˆæ¥çœ‹ä¸€çœ¼æ•ˆæœ\"\n    }), \"\\n\", _jsxs(\"p\", {\n      \"data-height\": \"265\",\n      \"data-theme-id\": \"0\",\n      \"data-slug-hash\": \"YvVypN\",\n      \"data-default-tab\": \"js,result\",\n      \"data-user\": \"padfoot_07\",\n      \"data-embed-version\": \"2\",\n      \"data-pen-title\": \"water ripple\",\n      class: \"codepen\",\n      children: [\"See the Pen \", _jsx(\"a\", {\n        href: \"https://codepen.io/padfoot_07/pen/YvVypN/\",\n        children: \"water ripple\"\n      }), \" by Zhouyi (\", _jsx(\"a\", {\n        href: \"https://codepen.io/padfoot_07\",\n        children: \"@padfoot_07\"\n      }), \") on \", _jsx(\"a\", {\n        href: \"https://codepen.io\",\n        children: \"CodePen\"\n      }), \".\"]\n    }), \"\\n\", _jsx(\"script\", {\n      async: true,\n      src: \"https://static.codepen.io/assets/embed/ei.js\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ã€ä¼¤å®³å¤§å®¶çš„çœ¼ç›ä½¿æˆ‘å¿«ä¹ã€‘\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"é‚£ä¹ˆè¿™ä¹ˆå¥½çš„ç®—æ³•æ˜¯ä»€ä¹ˆå‘¢\",\n      children: \"é‚£ä¹ˆï¼Œè¿™ä¹ˆå¥½çš„ç®—æ³•æ˜¯ä»€ä¹ˆå‘¢?\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"ä¸å‡†ç¡®çš„å¤§æ¦‚æè¿°\",\n      children: \"ä¸å‡†ç¡®çš„å¤§æ¦‚æè¿°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"åœ¨å…·ä½“ä»‹ç»ç­–ç•¥ä¹‹å‰ï¼Œä¿ºå…ˆæ¨¡ç³Šçš„æè¿°ä¸€ä¸‹è¿™ä¸ªç­–ç•¥çš„æ€æƒ³ï¼š\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"æ°´æ³¢çº¹æœ¬è´¨ä¸Šæ˜¯åƒç´ æœ‰è§„å¾‹çš„å‘ç”Ÿ\", _jsxs(_components.strong, {\n        children: [\"åç§»ï¼ˆoffsetï¼‰\", _jsx(_components.strong, {\n          children: \"é€ æˆçš„è§†è§‰æ•ˆæœï¼Œä¸”è¿™ä¸ªåç§»è¿ç»­è¿›è¡Œï¼Œçœ‹èµ·æ¥æ‰ä¼šåƒæ˜¯æ°´æ³¢æ‰©æ•£ã€è¡æ¼¾ä¸€æ ·ã€‚å› æ­¤åœ¨æˆ‘ä»¬è¯•å›¾å°†è¿™ç§åç§»ä½œç”¨åˆ°å›¾åƒï¼ˆä¸€å †åƒç´ ï¼‰ä¸Šä¹‹å‰ï¼Œé¦–å…ˆæ€è€ƒçš„æ˜¯ä¸€è¿ä¸²çš„æ•°å€¼å˜åŒ–ï¼›æˆ‘ä»¬ä¸ºå›¾åƒçš„æ¯ä¸€ä¸ªåƒç´ éƒ½èµ‹äºˆä¸€ä¸ªæ•°å€¼ï¼Œæ¥ä»£è¡¨å®ƒåœ¨â€œæ°´æ³¢çº¹â€ä½œç”¨ä¸‹çš„çŠ¶æ€ã€‚è€Œè¿™ä¸ªå˜åŒ–è¦å…·æœ‰è¿ç»­æ€§ï¼Œæˆ‘ä»¬è¦ä¸åœè®°å½•\"\n        }), \"å½“å‰\"]\n      }), \"å’Œ\", _jsx(_components.strong, {\n        children: \"ä¸Šä¸€å¸§æ¸²æŸ“\"\n      }), \"çš„çŠ¶æ€ï¼Œå†ä¾æ®æŸç§ç­–ç•¥ä½¿å…¶çŠ¶æ€çš„æ”¹å˜è‡ªå‘è¿›è¡Œä¸‹å»ã€‚ä¹‹åå†\", _jsx(_components.strong, {\n        children: \"ä¾æ®æ¯ä¸ªåƒç´ çš„çŠ¶æ€ä¿¡æ¯ï¼Œè®¡ç®—å‡ºå®ƒçš„åç§»\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"å…·ä½“ç­–ç•¥\",\n      children: \"å…·ä½“ç­–ç•¥\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å‡è®¾æˆ‘ä»¬å¤„ç†çš„æ˜¯100*100çš„å›¾åƒï¼Œè¿™ä¸ªç­–ç•¥å¤§æ¦‚åˆ†ä¸ºè¿™ä¹ˆå‡ æ­¥ï¼š\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [\"è®°å½•æ°´æ³¢çº¹**å½“å‰ï¼ˆcurrentï¼‰\", _jsx(_components.strong, {\n            children: \"å’Œ\"\n          }), \"ä¸Šä¸€å¸§æ¸²æŸ“æ—¶ï¼ˆpreviousï¼‰**çš„çŠ¶æ€ä¿¡æ¯ã€‚å°±åƒæˆ‘ä»¬ä¸Šæ–‡æçš„ä¸€æ ·ï¼Œè¿™é‡Œçš„ä¿¡æ¯æ˜¯å¯¹åº”æ¯ä¸ªåƒç´ çš„ï¼Œå› æ­¤ä¿ºå°±ä½¿ç”¨äº†ä¸¤ä¸ªæ•°ç»„æ¥è®°å½•ï¼Œé•¿åº¦éƒ½ä¸º10000ï¼ˆ100*100ï¼Œå¯¹åº”åƒç´ é¡ºåºæ˜¯æŒ‰ç…§ä¸€è¡Œä¸€è¡Œæ’åˆ—\"]\n        }), \"\\n\", _jsx(_components.p, {\n          children: \"ï¼Œä»å·¦å‘å³ï¼Œä»ä¸Šå‘ä¸‹ï¼‰ï¼Œå‡åˆå§‹åŒ–ä¸º0ã€‚\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [\"æ¯ä¸€å¸§ï¼Œéƒ½åˆ©ç”¨previouså¯¹currentè¿›è¡Œæ··åˆï¼ˆè¿™é‡Œä¼¼ä¹æ˜¯ä¸€ç§\", _jsx(_components.strong, {\n            children: \"å·ç§¯\"\n          }), \"è®¡ç®—ï¼Œç„¶è€Œä¿ºçš„é«˜æ•°ä¸å¥½ï¼Œå¯è‡ªè¡Œäº†è§£ï¼‰ï¼Œå¹¶äº¤æ¢ä¸¤è€…ï¼Œå…·ä½“å¦‚ä¸‹ï¼š\"]\n        }), \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"\\n\", _jsx(_components.p, {\n              children: \"å¯¹äºæ¯ä¸ªåƒç´ çš„currentå€¼ï¼ˆä¸ºäº†æ–¹ä¾¿ï¼Œè¾¹ç¼˜åƒç´ è¿™é‡Œä¸å¤„ç†ï¼‰ï¼Œå°†å…¶previousä¸­çš„é‚»å±…åƒç´ ï¼ˆæ¯”å¦‚å®ƒçš„ä¸Šä¸‹å·¦å³å››ä¸ªåƒç´ ï¼‰çš„çŠ¶æ€æ•°å€¼ç›¸åŠ ï¼Œé™¤ä»¥2ï¼Œå‡å»currentä¸­çš„æ•°å€¼â€”â€”å½“ç„¶æˆ‘çŸ¥é“ä½ å¬ä¸æ‡‚ï¼Œæ‰€ä»¥ç”»äº†ä¸ªå›¾ï¼š\"\n            }), \"\\n\", _jsx(_components.p, {\n              children: _jsx(_components.img, {\n                src: \"https://hukua-blog.oss-cn-beijing.aliyuncs.com/markdown-imgs/%E6%B3%A2%E7%BA%B9%E7%AD%96%E7%95%A5.png\",\n                alt: \"ç­–ç•¥\"\n              })\n            }), \"\\n\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"\\n\", _jsx(_components.p, {\n              children: \"ç­‰ç­‰ï¼æ ¹æ®å¸¸è¯†ï¼Œæ³¢çº¹çš„æ‰©æ•£ï¼ˆå¡Œé™·ï¼‰å¹…åº¦ä¼šä¹‹é—´å‡å°ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªé˜»å°¼æ¥å‡å°currentå€¼ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ¯å¸§éƒ½ä¹˜ä»¥ä¸€ä¸ªå°äº1çš„å€¼ã€‚\"\n            }), \"\\n\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"\\n\", _jsx(_components.p, {\n              children: \"PS: å½“ç„¶ï¼Œå’±è‚¯å®šä¼šæƒ³ï¼Œè¿™ä»–å–µæ˜¯ä»€ä¹ˆä¸ªåŸç†ï¼Ÿè™½ç„¶æˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯å“ªä½å¤§ç¥æƒ³å‡ºçš„ç®—æ³•ï¼ˆè¿™ä¸ªç®—æ³•çš„ä½¿ç”¨ç›¸å½“å¹¿æ³›ï¼Œä»¥è‡³äºæˆ‘å‚è€ƒçš„ä¸åŒå®ç°æ ·ä¾‹éƒ½ä¸çº¦è€ŒåŒå¾—ä½¿ç”¨äº†è¯¥ç®—æ³•ï¼‰ï¼Œä½†æ˜¯è‡³å°‘å’±å¯ä»¥å¯è§†åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼Œåº·åº·åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼š\"\n            }), \"\\n\", _jsxs(\"p\", {\n              \"data-height\": \"265\",\n              \"data-theme-id\": \"0\",\n              \"data-slug-hash\": \"rKymEg\",\n              \"data-default-tab\": \"js,result\",\n              \"data-user\": \"padfoot_07\",\n              \"data-embed-version\": \"2\",\n              \"data-pen-title\": \"æ°´æ³¢çº¹ç­–ç•¥-å¯è§†åŒ–\",\n              class: \"codepen\",\n              children: [\"See the Pen \", _jsx(\"a\", {\n                href: \"https://codepen.io/padfoot_07/pen/rKymEg/\",\n                children: \"æ°´æ³¢çº¹ç­–ç•¥-å¯è§†åŒ–\"\n              }), \" by Zhouyi (\", _jsx(\"a\", {\n                href: \"https://codepen.io/padfoot_07\",\n                children: \"@padfoot_07\"\n              }), \") on \", _jsx(\"a\", {\n                href: \"https://codepen.io\",\n                children: \"CodePen\"\n              }), \".\"]\n            }), \"\\n\", _jsx(\"script\", {\n              async: true,\n              src: \"https://static.codepen.io/assets/embed/ei.js\"\n            }), \"\\n\", _jsx(_components.p, {\n              children: \"è¿™é‡Œdemoå°†æ¯ä¸ªåƒç´ çš„currentå€¼ç›´æ¥ä½œä¸ºrgbå€¼èµ‹äºˆäº†åƒç´ ï¼Œæ•°å€¼è¶Šé«˜çš„åƒç´ çœ‹èµ·æ¥è¶Šâ€œäº®â€ï¼Œå¯ä»¥ç›´è§‚çš„çœ‹å‡ºæ•°å€¼çš„å˜åŒ–å°±æ˜¯æ³¢çº¹çŠ¶ã€‚\"\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [\"æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥å‡†å¤‡å¤„ç†å›¾åƒäº†ï¼Œé¦–å…ˆè‡ªç„¶æ˜¯è·å¾—å›¾åƒçš„åƒç´ ä¿¡æ¯ï¼Œæ¯”å¦‚æˆ‘ä½¿ç”¨çš„p5.jsï¼Œæä¾›\", _jsx(_components.code, {\n            children: \"loadPixels()\"\n          }), \"è¿™æ ·çš„apiä¾¿å¯å¦‚å­—é¢æ„ä¹‰è·å¾—å›¾åƒæ‰€æœ‰çš„åƒç´ ä¿¡æ¯ï¼Œæ•°æ®ç»“æ„å¤§æ¦‚æ˜¯è¿™æ ·ï¼š\"]\n        }), \"\\n\", _jsx(_components.pre, {\n          className: \"language-javascript\",\n          children: _jsxs(_components.code, {\n            className: \"language-javascript\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// å¦‚100*100çš„å›¾ç‰‡ï¼Œåƒç´ æ•°æ®çš„é¡ºåºæŒ‰ç…§ä¸€è¡Œä¸€è¡Œæ’åˆ—ï¼Œå…±100*100*4ä¸ªå…ƒç´ \"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ç¬¬ä¸€ä¸ªåƒç´ çš„rgba\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"123\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// r\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"255\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// g\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"23\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// b\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"255\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// a\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ç¬¬äºŒä¸ªåƒç´ çš„rgba\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"23\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"55\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"213\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"255\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ......\"\n            }), \"\\n\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \"\\n\"]\n          })\n        }), \"\\n\", _jsx(_components.p, {\n          children: \"å½“ç„¶ä½ ä¹Ÿå¯ä»¥å®šä¹‰è‡ªå·±ä¹ æƒ¯çš„æ•°æ®æ ¼å¼ã€‚\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"ç°åœ¨æˆ‘ä»¬éœ€è¦æ ¹æ®currentå€¼æ¥å†³å®šå›¾åƒåƒç´ çš„åç§»é‡offsetäº†ã€‚è¯´å®è¯ï¼Œè¿™ä¸€æ­¥ä¿ºä»¬æœ‰å¾ˆå¤§çš„è‡ªä¸»æƒï¼Œå‚æ•°ä»¥åŠå‡½æ•°çš„é€‰æ‹©å¯ä»¥å¸¦æ¥ä¸åŒçš„æ•ˆæœã€‚ç®€å•çš„æ¥è¯´ï¼Œcurrentå€¼è¶Šé«˜æ„å‘³ç€æ°´æ³¢è¶Šé«˜ï¼Œâ€œæŠ˜å°„â€è¶Šæ˜æ˜¾ï¼Œåç§»å€¼è¶Šå¤§ã€‚\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"åœ¨æœ€åï¼Œæˆ‘ä»¬éœ€è¦äº’æ¢currentå’Œpreviousæ•°ç»„ï¼Œå‡†å¤‡å¼€å§‹ä¸‹ä¸€è½®è®¡ç®—ã€‚\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"åŸºæœ¬æ˜¯åˆ°è¿™ä¸€æ­¥å°±ç»“æŸäº†â€”â€”ä½†æ˜¾ç„¶æˆ‘ä»¬è¿˜å·®ä¸€ä¸ªå…³é”®æ­¥éª¤ï¼Œå°±æ˜¯è§¦å‘æ³¢çº¹ã€‚ä¸Šæ–‡åœ¨åˆå§‹åŒ–currentå’Œpreviousæ—¶åˆå§‹åŒ–æ˜¯0ï¼Œå¦‚æœæˆ‘ä»¬ä¸å»æ”¹å˜ï¼Œåç§»å€¼è‡ªç„¶ä¹Ÿä¸€ç›´æ˜¯0ã€‚æƒ³è¦åœ¨æŸä¸ªä½ç½®è§¦å‘â€œæ°´æ³¢çº¹â€ï¼Œåªéœ€æ”¹å˜è¯¥åƒç´ çš„previouså€¼ä¾¿å¯ï¼Œéšåæ¯å¸§è¿›è¡Œçš„è®¡ç®—ä¼šæ¨åŠ¨æ³¢çº¹çš„äº§ç”Ÿã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯åšä¸€äº›æ°´æ³¢åœ¨å›¾åƒè¾¹ç¼˜ç¢°æ’çš„æ£€æµ‹ä½¿æ•ˆæœæ›´åŠ çœŸå®ã€‚\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"å¤§æ¦‚çš„ä»£ç ï¼Œå…·ä½“å¯æŸ¥çœ‹æœ€ä¸Šæ–¹çš„æ ·ä¾‹ï¼š\"\n        }), \"\\n\", _jsx(_components.pre, {\n          className: \"language-javascript\",\n          children: _jsxs(_components.code, {\n            className: \"language-javascript\",\n            children: [_jsx(_components.span, {\n              className: \"token spread operator\",\n              children: \"...\"\n            }), \"\\n\", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// è§¦å‘æ³¢çº¹\"\n            }), \"\\n\", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"function\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"tick\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"\\n    previous\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"int\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"random\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token number\",\n              children: \"400\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"int\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"random\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token number\",\n              children: \"400\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"512\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \"\\n\", _jsx(_components.span, {\n              className: \"token spread operator\",\n              children: \"...\"\n            }), \"\\n\", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// æ¯ä¸€å¸§ç»˜åˆ¶\"\n            }), \"\\n\", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"function\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"draw\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"drawImage\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\\t\", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"loadPixels\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// å¾ªç¯éè¾¹ç¼˜çš„å¯¹è±¡\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"for\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" i \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \" i \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"COLS\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"-\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \" i\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"++\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"\\n        \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"for\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" j \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \" j \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"ROWS\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"-\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \" j\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"++\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"\\n            current\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"i\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"j\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"\\n                previous\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"i \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"-\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"j\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \"\\n                previous\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"i \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"j\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \"\\n                previous\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"i\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"j \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"-\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \"\\n                previous\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"i\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"j \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \"\\n            \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"2\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"-\"\n            }), \" current\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"i\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"j\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\\n            current\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"i\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"j\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"*=\"\n            }), \" dampening\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\\n\\t\\t\\t\", _jsx(_components.span, {\n              className: \"token spread operator\",\n              children: \"...\"\n            }), \"\\n\\n            \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" data \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1024\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"-\"\n            }), \" current\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"i\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"j\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\\n            \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// è·å¾—åç§»å€¼\"\n            }), \"\\n            \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" xoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"int\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"i\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"*\"\n            }), \" data \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1024\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n            \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" yoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"int\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"j\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"*\"\n            }), \" data \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1024\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\\n            \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// è¾¹ç¼˜æ£€æŸ¥\"\n            }), \"\\n            \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"if\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"xoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"COLS\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" xoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"COLS\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"-\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n            \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"else\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"if\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"xoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"0\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" xoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"0\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n            \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"if\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"yoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"ROWS\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" yoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"ROWS\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"-\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n            \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"else\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"if\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"yoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"0\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" yoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"0\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\\n            \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// æ ¹æ®åç§»å€¼è·å¾—åç§»ä¸‹æ ‡\"\n            }), \"\\n            \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" index \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"i \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \" j \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"*\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"COLS\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"*\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"4\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n            \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" newIndex \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"xoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \" yoffset \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"*\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"COLS\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"*\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"4\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\\n            pixels\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"index\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" imagePixelsCopy\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"newIndex\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n            pixels\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"index \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" imagePixelsCopy\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"newIndex \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n            pixels\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"index \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"2\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" imagePixelsCopy\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"newIndex \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"2\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"updatePixels\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\\n    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// äº¤æ¢currentä¸previous\"\n            }), \"\\n    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" temp \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" previous\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n    previous \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" current\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n    current \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" temp\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \"\\n\"]\n          })\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"å†å²è€ƒå¯Ÿ\",\n      children: \"å†å²è€ƒå¯Ÿ\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"åœ¨å†™è¿™ç¯‡æ°´æ–‡æŸ¥é˜…èµ„æ–™æ—¶ï¼Œå‘ç°æœ‰å‡ ç¯‡æ–‡ç« éƒ½æŒ‡å‘äº†ä¸€ä¸ªç°åœ¨æ— æ³•æ‰“å¼€çš„åœ°å€ï¼Œå¥½åœ¨\", _jsx(_components.a, {\n        href: \"https://archive.org/\",\n        children: \"archive\"\n      }), \"å­˜æœ‰å¿«ç…§ï¼Œè¿™æ˜¯ç¯‡98å¹´çš„åšå®¢ï¼Œä½œè€…å¯¹äºç®—æ³•çš„åŸç†åŠåº”ç”¨éƒ½æœ‰å¾ˆå¥½çš„ä»‹ç»ï¼Œå¾ˆå»ºè®®é˜…è¯»ï¼Œè¿™é‡Œæ˜¯\", _jsx(_components.a, {\n        href: \"https://web.archive.org/web/20160607052007/http://freespace.virgin.net/hugo.elias/graphics/x_water.htm\",\n        children: \"åœ°å€\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.p, {\n      children: \"æˆ‘ä»€ä¹ˆéƒ½ä¸æƒ³åšï¼Œæˆ‘åªæƒ³ç©èµ›åšæœ‹å…‹2077.jpg\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"description":"æ°´æ³¢çº¹æ•ˆæœçš„å®ç°æ–¹æ³•å…¶å®ç›¸å½“å¤šï¼Œä»Šå¤©ä¿ºæƒ³è®¨è®ºçš„ä¸€ç§æ˜¯åˆ©ç”¨ç®—æ³•ï¼ˆå°±æ˜¯è¯´ä¾ç…§æŸç§è§„åˆ™å°†å›¾åƒçš„åƒç´ ä¹±æä¸€é€šï¼Œçœ‹èµ·æ¥å°±åƒæ³¢çº¹ä¸€æ ·ï¼ï¼‰æ¥è¿›è¡Œå¤„ç†çš„ï¼Œä¸å€ŸåŠ©æ³¢çº¹å›¾ç‰‡ç­‰ç­‰ï¼Œå› æ­¤æœ‰å¾ˆé«˜çš„å¯å®šåˆ¶æ€§ã€‚......","usedCustomComponentNames":[]},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"image-processing-water-ripple"},"buildId":"GIjWwzmqV_zCUqfUSYb44","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>