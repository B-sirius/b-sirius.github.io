<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>LWDW!</title><meta name="description" content="ä½¿ç”¨Github Actionsä¸CloudFlare Pagesä¼˜åŒ–åšå®¢ä¸Šçº¿æµç¨‹"/><meta property="og:title" content="ä½¿ç”¨Github Actionsä¸CloudFlare Pagesä¼˜åŒ–åšå®¢ä¸Šçº¿æµç¨‹"/><meta property="og:description" content="æˆ‘ä¸ªäººçš„é¦–é€‰æ–¹æ¡ˆæ˜¯Github Pagesï¼Œå› ä¸ºå®ƒå…è´¹ï¼Œä¸”åŸŸåç›´è§‚ã€‚......"/><meta name="next-head-count" content="6"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#ffffff"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#000"/><meta property="og:type" content="website"/><meta property="og:image" content="https://s2.loli.net/2023/01/18/42YTZxzePtR7jy9.png"/><meta property="og:url" content="https://b-sirius.github.io"/><link rel="preload" href="/_next/static/css/aef510c8abf24c2c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aef510c8abf24c2c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b51a0fb142b75fa0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b51a0fb142b75fa0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-f164db4954bac6ec.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-673a4fae4a27af6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0da236044dc4e5fc.js" defer=""></script><script src="/_next/static/chunks/664-1b4479b4462ded63.js" defer=""></script><script src="/_next/static/chunks/332-e879213584d084bf.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-1cba9b73018ff034.js" defer=""></script><script src="/_next/static/H4PWxIBNlZzCnB52z8dny/_buildManifest.js" defer=""></script><script src="/_next/static/H4PWxIBNlZzCnB52z8dny/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="sc-590e23a2-0 iUjvom"><div class="sc-7fa12c98-0 iqAzDm"><div class="sc-357ac6e1-1 blSmbb"><div class="sc-357ac6e1-0 fqUBXX"><a class="sc-357ac6e1-2 gfNIvm" href="/">[<!-- -->Home<!-- -->]</a><a class="sc-357ac6e1-2 gfNIvm" href="/posts">[<!-- -->Posts<!-- -->]</a><a class="sc-357ac6e1-3 eNeEmH" rel="noopener noreferrer" target="_blank" href="https://github.com/B-sirius">[<!-- -->Github<!-- -->]</a><a class="sc-357ac6e1-3 eNeEmH" rel="noopener noreferrer" target="_blank" href="https://b-sirius.github.io/rss.xml">[<!-- -->RSS<!-- -->]</a></div><div class="sc-f5ce872-0 drvesR"><h1 class="sc-f5ce872-1 jPBPjm">LWDW!</h1><p class="sc-f5ce872-2 djaGsH">Learn the work from doing the workğŸº</p></div></div><div class="sc-920e94b6-0 sc-659069c1-0 cMfBpD jHWfVM"><div><div class="sc-32c5999b-0 iFBmZi"><div class="sc-32c5999b-2 fHkOeB">ä½¿ç”¨Github Actionsä¸CloudFlare Pagesä¼˜åŒ–åšå®¢ä¸Šçº¿æµç¨‹</div><div class="sc-32c5999b-3 deKveP">Posted on <!-- -->2023-02-14</div></div></div></div><div class="sc-920e94b6-0 cMfBpD"><div><div class="sc-32c5999b-1 fNXLto"><div class="sc-a2d97488-0 dmbacr"><div><html><head></head><body><p>åœ¨ä¹‹å‰çš„æ–‡ç« <a href="https://b-sirius.github.io/posts/use-nextjs-create-SSG-blog" target="_blank" rel="nofollow">ä½ çš„é™æ€åšå®¢ï¼Œä½•å¿…æ˜¯hexo</a>ä¸­ï¼Œæˆ‘å¤§æ¦‚ä»‹ç»äº†å¦‚ä½•æ­å»ºä¸€ä¸ªä¸ªäººé™æ€åšå®¢ï¼Œä½†å¹¶æ²¡æœ‰æ¶‰åŠè¦å¦‚ä½•å°†å…¶ä¸Šçº¿ã€‚</p>
<p>æˆ‘ä¸ªäººçš„é¦–é€‰æ–¹æ¡ˆæ˜¯Github Pagesï¼Œå› ä¸ºå®ƒå…è´¹ï¼Œä¸”åŸŸåç›´è§‚ã€‚</p>
<p>åœ¨æœ€åˆçš„æ—¶å€™ï¼Œè¦å‘å¸ƒä¸€ç¯‡æ–°çš„åšå®¢ï¼ˆæˆ–è€…åšä¸€äº›åŠŸèƒ½æ›´æ–°ï¼‰ï¼Œæˆ‘è¦æ‰‹åŠ¨åšä»¥ä¸‹å‡ æ­¥å·¥ä½œï¼š</p>
<ol>
<li>åœ¨åšå®¢ä»“åº“ï¼ˆ<code>&#x3C;username>.github.io</code>ï¼‰åˆ‡å‡ºä¸€ä¸ªæœ¬åœ°æ–°åˆ†æ”¯ï¼›</li>
<li>åœ¨åˆ†æ”¯ä¸Šå®Œæˆåšå®¢å†…å®¹çš„ç¼–å†™ï¼›</li>
<li>æœ¬åœ°è¿è¡Œ<code>yarn export</code>æ„å»ºï¼Œç”Ÿæˆ<code>/docs</code>ç›®å½•ï¼ˆgithub pagesåªå…è®¸æŒ‡å®šç›®å½•ä¸ºæ ¹ç›®å½•æˆ–docsç›®å½•ï¼‰ï¼›</li>
<li>å°†æ›´æ–°è¿‡çš„ä»£ç æ¨ä¸Šè¿œç«¯åˆ†æ”¯ï¼›</li>
<li>å‘èµ·PRï¼›</li>
<li>åˆå¹¶PRï¼›</li>
<li>ç­‰å¾…Github Pagesé‡æ–°éƒ¨ç½²ï¼Œå»çº¿ä¸ŠéªŒè¯åšå®¢æ˜¯å¦æ›´æ–°æˆåŠŸï¼›</li>
</ol>
<p>åœ¨å¤šæ¬¡ä¸æ–­çš„é‡å¤ä»¥ä¸Šæ“ä½œåï¼Œæˆ‘æ„è¯†åˆ°äº†å‡ ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>æˆ‘ç»å¸¸å¿˜è®°æœ¬åœ°exportæ„å»ºï¼Œå› ä¸ºå¯åŠ¨devç¯å¢ƒæ˜¯ä¸éœ€è¦è¿™ä¸€æ­¥çš„ï¼›</li>
<li>åšå®¢ä»“åº“åŒæ—¶åŒ…å«äº†æºä»£ç ä¸æ„å»ºäº§ç‰©ä»£ç ï¼Œå¦‚æœfork&#x26;cloneçš„è¯ï¼Œæ„å»ºäº§ç‰©ä»£ç å…¶å®æ˜¯å®Œå…¨æ²¡æœ‰ç”¨çš„ï¼›</li>
<li>æˆ‘åªæœ‰åœ¨åˆå¹¶äº†mainåˆ†æ”¯åæ‰èƒ½éªŒè¯çº¿ä¸Šåšå®¢æ˜¯å¦æ›´æ–°æˆåŠŸã€‚å¦‚æœå‘ç”Ÿäº†æœ¬åœ°ç¯å¢ƒæ²¡æœ‰å‡ºç°çš„é—®é¢˜ï¼Œé‚£å°±æ„å‘³ç€æˆ‘çš„çº¿ä¸Šç”Ÿäº§ç¯å¢ƒå´©æ‰äº†ï¼›</li>
</ol>
<p>è¿™ç§æƒ…å½¢ä¸‹ï¼Œå¼•å…¥ä¸€äº›CI/CDå·¥å…·å®ç°<strong>è‡ªåŠ¨è§¦å‘</strong>çš„<strong>çº¿ä¸Šæ„å»ºéƒ¨ç½²</strong>æ˜¯å¸¸è§çš„è§£å†³æ–¹æ¡ˆã€‚æˆ‘å°†ä¼šä»‹ç»<strong>Github Actions</strong>ä»¥åŠ<strong>CloudFlare Pages</strong>ï¼Œçœ‹çœ‹è¿™ä¸¤ä¸ªå…è´¹æœåŠ¡å¯ä»¥å¸®æˆ‘ä»¬å®ç°æ€æ ·çš„è‡ªåŠ¨åŒ–ã€‚</p>
<p>ã€å‰§é€ã€‘æœ€ç»ˆå®ç°å¦‚ä¸‹ï¼š</p>
<p><img src="https://s2.loli.net/2023/02/14/iljSW7nucVfgAF1.png" alt="ä¼˜åŒ–åšå®¢éƒ¨ç½².png"></p>
<h2 id="github-actions">Github Actions</h2>
<p>ä»‹ç»å®ƒçš„æ–‡ç« å¾ˆå¤šï¼Œå› æ­¤æˆ‘ä¸æ‰“ç®—å±•å¼€ã€‚ç›´æ¥è¯´å®ƒçš„ç‰¹ç‚¹ï¼š</p>
<ol>
<li>å®ƒå¯ä»¥è¢«å„ç§å„æ ·çš„Githubæ“ä½œè‡ªåŠ¨è§¦å‘â€”â€”æ¯”å¦‚æ–°å»ºåˆ†æ”¯ã€open PRã€pushåˆ°æŸä¸ªåˆ†æ”¯ï¼Œä¹Ÿæ”¯æŒé€šè¿‡Github APIæ‰‹åŠ¨è§¦å‘ï¼ˆ<code>workflow_dispatch</code>ï¼‰</li>
<li>Githubç»´æŠ¤äº†ä¸€ä¸ªActionå¸‚åœºï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ç¤¾åŒºè´¡çŒ®çš„Actionè€Œæ— éœ€è‡ªå·±é‡æ–°æ‰‹å†™å„ç§å¸¸ç”¨åŠŸèƒ½ã€‚æ¯”å¦‚è·å–å½“å‰çš„åˆ†æ”¯ã€æŒ‡å®šnodeç‰ˆæœ¬ã€å°†æŒ‡å®šç›®å½•æ¨é€åˆ°Amazon S3ã€‚</li>
</ol>
<p>ä»¥æˆ‘å°†åšå®¢æ¨é€åˆ°Github Pagesçš„workflowä¸ºä¾‹ï¼š</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .github/workflows/production.yml</span>
<span class="token comment"># æ‰€æœ‰çš„workflowå¿…é¡»æ”¾åœ¨.github/workflowsç›®å½•ä¸‹æ‰èƒ½è¢«è¯†åˆ«ï¼Œæ–‡ä»¶åä¼šä½œä¸ºè¯¥workflowçš„åç§°</span>

<span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy for production

<span class="token comment"># onæŒ‡å®šäº†è¯¥workflowçš„è§¦å‘æ—¶æœº</span>
<span class="token comment"># è¿™é‡Œæ˜¯æŒ‡å®šåœ¨mainåˆ†æ”¯æœ‰æ›´æ–°æ—¶è§¦å‘ï¼ˆç›´æ¥pushæˆ–è€…mergeè¿›mainåˆ†æ”¯éƒ½ä¼šè§¦å‘è¯¥æ—¶é—´ï¼‰</span>
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token comment"># job id</span>
  <span class="token key atrule">production</span><span class="token punctuation">:</span>
    <span class="token comment"># runs-onæŒ‡å®šäº†è¿è¡Œä»»åŠ¡çš„æœºå™¨ç±»å‹ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æœºå™¨ï¼ˆæ¯”å¦‚éœ€è¦æ”¯æŒå†…ç½‘ç¯å¢ƒï¼‰ï¼Œæ›´å¤šå¯ä»¥å»äº†è§£â€œself-hosted runnerâ€</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token comment"># environmentæŒ‡çš„å°±æ˜¯ä»“åº“è®¾ç½®ä¸­ Actions secrets and variables å¯¹åº”çš„environmentï¼Œç”¨äºåŒºåˆ†å˜é‡ç¯å¢ƒ</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span> production

    <span class="token comment"># stepså°±æ˜¯æ¯ä¸ªjobå…·ä½“çš„æ­¥éª¤</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token comment"># usesä»£è¡¨äº†è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªç¤¾åŒºè´¡çŒ®çš„action</span>
      <span class="token comment"># checkoutåˆ°æŒ‡å®šåˆ†æ”¯</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">ref</span><span class="token punctuation">:</span> main

      <span class="token comment"># æŒ‡å®šnodeç‰ˆæœ¬</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token number">16</span>

      <span class="token comment"># yarn install</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> borales/actions<span class="token punctuation">-</span>yarn@v4
        <span class="token key atrule">name</span><span class="token punctuation">:</span> yarn install
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">cmd</span><span class="token punctuation">:</span> install

      <span class="token comment"># yarn export</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> borales/actions<span class="token punctuation">-</span>yarn@v4
        <span class="token key atrule">name</span><span class="token punctuation">:</span> yarn export
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">cmd</span><span class="token punctuation">:</span> export

      <span class="token comment"># å°†ä¸Šä¸€æ­¥çš„æ„å»ºç›®å½•æ¨åŠ¨åˆ°æŒ‡å®šä»“åº“çš„æŒ‡å®šåˆ†æ”¯</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Pushes to the blog github pages
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> cpina/github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>push<span class="token punctuation">-</span>to<span class="token punctuation">-</span>another<span class="token punctuation">-</span>repository@main
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token comment"># secretsåœ¨ä»“åº“settingsä¸­è¿›è¡Œè®¾ç½®å¥½ï¼Œåœ¨å¯¹åº”çš„ç¯å¢ƒä¾¿å¯è¯»å–</span>
          <span class="token key atrule">API_TOKEN_GITHUB</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.API_TOKEN_GITHUB <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">source-directory</span><span class="token punctuation">:</span> <span class="token string">'docs'</span>
          <span class="token key atrule">destination-github-username</span><span class="token punctuation">:</span> <span class="token string">'B-sirius'</span>
          <span class="token key atrule">destination-repository-name</span><span class="token punctuation">:</span> <span class="token string">'b-sirius.github.io'</span>
          <span class="token key atrule">target-branch</span><span class="token punctuation">:</span> main
</code></pre>
<p>æœ‰äº†è¿™æ ·ä¸€ä¸ªè‡ªåŠ¨è§¦å‘çš„å·¥ä½œæµåï¼Œæˆ‘ä¾¿æ‹†åˆ†å‡ºäº†åšå®¢æºä»£ç ä»“åº“ã€‚æ¯æ¬¡æºä»£ç ä»“åº“çš„mainåˆ†æ”¯æ›´æ–°æ—¶ï¼ŒGithub Actionsä¼šè‡ªåŠ¨å»è¿›è¡Œæ„å»ºï¼Œå¹¶å°†æ„å»ºç»“æœpushåˆ°Github Pagesä½¿ç”¨çš„ä»“åº“<a href="https://github.com/B-sirius/b-sirius.github.io" target="_blank" rel="nofollow">b-sirius.github.io</a>çš„mainåˆ†æ”¯ã€‚è€ŒGithub Pagesä¹Ÿä¼šåœ¨mainæ›´æ–°æ—¶ï¼Œè‡ªåŠ¨è§¦å‘éƒ¨ç½²ï¼Œæ›´æ–°çº¿ä¸Šé¡µé¢ã€‚äºæ˜¯æˆ‘ä¹‹å‰æåˆ°çš„ç—›ç‚¹çš„å‰ä¸¤ä¸ªï¼Œå°±éƒ½è§£å†³äº†ã€‚</p>
<h2 id="cloudflare-pages">CloudFlare Pages</h2>
<p>äºæ˜¯æˆ‘è¿˜å‰©ä¸‹ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•æ”¯æŒæµ‹è¯•ï¼ˆpreviewï¼‰ç¯å¢ƒï¼Ÿå¯¹äºä»»ä½•åº”ç”¨æ¥è¯´ï¼Œåœ¨æœ¬åœ°éªŒè¯ä¸ç”Ÿäº§ç¯å¢ƒå‘å¸ƒä¹‹é—´ï¼Œè‡³å°‘è¿˜éœ€è¦åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯ä¸€æ¬¡ã€‚Github Pagesç›®å‰è¿˜æ²¡æœ‰å¯¹previewç¯å¢ƒçš„å®˜æ–¹æ”¯æŒï¼ˆå°½ç®¡åº”è¯¥æ˜¯åœ¨<a href="https://github.com/community/community/discussions/7730" target="_blank" rel="nofollow">è¿›å±•ä¹‹ä¸­</a>ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä¸ªäººé€‰æ‹©äº†ä¸€ä¸ªç®€å•çš„æ–¹æ¡ˆï¼šå†ä½¿ç”¨ä¸€å®¶pagesæœåŠ¡ï¼Œå¦‚CloudFlare Pagesã€Vercelã€‚ä»–ä»¬äºŒè€…éƒ½ä¸Gitæœ‰å¾ˆå¥½çš„é›†æˆï¼Œä»¥ä¸‹å°†ä»¥CloudFlare Pagesä¸ºä¾‹ã€‚</p>
<p>æ³¨å†Œç™»å½•å…³è”gitä»“åº“è¿™äº›éƒ½æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œéƒ½æ˜¯å›ºå®šæµç¨‹ï¼Œåœ¨è¿™äº›ç»‘å®šå®Œæˆåï¼Œæˆ‘ä»¬å°±éœ€è¦å»åšä¸€äº›å…·ä½“çš„è®¾ç½®äº†ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒCloudFlare Pagesä¼šä¸ºmainåˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²productionç¯å¢ƒï¼Œå¯¹æ‰€æœ‰å…¶ä½™åˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²previewç¯å¢ƒï¼Œåè€…æ­£å¥½å°±æ»¡è¶³äº†æˆ‘ä»¬çš„éœ€è¦ï¼Œè€Œå‰è€…æˆ‘ä¸éœ€è¦ï¼Œäºæ˜¯å°†å…¶è®¾ç½®å°†å…¶å…³é—­ã€‚</p>
<p><img src="https://s2.loli.net/2023/02/14/HVPWFqh7Gwstz1J.png" alt="åˆ†æ”¯éƒ¨ç½²"></p>
<p>åœ¨æ„å»ºè®¾ç½®ä¸­ï¼Œå…¶å®åªè¦æŒ‡å®šæ„å»ºå‘½ä»¤ä¸ç”¨äºä¸Šä¼ çš„æ„å»ºç›®å½•ï¼Œè¿™éƒ¨åˆ†çš„é…ç½®è‡ªç„¶ä¸Šé¢çš„github workflowå…¶å®æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p>
<p><img src="https://s2.loli.net/2023/02/14/ZantFJBoziTp5XS.png" alt="æ„å»ºè®¾ç½®"></p>
<p>æœ‰ä¸€ä¸ªå°ç»†èŠ‚æ˜¯ï¼Œåœ¨github workflowä¸­æˆ‘ä»¬æŒ‡å®šäº†nodeç‰ˆæœ¬ï¼ŒCloudFlare Pagesä¹Ÿæ”¯æŒè¿™ä¸€ç‚¹ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°æ›´å¤šæ”¯æŒçš„<a href="https://developers.cloudflare.com/pages/platform/build-configuration/#environment-variables" target="_blank" rel="nofollow">ç¯å¢ƒå˜é‡</a>ã€‚</p>
<p><img src="https://s2.loli.net/2023/02/14/oxYwl26eGp8daWS.png" alt="æŒ‡å®šnodeç‰ˆæœ¬"></p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬å°±å®ç°äº†è¿™æ ·ä¸€ä¸ªç®€å•å´å®ç”¨çš„CI/CDæµæ°´çº¿ã€‚å¯ä»¥çœ‹å‡ºï¼š</p>
<ol>
<li>Github Actionså…¶å®æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„hookå·¥å…·ï¼Œå¯ä»¥å»è‡ªå®šä¹‰è§¦å‘å„ç§å„æ ·æœ‰è¶£çš„ä»»åŠ¡ï¼ˆç±»ä¼¼çš„æœåŠ¡è¿˜æœ‰Amazon Lambdaï¼‰ï¼›</li>
<li>Github Pagesæ˜¯ä¸€ä¸ªçº¯ç²¹çš„é™æ€ç«™ç‚¹æ‰˜ç®¡æœåŠ¡ï¼Œä¸Šä¼ é™æ€ç«™ç‚¹ï¼Œå®ƒå°±å‘ˆç°ï¼›</li>
<li>CloudFlare Pageså’ŒVercelä¹Ÿæ˜¯é™æ€ç«™ç‚¹æ‰˜ç®¡æœåŠ¡ï¼Œä½†æ˜¯å®ƒä»¬æ›´åŠ æ³¨é‡ä¸å…¶ä»–å¹³å°çš„é›†æˆï¼Œå¹¶é€šè¿‡ä½ç çš„æ–¹å¼å»å®Œæˆç®€å•çš„æ„å»ºéƒ¨ç½²ä»¥åŠå‘ˆç°ï¼›</li>
</ol>
<p>æœ€ç»ˆï¼Œæ•´ä¸ªåšå®¢éƒ¨ç½²çš„æ­¥éª¤å¦‚ä¸‹ï¼Œåªæœ‰è™šçº¿çš„å…³é”®å¡ç‚¹æ­¥éª¤æ˜¯æ‰‹åŠ¨æ“ä½œï¼Œè€Œå…¶ä½™çš„å·¥ä½œéƒ½ä¼šè‡ªåŠ¨å®Œæˆï¼Œå¾ˆæ–¹ä¾¿å§ã€‚</p>
<p><img src="https://s2.loli.net/2023/02/14/iljSW7nucVfgAF1.png" alt="ä¼˜åŒ–åšå®¢éƒ¨ç½².png"></p>
</body></html></div></div></div></div></div><div class="sc-bbd5e802-0 cbkQsN"><div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"use-github-actions-and-cloudflare-pages-improve-blog-online-process","title":"ä½¿ç”¨Github Actionsä¸CloudFlare Pagesä¼˜åŒ–åšå®¢ä¸Šçº¿æµç¨‹","date":"2023-02-14","htmlText":"\u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003cp\u003eåœ¨ä¹‹å‰çš„æ–‡ç« \u003ca href=\"https://b-sirius.github.io/posts/use-nextjs-create-SSG-blog\" target=\"_blank\" rel=\"nofollow\"\u003eä½ çš„é™æ€åšå®¢ï¼Œä½•å¿…æ˜¯hexo\u003c/a\u003eä¸­ï¼Œæˆ‘å¤§æ¦‚ä»‹ç»äº†å¦‚ä½•æ­å»ºä¸€ä¸ªä¸ªäººé™æ€åšå®¢ï¼Œä½†å¹¶æ²¡æœ‰æ¶‰åŠè¦å¦‚ä½•å°†å…¶ä¸Šçº¿ã€‚\u003c/p\u003e\n\u003cp\u003eæˆ‘ä¸ªäººçš„é¦–é€‰æ–¹æ¡ˆæ˜¯Github Pagesï¼Œå› ä¸ºå®ƒå…è´¹ï¼Œä¸”åŸŸåç›´è§‚ã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨æœ€åˆçš„æ—¶å€™ï¼Œè¦å‘å¸ƒä¸€ç¯‡æ–°çš„åšå®¢ï¼ˆæˆ–è€…åšä¸€äº›åŠŸèƒ½æ›´æ–°ï¼‰ï¼Œæˆ‘è¦æ‰‹åŠ¨åšä»¥ä¸‹å‡ æ­¥å·¥ä½œï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eåœ¨åšå®¢ä»“åº“ï¼ˆ\u003ccode\u003e\u0026#x3C;username\u003e.github.io\u003c/code\u003eï¼‰åˆ‡å‡ºä¸€ä¸ªæœ¬åœ°æ–°åˆ†æ”¯ï¼›\u003c/li\u003e\n\u003cli\u003eåœ¨åˆ†æ”¯ä¸Šå®Œæˆåšå®¢å†…å®¹çš„ç¼–å†™ï¼›\u003c/li\u003e\n\u003cli\u003eæœ¬åœ°è¿è¡Œ\u003ccode\u003eyarn export\u003c/code\u003eæ„å»ºï¼Œç”Ÿæˆ\u003ccode\u003e/docs\u003c/code\u003eç›®å½•ï¼ˆgithub pagesåªå…è®¸æŒ‡å®šç›®å½•ä¸ºæ ¹ç›®å½•æˆ–docsç›®å½•ï¼‰ï¼›\u003c/li\u003e\n\u003cli\u003eå°†æ›´æ–°è¿‡çš„ä»£ç æ¨ä¸Šè¿œç«¯åˆ†æ”¯ï¼›\u003c/li\u003e\n\u003cli\u003eå‘èµ·PRï¼›\u003c/li\u003e\n\u003cli\u003eåˆå¹¶PRï¼›\u003c/li\u003e\n\u003cli\u003eç­‰å¾…Github Pagesé‡æ–°éƒ¨ç½²ï¼Œå»çº¿ä¸ŠéªŒè¯åšå®¢æ˜¯å¦æ›´æ–°æˆåŠŸï¼›\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eåœ¨å¤šæ¬¡ä¸æ–­çš„é‡å¤ä»¥ä¸Šæ“ä½œåï¼Œæˆ‘æ„è¯†åˆ°äº†å‡ ä¸ªé—®é¢˜ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eæˆ‘ç»å¸¸å¿˜è®°æœ¬åœ°exportæ„å»ºï¼Œå› ä¸ºå¯åŠ¨devç¯å¢ƒæ˜¯ä¸éœ€è¦è¿™ä¸€æ­¥çš„ï¼›\u003c/li\u003e\n\u003cli\u003eåšå®¢ä»“åº“åŒæ—¶åŒ…å«äº†æºä»£ç ä¸æ„å»ºäº§ç‰©ä»£ç ï¼Œå¦‚æœfork\u0026#x26;cloneçš„è¯ï¼Œæ„å»ºäº§ç‰©ä»£ç å…¶å®æ˜¯å®Œå…¨æ²¡æœ‰ç”¨çš„ï¼›\u003c/li\u003e\n\u003cli\u003eæˆ‘åªæœ‰åœ¨åˆå¹¶äº†mainåˆ†æ”¯åæ‰èƒ½éªŒè¯çº¿ä¸Šåšå®¢æ˜¯å¦æ›´æ–°æˆåŠŸã€‚å¦‚æœå‘ç”Ÿäº†æœ¬åœ°ç¯å¢ƒæ²¡æœ‰å‡ºç°çš„é—®é¢˜ï¼Œé‚£å°±æ„å‘³ç€æˆ‘çš„çº¿ä¸Šç”Ÿäº§ç¯å¢ƒå´©æ‰äº†ï¼›\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eè¿™ç§æƒ…å½¢ä¸‹ï¼Œå¼•å…¥ä¸€äº›CI/CDå·¥å…·å®ç°\u003cstrong\u003eè‡ªåŠ¨è§¦å‘\u003c/strong\u003eçš„\u003cstrong\u003eçº¿ä¸Šæ„å»ºéƒ¨ç½²\u003c/strong\u003eæ˜¯å¸¸è§çš„è§£å†³æ–¹æ¡ˆã€‚æˆ‘å°†ä¼šä»‹ç»\u003cstrong\u003eGithub Actions\u003c/strong\u003eä»¥åŠ\u003cstrong\u003eCloudFlare Pages\u003c/strong\u003eï¼Œçœ‹çœ‹è¿™ä¸¤ä¸ªå…è´¹æœåŠ¡å¯ä»¥å¸®æˆ‘ä»¬å®ç°æ€æ ·çš„è‡ªåŠ¨åŒ–ã€‚\u003c/p\u003e\n\u003cp\u003eã€å‰§é€ã€‘æœ€ç»ˆå®ç°å¦‚ä¸‹ï¼š\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2023/02/14/iljSW7nucVfgAF1.png\" alt=\"ä¼˜åŒ–åšå®¢éƒ¨ç½².png\"\u003e\u003c/p\u003e\n\u003ch2 id=\"github-actions\"\u003eGithub Actions\u003c/h2\u003e\n\u003cp\u003eä»‹ç»å®ƒçš„æ–‡ç« å¾ˆå¤šï¼Œå› æ­¤æˆ‘ä¸æ‰“ç®—å±•å¼€ã€‚ç›´æ¥è¯´å®ƒçš„ç‰¹ç‚¹ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eå®ƒå¯ä»¥è¢«å„ç§å„æ ·çš„Githubæ“ä½œè‡ªåŠ¨è§¦å‘â€”â€”æ¯”å¦‚æ–°å»ºåˆ†æ”¯ã€open PRã€pushåˆ°æŸä¸ªåˆ†æ”¯ï¼Œä¹Ÿæ”¯æŒé€šè¿‡Github APIæ‰‹åŠ¨è§¦å‘ï¼ˆ\u003ccode\u003eworkflow_dispatch\u003c/code\u003eï¼‰\u003c/li\u003e\n\u003cli\u003eGithubç»´æŠ¤äº†ä¸€ä¸ªActionå¸‚åœºï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ç¤¾åŒºè´¡çŒ®çš„Actionè€Œæ— éœ€è‡ªå·±é‡æ–°æ‰‹å†™å„ç§å¸¸ç”¨åŠŸèƒ½ã€‚æ¯”å¦‚è·å–å½“å‰çš„åˆ†æ”¯ã€æŒ‡å®šnodeç‰ˆæœ¬ã€å°†æŒ‡å®šç›®å½•æ¨é€åˆ°Amazon S3ã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eä»¥æˆ‘å°†åšå®¢æ¨é€åˆ°Github Pagesçš„workflowä¸ºä¾‹ï¼š\u003c/p\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode class=\"language-yaml\"\u003e\u003cspan class=\"token comment\"\u003e# .github/workflows/production.yml\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# æ‰€æœ‰çš„workflowå¿…é¡»æ”¾åœ¨.github/workflowsç›®å½•ä¸‹æ‰èƒ½è¢«è¯†åˆ«ï¼Œæ–‡ä»¶åä¼šä½œä¸ºè¯¥workflowçš„åç§°\u003c/span\u003e\n\n\u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Deploy for production\n\n\u003cspan class=\"token comment\"\u003e# onæŒ‡å®šäº†è¯¥workflowçš„è§¦å‘æ—¶æœº\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# è¿™é‡Œæ˜¯æŒ‡å®šåœ¨mainåˆ†æ”¯æœ‰æ›´æ–°æ—¶è§¦å‘ï¼ˆç›´æ¥pushæˆ–è€…mergeè¿›mainåˆ†æ”¯éƒ½ä¼šè§¦å‘è¯¥æ—¶é—´ï¼‰\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003eon\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003ebranches\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e main\n\n\u003cspan class=\"token key atrule\"\u003ejobs\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e# job id\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003eproduction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e# runs-onæŒ‡å®šäº†è¿è¡Œä»»åŠ¡çš„æœºå™¨ç±»å‹ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æœºå™¨ï¼ˆæ¯”å¦‚éœ€è¦æ”¯æŒå†…ç½‘ç¯å¢ƒï¼‰ï¼Œæ›´å¤šå¯ä»¥å»äº†è§£â€œself-hosted runnerâ€\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003eruns-on\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e ubuntu\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003elatest\n    \u003cspan class=\"token comment\"\u003e# environmentæŒ‡çš„å°±æ˜¯ä»“åº“è®¾ç½®ä¸­ Actions secrets and variables å¯¹åº”çš„environmentï¼Œç”¨äºåŒºåˆ†å˜é‡ç¯å¢ƒ\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e production\n\n    \u003cspan class=\"token comment\"\u003e# stepså°±æ˜¯æ¯ä¸ªjobå…·ä½“çš„æ­¥éª¤\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003esteps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"token comment\"\u003e# usesä»£è¡¨äº†è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªç¤¾åŒºè´¡çŒ®çš„action\u003c/span\u003e\n      \u003cspan class=\"token comment\"\u003e# checkoutåˆ°æŒ‡å®šåˆ†æ”¯\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e actions/checkout@v3\n        \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003eref\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e main\n\n      \u003cspan class=\"token comment\"\u003e# æŒ‡å®šnodeç‰ˆæœ¬\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e actions/setup\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003enode@v3\n        \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003enode-version\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e16\u003c/span\u003e\n\n      \u003cspan class=\"token comment\"\u003e# yarn install\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e borales/actions\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eyarn@v4\n        \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e yarn install\n        \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003ecmd\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e install\n\n      \u003cspan class=\"token comment\"\u003e# yarn export\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e borales/actions\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eyarn@v4\n        \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e yarn export\n        \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003ecmd\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e export\n\n      \u003cspan class=\"token comment\"\u003e# å°†ä¸Šä¸€æ­¥çš„æ„å»ºç›®å½•æ¨åŠ¨åˆ°æŒ‡å®šä»“åº“çš„æŒ‡å®šåˆ†æ”¯\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Pushes to the blog github pages\n        \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e cpina/github\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eaction\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003epush\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eto\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eanother\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003erepository@main\n        \u003cspan class=\"token key atrule\"\u003eenv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token comment\"\u003e# secretsåœ¨ä»“åº“settingsä¸­è¿›è¡Œè®¾ç½®å¥½ï¼Œåœ¨å¯¹åº”çš„ç¯å¢ƒä¾¿å¯è¯»å–\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003eAPI_TOKEN_GITHUB\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e secrets.API_TOKEN_GITHUB \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003esource-directory\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'docs'\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003edestination-github-username\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'B-sirius'\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003edestination-repository-name\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'b-sirius.github.io'\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003etarget-branch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e main\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eæœ‰äº†è¿™æ ·ä¸€ä¸ªè‡ªåŠ¨è§¦å‘çš„å·¥ä½œæµåï¼Œæˆ‘ä¾¿æ‹†åˆ†å‡ºäº†åšå®¢æºä»£ç ä»“åº“ã€‚æ¯æ¬¡æºä»£ç ä»“åº“çš„mainåˆ†æ”¯æ›´æ–°æ—¶ï¼ŒGithub Actionsä¼šè‡ªåŠ¨å»è¿›è¡Œæ„å»ºï¼Œå¹¶å°†æ„å»ºç»“æœpushåˆ°Github Pagesä½¿ç”¨çš„ä»“åº“\u003ca href=\"https://github.com/B-sirius/b-sirius.github.io\" target=\"_blank\" rel=\"nofollow\"\u003eb-sirius.github.io\u003c/a\u003eçš„mainåˆ†æ”¯ã€‚è€ŒGithub Pagesä¹Ÿä¼šåœ¨mainæ›´æ–°æ—¶ï¼Œè‡ªåŠ¨è§¦å‘éƒ¨ç½²ï¼Œæ›´æ–°çº¿ä¸Šé¡µé¢ã€‚äºæ˜¯æˆ‘ä¹‹å‰æåˆ°çš„ç—›ç‚¹çš„å‰ä¸¤ä¸ªï¼Œå°±éƒ½è§£å†³äº†ã€‚\u003c/p\u003e\n\u003ch2 id=\"cloudflare-pages\"\u003eCloudFlare Pages\u003c/h2\u003e\n\u003cp\u003eäºæ˜¯æˆ‘è¿˜å‰©ä¸‹ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•æ”¯æŒæµ‹è¯•ï¼ˆpreviewï¼‰ç¯å¢ƒï¼Ÿå¯¹äºä»»ä½•åº”ç”¨æ¥è¯´ï¼Œåœ¨æœ¬åœ°éªŒè¯ä¸ç”Ÿäº§ç¯å¢ƒå‘å¸ƒä¹‹é—´ï¼Œè‡³å°‘è¿˜éœ€è¦åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯ä¸€æ¬¡ã€‚Github Pagesç›®å‰è¿˜æ²¡æœ‰å¯¹previewç¯å¢ƒçš„å®˜æ–¹æ”¯æŒï¼ˆå°½ç®¡åº”è¯¥æ˜¯åœ¨\u003ca href=\"https://github.com/community/community/discussions/7730\" target=\"_blank\" rel=\"nofollow\"\u003eè¿›å±•ä¹‹ä¸­\u003c/a\u003eï¼‰ï¼Œæ‰€ä»¥æˆ‘ä¸ªäººé€‰æ‹©äº†ä¸€ä¸ªç®€å•çš„æ–¹æ¡ˆï¼šå†ä½¿ç”¨ä¸€å®¶pagesæœåŠ¡ï¼Œå¦‚CloudFlare Pagesã€Vercelã€‚ä»–ä»¬äºŒè€…éƒ½ä¸Gitæœ‰å¾ˆå¥½çš„é›†æˆï¼Œä»¥ä¸‹å°†ä»¥CloudFlare Pagesä¸ºä¾‹ã€‚\u003c/p\u003e\n\u003cp\u003eæ³¨å†Œç™»å½•å…³è”gitä»“åº“è¿™äº›éƒ½æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œéƒ½æ˜¯å›ºå®šæµç¨‹ï¼Œåœ¨è¿™äº›ç»‘å®šå®Œæˆåï¼Œæˆ‘ä»¬å°±éœ€è¦å»åšä¸€äº›å…·ä½“çš„è®¾ç½®äº†ã€‚\u003c/p\u003e\n\u003cp\u003eé»˜è®¤æƒ…å†µä¸‹ï¼ŒCloudFlare Pagesä¼šä¸ºmainåˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²productionç¯å¢ƒï¼Œå¯¹æ‰€æœ‰å…¶ä½™åˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²previewç¯å¢ƒï¼Œåè€…æ­£å¥½å°±æ»¡è¶³äº†æˆ‘ä»¬çš„éœ€è¦ï¼Œè€Œå‰è€…æˆ‘ä¸éœ€è¦ï¼Œäºæ˜¯å°†å…¶è®¾ç½®å°†å…¶å…³é—­ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2023/02/14/HVPWFqh7Gwstz1J.png\" alt=\"åˆ†æ”¯éƒ¨ç½²\"\u003e\u003c/p\u003e\n\u003cp\u003eåœ¨æ„å»ºè®¾ç½®ä¸­ï¼Œå…¶å®åªè¦æŒ‡å®šæ„å»ºå‘½ä»¤ä¸ç”¨äºä¸Šä¼ çš„æ„å»ºç›®å½•ï¼Œè¿™éƒ¨åˆ†çš„é…ç½®è‡ªç„¶ä¸Šé¢çš„github workflowå…¶å®æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2023/02/14/ZantFJBoziTp5XS.png\" alt=\"æ„å»ºè®¾ç½®\"\u003e\u003c/p\u003e\n\u003cp\u003eæœ‰ä¸€ä¸ªå°ç»†èŠ‚æ˜¯ï¼Œåœ¨github workflowä¸­æˆ‘ä»¬æŒ‡å®šäº†nodeç‰ˆæœ¬ï¼ŒCloudFlare Pagesä¹Ÿæ”¯æŒè¿™ä¸€ç‚¹ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°æ›´å¤šæ”¯æŒçš„\u003ca href=\"https://developers.cloudflare.com/pages/platform/build-configuration/#environment-variables\" target=\"_blank\" rel=\"nofollow\"\u003eç¯å¢ƒå˜é‡\u003c/a\u003eã€‚\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2023/02/14/oxYwl26eGp8daWS.png\" alt=\"æŒ‡å®šnodeç‰ˆæœ¬\"\u003e\u003c/p\u003e\n\u003ch2 id=\"æ€»ç»“\"\u003eæ€»ç»“\u003c/h2\u003e\n\u003cp\u003eäºæ˜¯ï¼Œæˆ‘ä»¬å°±å®ç°äº†è¿™æ ·ä¸€ä¸ªç®€å•å´å®ç”¨çš„CI/CDæµæ°´çº¿ã€‚å¯ä»¥çœ‹å‡ºï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eGithub Actionså…¶å®æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„hookå·¥å…·ï¼Œå¯ä»¥å»è‡ªå®šä¹‰è§¦å‘å„ç§å„æ ·æœ‰è¶£çš„ä»»åŠ¡ï¼ˆç±»ä¼¼çš„æœåŠ¡è¿˜æœ‰Amazon Lambdaï¼‰ï¼›\u003c/li\u003e\n\u003cli\u003eGithub Pagesæ˜¯ä¸€ä¸ªçº¯ç²¹çš„é™æ€ç«™ç‚¹æ‰˜ç®¡æœåŠ¡ï¼Œä¸Šä¼ é™æ€ç«™ç‚¹ï¼Œå®ƒå°±å‘ˆç°ï¼›\u003c/li\u003e\n\u003cli\u003eCloudFlare Pageså’ŒVercelä¹Ÿæ˜¯é™æ€ç«™ç‚¹æ‰˜ç®¡æœåŠ¡ï¼Œä½†æ˜¯å®ƒä»¬æ›´åŠ æ³¨é‡ä¸å…¶ä»–å¹³å°çš„é›†æˆï¼Œå¹¶é€šè¿‡ä½ç çš„æ–¹å¼å»å®Œæˆç®€å•çš„æ„å»ºéƒ¨ç½²ä»¥åŠå‘ˆç°ï¼›\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eæœ€ç»ˆï¼Œæ•´ä¸ªåšå®¢éƒ¨ç½²çš„æ­¥éª¤å¦‚ä¸‹ï¼Œåªæœ‰è™šçº¿çš„å…³é”®å¡ç‚¹æ­¥éª¤æ˜¯æ‰‹åŠ¨æ“ä½œï¼Œè€Œå…¶ä½™çš„å·¥ä½œéƒ½ä¼šè‡ªåŠ¨å®Œæˆï¼Œå¾ˆæ–¹ä¾¿å§ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2023/02/14/iljSW7nucVfgAF1.png\" alt=\"ä¼˜åŒ–åšå®¢éƒ¨ç½².png\"\u003e\u003c/p\u003e\n\u003c/body\u003e\u003c/html\u003e","description":"æˆ‘ä¸ªäººçš„é¦–é€‰æ–¹æ¡ˆæ˜¯Github Pagesï¼Œå› ä¸ºå®ƒå…è´¹ï¼Œä¸”åŸŸåç›´è§‚ã€‚......"},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"use-github-actions-and-cloudflare-pages-improve-blog-online-process"},"buildId":"H4PWxIBNlZzCnB52z8dny","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>