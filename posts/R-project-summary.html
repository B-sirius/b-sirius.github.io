<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>LWDW!</title><meta name="description" content="Ré¡¹ç›®å°ç»“"/><meta property="og:title" content="Ré¡¹ç›®å°ç»“"/><meta property="og:description" content="æœ€è¿‘ç»“æŸçš„ä¸€ä¸ªé¡¹ç›®æœ‰å¾ˆå¤šå€¼å¾—å­¦ä¹ çš„åœ°æ–¹ï¼ŒæŒ‘ä¸€äº›ä¸æ•æ„Ÿçš„åœ¨æ­¤è®°å½•ã€‚å…¶ä¸­çš„æ¯ä¸€ç‚¹å…¶å®éƒ½æœ‰æ·±å…¥æŒ–æ˜çš„ç©ºé—´ï¼Œæ—¥åæƒ³å¿…ä¼šå†æ¬¡é‡åˆ°ã€‚......"/><meta name="next-head-count" content="6"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#ffffff"/><meta name="color-scheme" content="dark light"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#000"/><meta property="og:type" content="website"/><meta property="og:image" content="https://s2.loli.net/2023/01/18/42YTZxzePtR7jy9.png"/><meta property="og:url" content="https://b-sirius.github.io"/><link rel="preload" href="/_next/static/css/aef510c8abf24c2c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aef510c8abf24c2c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b51a0fb142b75fa0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b51a0fb142b75fa0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-165611dbf69200d4.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-673a4fae4a27af6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0da236044dc4e5fc.js" defer=""></script><script src="/_next/static/chunks/664-1b4479b4462ded63.js" defer=""></script><script src="/_next/static/chunks/332-e879213584d084bf.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-bdcbd70cb4cfba17.js" defer=""></script><script src="/_next/static/_ClwSS3-Ivr8G5PbtsguX/_buildManifest.js" defer=""></script><script src="/_next/static/_ClwSS3-Ivr8G5PbtsguX/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.6">.hkJmkj{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;border:1px solid var(--dialog-border-color);background-color:var(--dialog-bg-color);padding:1px;}/*!sc*/
.hkJmkj > div{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;border:1px solid #9d701d;color:#fff;padding:10px;}/*!sc*/
data-styled.g1[id="sc-87e76b53-0"]{content:"hkJmkj,"}/*!sc*/
.dxfnCq{font-size:22px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;}/*!sc*/
.dxfnCq > div{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;}/*!sc*/
data-styled.g2[id="sc-77cf2bd4-0"]{content:"dxfnCq,"}/*!sc*/
.gPcDhw{--root-bg-color:#000;--dialog-bg-color:#262427;--dialog-border-color:#9d701d;--font-color:#fff;--font-highlight-color:#e7e496;--nav-color:#e76464;--blog-title-shadow:1px 1px 2px #ad0909,0 0 1em #7b3f0c,0 0 0.15em #d2ff8f;--blog-hint-shadow:1px 1px 2px #ad0909,0 0 2em #7b3f0c,0 0 0.2em #d2ff8f;background-color:var(--root-bg-color);overflow:scroll;font-family:'GillSans','Helvetica Neue',Arial,Helvetica,sans-serif;}/*!sc*/
data-styled.g3[id="sc-9d615c10-0"]{content:"gPcDhw,"}/*!sc*/
.hptnUW{max-width:960px;margin:auto;overflow:hidden;padding:40px 20px;min-height:100vh;color:var(--font-color);}/*!sc*/
data-styled.g4[id="sc-868660b6-0"]{content:"hptnUW,"}/*!sc*/
.cEuFcK{font-family:monospace;}/*!sc*/
data-styled.g5[id="sc-f71203c5-0"]{content:"cEuFcK,"}/*!sc*/
.BdBtZ{font-size:44px;margin-bottom:0;text-shadow:var(--blog-title-shadow);}/*!sc*/
data-styled.g6[id="sc-f71203c5-1"]{content:"BdBtZ,"}/*!sc*/
.gXENPI{font-size:12px;margin:0;text-shadow:var(--blog-hint-shadow);}/*!sc*/
data-styled.g7[id="sc-f71203c5-2"]{content:"gXENPI,"}/*!sc*/
.dSoHmK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:20px;}/*!sc*/
data-styled.g8[id="sc-bbc62a17-0"]{content:"dSoHmK,"}/*!sc*/
.bGsVUC{margin-bottom:50px;}/*!sc*/
data-styled.g9[id="sc-bbc62a17-1"]{content:"bGsVUC,"}/*!sc*/
.gGxkic{padding:5px 0;font-family:monospace;color:var(--font-color);font-size:20px;margin-right:20px;}/*!sc*/
.gGxkic:hover{cursor:pointer;}/*!sc*/
@media only screen and (max-width:500px){.gGxkic{font-size:18px;margin-right:10px;}}/*!sc*/
data-styled.g10[id="sc-bbc62a17-2"]{content:"gGxkic,"}/*!sc*/
.bMRVsR{padding:5px 0;font-family:monospace;color:var(--font-color);font-size:20px;margin-right:20px;}/*!sc*/
.bMRVsR:hover{cursor:pointer;}/*!sc*/
@media only screen and (max-width:500px){.bMRVsR{font-size:18px;margin-right:10px;}}/*!sc*/
data-styled.g11[id="sc-bbc62a17-3"]{content:"bMRVsR,"}/*!sc*/
.czeavQ{--md-link-color:#e64f4f;--md-title-shadow:1px 1px 2px #ad0909,0 0 1em #7b3f0c,0 0 0.2em #d2ff8f;--md-title-color:#f2f2f2;--md-sub-title-color:#d3dae1;}/*!sc*/
.czeavQ h2{font-size:30px;margin-top:50px;margin-bottom:0;text-shadow:var(--md-title-shadow);color:var(--md-title-color);}/*!sc*/
.czeavQ h3{font-size:26px;margin-bottom:0;color:var(--md-sub-title-color);}/*!sc*/
.czeavQ h4,.czeavQ h5,.czeavQ h6{font-size:24px;color:var(--md-sub-title-color);}/*!sc*/
.czeavQ p,.czeavQ li{margin-bottom:2em;}/*!sc*/
.czeavQ p,.czeavQ li,.czeavQ a{font-size:18px;line-height:32px;}/*!sc*/
.czeavQ a{color:var(--md-link-color);}/*!sc*/
.czeavQ img{max-width:100%;}/*!sc*/
.czeavQ hr{border-color:#111;}/*!sc*/
.czeavQ blockquote{border-left:5px solid rgb(52,57,59);background-color:rgb(54,0,0);margin:0;padding:1em 1.5em 1em 2em;}/*!sc*/
.czeavQ blockquote p,.czeavQ blockquote li{margin:0;}/*!sc*/
.czeavQ code{font-size:16.5px;background-color:rgba(115,125,140,0.17);padding:4.5px 6px;border-radius:3px;}/*!sc*/
.czeavQ pre code{background-color:transparent;padding:0;border-radius:none;}/*!sc*/
@media only screen and (max-width:500px){.czeavQ p,.czeavQ li,.czeavQ a{font-size:16px;line-height:30px;}.czeavQ code{font-size:14px;}}/*!sc*/
data-styled.g12[id="sc-e9ca5221-0"]{content:"czeavQ,"}/*!sc*/
.fiBoCN{margin-top:50px;}/*!sc*/
data-styled.g13[id="sc-3304c032-0"]{content:"fiBoCN,"}/*!sc*/
.hOKWax{padding:0px 20px 10px;}/*!sc*/
@media only screen and (max-width:500px){.hOKWax{padding:0 5px 10px;}}/*!sc*/
data-styled.g14[id="sc-ba46d312-0"]{content:"hOKWax,"}/*!sc*/
.dmDrcr{padding:20px 20px;}/*!sc*/
@media only screen and (max-width:500px){.dmDrcr{padding:5px 5px;}}/*!sc*/
data-styled.g15[id="sc-ba46d312-1"]{content:"dmDrcr,"}/*!sc*/
.ibvPNw{font-size:40px;color:var(--font-highlight-color);margin-bottom:5px;}/*!sc*/
data-styled.g16[id="sc-ba46d312-2"]{content:"ibvPNw,"}/*!sc*/
.hcdRzS{font-family:monospace;font-size:14px;}/*!sc*/
data-styled.g17[id="sc-ba46d312-3"]{content:"hcdRzS,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9d615c10-0 gPcDhw"><div class="sc-868660b6-0 hptnUW"><div class="sc-bbc62a17-1 bGsVUC"><div class="sc-bbc62a17-0 dSoHmK"><a class="sc-bbc62a17-2 gGxkic" href="/">[<!-- -->Home<!-- -->]</a><a class="sc-bbc62a17-2 gGxkic" href="/posts">[<!-- -->Posts<!-- -->]</a><a class="sc-bbc62a17-3 bMRVsR" rel="noopener noreferrer" target="_blank" href="https://github.com/B-sirius">[<!-- -->Github<!-- -->]</a><a class="sc-bbc62a17-3 bMRVsR" rel="noopener noreferrer" target="_blank" href="https://b-sirius.github.io/rss.xml">[<!-- -->RSS<!-- -->]</a></div><div class="sc-f71203c5-0 cEuFcK"><h1 class="sc-f71203c5-1 BdBtZ">LWDW!</h1><p class="sc-f71203c5-2 gXENPI">Learn the work from doing the workğŸº</p></div></div><div class="sc-87e76b53-0 sc-77cf2bd4-0 hkJmkj dxfnCq"><div><div class="sc-ba46d312-0 hOKWax"><div class="sc-ba46d312-2 ibvPNw">Ré¡¹ç›®å°ç»“</div><div class="sc-ba46d312-3 hcdRzS">Posted on <!-- -->2023-01-09</div></div></div></div><div class="sc-87e76b53-0 hkJmkj"><div><div class="sc-ba46d312-1 dmDrcr"><div class="sc-e9ca5221-0 czeavQ"><p>æœ€è¿‘ç»“æŸçš„ä¸€ä¸ªé¡¹ç›®æœ‰å¾ˆå¤šå€¼å¾—å­¦ä¹ çš„åœ°æ–¹ï¼ŒæŒ‘ä¸€äº›ä¸æ•æ„Ÿçš„åœ¨æ­¤è®°å½•ã€‚å…¶ä¸­çš„æ¯ä¸€ç‚¹å…¶å®éƒ½æœ‰æ·±å…¥æŒ–æ˜çš„ç©ºé—´ï¼Œæ—¥åæƒ³å¿…ä¼šå†æ¬¡é‡åˆ°ã€‚</p>
<hr/>
<h2 id="æ–‡æ¡£è®¾è®¡">æ–‡æ¡£è®¾è®¡</h2>
<p>æœ‰å“ªäº›æ–‡æ¡£å¯ä»¥æ•´ç†å½’æ€»ï¼Ÿæœ‰çš„æ–‡æ¡£é€‚åˆå•ç‹¬æ€»ç»“ï¼Œæœ‰çš„é€‚åˆæ”¾åœ¨Readmeä¸­ï¼Œä½†æ€»ä¹‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¯ä»¥è€ƒè™‘çš„ç‚¹ã€‚</p>
<h3 id="ç³»ç»Ÿè®¾è®¡æ–‡æ¡£">ç³»ç»Ÿè®¾è®¡æ–‡æ¡£</h3>
<p>è¿™é‡Œçš„è®¾è®¡æŒ‡çš„æ˜¯ç³»ç»Ÿçš„æ¶æ„ï¼Œå°¤å…¶è¦å…³æ³¨<strong>ç³»ç»Ÿä¹‹é—´æ˜¯å¦‚ä½•è¿æ¥çš„</strong>ã€‚</p>
<p>è€Œä»¥ä¸‹å†…å®¹ä¸åº”è¯¥è¢«åŒ…å«åœ¨å…¶ä¸­ï¼š</p>
<ul>
<li>æœåŠ¡çš„å…·ä½“ç»†èŠ‚ã€‚</li>
<li>ç»„ä»¶çš„è®¾è®¡æ¨¡å¼ã€‚</li>
</ul>
<h3 id="ç»„ä»¶æ–‡æ¡£">ç»„ä»¶æ–‡æ¡£</h3>
<p>æ•´ç†æ‰€æœ‰çš„ç»„ä»¶/æœåŠ¡ï¼Œå¯ä»¥æœ‰ä»¥ä¸‹å…³æ³¨ç‚¹ï¼š</p>
<ul>
<li>ä»‹ç»</li>
<li>æœåŠ¡ç±»å‹ï¼ˆæ¯”å¦‚SSR /Staticï¼‰</li>
<li>è·¯ç”±å‰ç¼€</li>
<li>ç”Ÿäº§ç¯å¢ƒåŸŸå</li>
<li>é¢„å‘ç¯å¢ƒåŸŸå</li>
<li>æµ‹è¯•ç¯å¢ƒåŸŸåï¼ˆè§„åˆ™ï¼‰</li>
<li>ä»“åº“åœ°å€</li>
<li>æµæ°´çº¿åœ°å€</li>
<li>å‘å¸ƒåˆ†æ”¯</li>
<li>æ¶‰åŠæŠ€æœ¯æ ˆ</li>
</ul>
<h3 id="å¼€å‘è€…faq">å¼€å‘è€…FAQ</h3>
<p>ç›®çš„æ˜¯æ”¶é›†å¼€å‘è€…å…³å¿ƒçš„å¸¸è§é—®é¢˜ï¼Œæ¯”å¦‚é¡¹ç›®å¦‚ä½•æœ¬åœ°å¯åŠ¨ï¼Œå¿…è¦æƒé™å¦‚ä½•ç”³è¯·ç­‰ã€‚</p>
<h3 id="å¼€å‘è€…éªŒè¯æŒ‡å—">å¼€å‘è€…éªŒè¯æŒ‡å—</h3>
<p>ç›®çš„æ˜¯ä¿è¯å¼€å‘è€…æäº¤çš„ç»„ä»¶å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œï¼Œè€Œä¸æ˜¯å®Œå…¨ä¾èµ–QAã€‚å¸¸è§çš„æ‰‹æ®µæœ‰æµ‹è¯•ç”¨ä¾‹ï¼Œcode reviewç­‰ï¼Œä¸”å¾ˆå¯èƒ½ä¸CI/CDæµç¨‹æœ‰å…³ã€‚ä¸ªäººè§‰å¾—å¼€å‘è€…å¾ˆå®¹æ˜“å¯¹ä¸€äº›å°æ”¹åŠ¨æœ‰è¿·ä¹‹è‡ªä¿¡ï¼Œç»“æœå´æäº¤æ— æ³•åœ¨æµ‹è¯•ç¯å¢ƒè¿è¡Œçš„ä»£ç ç”šè‡³æå´©çº¿ä¸Šã€‚è¯¥æ­¥éª¤éå¸¸é‡è¦åˆå®¹æ˜“è¢«å¿½è§†ã€‚</p>
<h2 id="awsæœåŠ¡">AWSæœåŠ¡</h2>
<p>awsæœåŠ¡å¤ªå¸¸è§äº†ï¼Œç¨å¾®è®°å½•ä¸€ä¸‹æˆ‘æœ¬æ¬¡æ¥è§¦çš„ï¼Œä¸è‡³äºä¸€äº›åè¯éƒ½æ²¡æœ‰æ¦‚å¿µã€‚</p>
<h3 id="ecs">ECS</h3>
<p>ECS is Amazon Elastic <strong>Container Service</strong>.</p>
<ul>
<li>Container Orchestration Service (å®¹å™¨ç¼–æ’å·¥å…·ï¼‰</li>
<li>Manages the whole container lifecycle.<!-- -->
<ul>
<li>start</li>
<li>re-schedule</li>
<li>load balance</li>
</ul>
</li>
<li>ECS Clusterï¼ˆECSé›†ç¾¤ï¼‰æ˜¯Control Planeï¼Œç®¡ç†æ‰€æœ‰è¿è¡Œç€å®¹å™¨çš„è™šæ‹Ÿæœºå™¨ã€‚</li>
</ul>
<p><img src="https://s2.loli.net/2023/01/09/u8ytTRfvmx7gk4n.jpg" alt="How does ECS work"/></p>
<ul>
<li>è€Œè¿™äº›è™šæ‹Ÿæœºæ˜¯ä»€ä¹ˆï¼Ÿæ˜¯EC2 Instanceï¼Œä½ è¿˜æ˜¯éœ€è¦ç®¡ç†è¿™äº›Instanceçš„ï¼Œæ¯”å¦‚åœ¨å¢åŠ containerçš„æ—¶å€™ï¼Œéœ€è¦ç¡®ä¿Instanceçš„èµ„æºè¶³å¤Ÿã€‚</li>
<li>ä½†å¦‚æœæˆ‘ä»¬æƒ³åœ¨AWSä¸Šhosting infrastructureã€‚å¯ä»¥ç”¨AWS Fargateã€‚é‚£å°±ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†Instanceï¼Œä»–ä¼šæ ¹æ®ä½ æƒ³è¦è¿è¡Œçš„containeræ¥è‡ªåŠ¨åˆ†é…èµ„æºã€‚èŠ‚çœå‘€ï¼</li>
</ul>
<h3 id="eks">EKS</h3>
<p>EKS is Elastic <strong>Kubernetes</strong> Service.</p>
<p>Kubernetes æ˜¯ECSçš„ç«å“ï¼Œéå¸¸Popularï¼Œæ‰€ä»¥EKSå°±æ˜¯ä¸ºäº†åœ¨AWSä½¿ç”¨Kubernetesæ¨å‡ºçš„ã€‚</p>
<p>EKSçš„å·¥ä½œæ–¹å¼å’ŒECSå·®ä¸å¤šã€‚</p>
<h3 id="ecr">ECR</h3>
<p>ECR is Elastic <strong>Container Registry</strong>, a private docker registry.</p>
<p><img src="https://s2.loli.net/2023/01/09/Lw6m7geKZ9A4YSW.png" alt="whole story, Jenkins involved here!"/></p>
<h3 id="elb">ELB</h3>
<p>ELB is Elastic load balancing service.</p>
<p><img src="https://s2.loli.net/2023/01/09/EaFjZvJ731LDGRA.png" alt="è´Ÿè½½å‡è¡¡æœåŠ¡"/></p>
<p>ä½¿ç”¨è¿™æ ·ä¸€ä¸ª load balanceræœ‰å¾ˆå¤šå¥½å¤„</p>
<ul>
<li>å°†æµé‡åˆ†é…ç»™äº†å¾ˆå¤šä¸‹çº§å®ä¾‹</li>
<li>åªæš´éœ²å‡ºä¸€ä¸ªå…¥å£ï¼ˆDNSï¼‰</li>
<li>æ— ç¼å¤„ç†ä¸‹çº§åº”ç”¨çš„failures</li>
<li>å¯¹å®ä¾‹è¿›è¡Œå¥åº·æ£€æŸ¥</li>
<li>æä¾›https</li>
<li>å¼ºåˆ¶ä½¿ç”¨cookiesï¼Œæ‰€ä»¥ç”¨æˆ·å¯ä»¥è®¿é—®åˆ°åŒä¸€ä¸ªinstance</li>
<li>â€¦</li>
</ul>
<h3 id="aws-lambda">AWS lambda</h3>
<p>è¿™æ˜¯ä¸€ä¸ªServerlessæœåŠ¡ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç†è§£ä¸ºå®ƒæä¾›äº†æ ¹æ®äº‹ä»¶è‡ªåŠ¨è§¦å‘Functionçš„èƒ½åŠ›ã€‚</p>
<p>å…¶ä¸­äº‹ä»¶å¯ä»¥æŒ‡çš„æ˜¯S3çš„å†…å®¹å˜åŒ–ï¼ŒAPIçš„è¯·æ±‚ï¼Œæˆ–å…¶ä»–å„ç§å„æ ·çš„AWSæœåŠ¡äº‹ä»¶ã€‚</p>
<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªæ¦‚å¿µï¼ŒServerlessï¼Œå€¼å¾—è¯´ä¸€è¯´ã€‚</p>
<p>æˆ‘ä¸ªäººçš„ç†è§£æ˜¯è¿™æ ·çš„ï¼š</p>
<p>é¦–å…ˆServerlesså¹¶ä¸æ˜¯è¯´æ²¡æœ‰Serverï¼Œè€Œæ˜¯Serverå¯¹ç”¨æˆ·ä¸å¯è§ï¼Œwhich meansï¼š</p>
<ul>
<li>ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†serverã€‚</li>
<li>ä¼šæ ¹æ®ä½¿ç”¨è‡ªåŠ¨æ‰©å®¹ã€‚</li>
<li>åªæœ‰å½“è¢«ä½¿ç”¨çš„æ—¶å€™ï¼Œæ‰ä¼šäº§ç”Ÿè´¹ç”¨ï¼ˆè€Œä¸æ˜¯ä¸ºServeræœ¬èº«ä»˜è´¹ï¼‰ã€‚</li>
</ul>
<p><img src="https://s2.loli.net/2023/01/09/B2oTW3lrEuznZGK.png" alt=""/></p>
<h2 id="ç¯å¢ƒå˜é‡">ç¯å¢ƒå˜é‡</h2>
<h3 id="ç¯å¢ƒå˜é‡-in-nextjs">ç¯å¢ƒå˜é‡ in Next.js</h3>
<p>Before <code>const HOST_NAME = &#x27;www.sample.com&#x27;</code>.</p>
<p>After <code>const HOST_NAME = &#x27;process.env.NEXT_PUBLIC_HOST_NAME&#x27;</code>.</p>
<p>è¿™é‡Œæ¶‰åŠåˆ°Next.jsçš„ä¸€ä¸ªç‰¹æ€§ï¼š<a href="https://nextjs.org/docs/basic-features/environment-variables#exposing-environment-variables-to-the-browser" target="_blank" rel="noreferrer">expose env vars to the browser</a>ã€‚</p>
<ul>
<li>During the <strong>build stage</strong>, next.js will find these env vars start with <strong>NEXT_PUBLIC_</strong> and replace them with literal.</li>
<li>build stageå¾ˆå…³é”®ï¼Œåœ¨CI/CDæµç¨‹ä¸­ï¼Œå¯èƒ½æœ‰buildã€releaseç­‰å¤šä¸ªç¯èŠ‚ï¼Œåœ¨å“ªé‡Œä¼ å…¥ç¯å¢ƒå˜é‡å¾ˆå…³é”®ã€‚</li>
</ul>
<p><strong>Trick: å¦‚æœåœ¨ä¸€äº›æƒ…å½¢ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æŠŠç”¨äºnodeç«¯çš„ç¯å¢ƒå˜é‡æš´éœ²ç»™æµè§ˆå™¨ï¼Œå¯ä»¥æ€ä¹ˆåšï¼Ÿ</strong></p>
<ul>
<li>Read these env vars inside <code>getServerSideProps</code> and return them as props. <a href="https://nextjs.org/docs/basic-features/data-fetching/get-server-side-props#when-does-getserversideprops-run" target="_blank" rel="noreferrer">More to read about it</a>.</li>
</ul>
<pre class="language-javascript"><code class="language-javascript">  <span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getServerSideProps</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// we can read server side env vars here.</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">serverConstants</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token constant">TEST_HOST_NAME</span><span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">TEST_HOST_NAME</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// client side.</span>
  <span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Page</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> serverConstants <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token constant">TEST_HOST_NAME</span><span class="token operator">:</span> <span class="token punctuation">{</span>serverConstants<span class="token punctuation">.</span><span class="token constant">TEST_HOST_NAME</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre>
<h3 id="æœ¬åœ°ç¯å¢ƒå˜é‡">æœ¬åœ°ç¯å¢ƒå˜é‡</h3>
<p>å…³äºåœ¨æœ¬åœ°å¼€å‘ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œnext.js å·²ç»æœ‰äº†å¾ˆå¥½çš„æ”¯æŒï¼ŒæŸ¥çœ‹ <a href="https://nextjs.org/docs/basic-features/environment-variables#loading-environment-variables" target="_blank" rel="noreferrer">è¿™é‡Œ</a>ã€‚</p>
<p>åœ¨å®é™…åœºæ™¯ä¸‹ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª.env.local.examlpeæ–‡ä»¶ã€‚</p>
<p>å¼€å‘è€…å¯ä»¥æ‹·è´è¯¥æ–‡ä»¶å¹¶å°†å…¶ä½œä¸ºè‡ªå·±çš„.env.localæ–‡ä»¶ã€‚</p>
<p><strong>.env.local ä¸åº”è¯¥è¢«æäº¤åˆ°repoä¸­ï¼</strong></p>
<h3 id="ç¯å¢ƒå˜é‡-in-jest">ç¯å¢ƒå˜é‡ in Jest</h3>
<p>æ–¹æ³•æ˜¯æœ‰å¾ˆå¤šçš„ï¼ŒæŒ‰éœ€é‡‡ç”¨ï¼Œè¿™é‡Œè®°å½•ä¸¤ç§ã€‚</p>
<h3 id="åœ¨jestçš„setupæ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡">åœ¨jestçš„setupæ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡</h3>
<p><a href="https://jestjs.io/docs/configuration#setupfilesafterenv-array" target="_blank" rel="noreferrer">æ–‡æ¡£åœ¨æ­¤</a>ã€‚ç®€å•æ¥è¯´ï¼Œåœ¨è¿™é‡Œè®¾ç½®çš„ç¯å¢ƒå˜é‡ä¼šä½œç”¨äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ã€‚</p>
<p>é€‚åˆç”¨äºè®¾ç½®é»˜è®¤ç¯å¢ƒå˜é‡ï¼Œä½†æ— æ³•æ»¡è¶³éœ€è¦æµ‹è¯•ä¸åŒçš„ç¯å¢ƒå˜é‡çš„åœºæ™¯ã€‚</p>
<h3 id="åœ¨æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡">åœ¨æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡</h3>
<p>å½“ç„¶æˆ‘ä»¬å¯ä»¥åœ¨æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ã€‚</p>
<p>åªæ˜¯è¦è®°ä½ï¼Œåœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å‰ï¼Œä¸€å®šè¦ä½¿ç”¨ <a href="https://jestjs.io/docs/jest-object#jestresetmodules" target="_blank" rel="noreferrer"><strong>restModules</strong></a> ï¼Œä¸”<strong>åŠ¨æ€å¼•å…¥</strong>æ¶‰åŠç¯å¢ƒå˜é‡çš„æ¨¡å—ã€‚</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;environmental variables&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token constant">OLD_ENV</span> <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">;</span>

  <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    jest<span class="token punctuation">.</span><span class="token method function property-access">resetModules</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Most important - it clears the cache</span>
    process<span class="token punctuation">.</span><span class="token property-access">env</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span><span class="token constant">OLD_ENV</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Make a copy</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">afterAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span><span class="token property-access">env</span> <span class="token operator">=</span> <span class="token constant">OLD_ENV</span><span class="token punctuation">;</span> <span class="token comment">// Restore old environment</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;will receive process.env variables&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Set the variables</span>
    process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">=</span> <span class="token string">&#x27;dev&#x27;</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">PROXY_PREFIX</span> <span class="token operator">=</span> <span class="token string">&#x27;/new-prefix/&#x27;</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">API_URL</span> <span class="token operator">=</span> <span class="token string">&#x27;https://new-api.com/&#x27;</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">APP_PORT</span> <span class="token operator">=</span> <span class="token string">&#x27;7080&#x27;</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">USE_PROXY</span> <span class="token operator">=</span> <span class="token string">&#x27;false&#x27;</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> testedModule <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../../config/env&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword module">default</span> <span class="token comment">// dynamic import</span>

    <span class="token comment">// ... actual testing</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="å…¶ä»–">å…¶ä»–</h2>
<h3 id="æœ¬åœ°ä¸€åˆ‡å®‰å¥½çº¿ä¸Šå‘å¸ƒç¼ºå°‘ä¾èµ–å¯èƒ½æ˜¯">æœ¬åœ°ä¸€åˆ‡å®‰å¥½ï¼Œçº¿ä¸Šå‘å¸ƒç¼ºå°‘ä¾èµ–ï¼Œå¯èƒ½æ˜¯ï¼Ÿ</h3>
<p>è§„åˆ™ï¼šå¦‚æœ<code>NODE_ENV</code>è¢«è®¾ç½®æˆ<code>production</code>ï¼Œyarnä¸ä¼šå®‰è£…<code>devDependencies</code>ä¸­çš„ä¾èµ–ï¼Œå…·ä½“å¯çœ‹<a href="https://classic.yarnpkg.com/en/docs/cli/install#toc-yarn-install-production-true-false" target="_blank" rel="noreferrer">è¿™é‡Œ</a>ã€‚</p>
<p>æ‰€ä»¥è¿™ç§cmdæ˜¯åˆç†çš„ï¼š<code>yarn install &amp;&amp; yarn test &amp;&amp; NODE_ENV=production yarn export</code>ã€‚</p>
<p>ç›¸å¯¹çš„ï¼Œå¦‚æœ<code>NODE_ENV</code>è¢«è®¾ç½®çš„å¤ªæ—©ï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´<code>yarn test</code>ç¼ºå°‘ä¾èµ–ã€‚</p>
<h3 id="å¦‚ä½•æ›´æ–°åŒ…ç»„ä»¶æœåŠ¡">å¦‚ä½•æ›´æ–°åŒ…/ç»„ä»¶/æœåŠ¡</h3>
<p>é™¤äº†æ›´æ–°é€»è¾‘ï¼Œä¸€èˆ¬è¿˜æœ‰å“ªäº›æ­¥éª¤ï¼Ÿ</p>
<ol>
<li>æ›´æ–°æµ‹è¯•ç”¨ä¾‹ï¼Œä¿è¯æœ¬åœ°æµ‹è¯•ç”¨ä¾‹é€šè¿‡ã€‚</li>
<li>æœ¬åœ°æˆåŠŸè¿è¡ŒæœåŠ¡ã€‚</li>
<li>å¼€ä¸€ä¸ªdraft PR.<!-- -->
<ol>
<li>å°†å…¶éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒã€‚</li>
<li>åœ¨æµ‹è¯•ç¯å¢ƒæˆåŠŸè¿è¡Œã€‚</li>
</ol>
</li>
<li>æ›´æ–°ç‰ˆæœ¬ã€‚ï¼ˆè§†å…·ä½“æƒ…å½¢ï¼‰</li>
<li>æ‰¾äººreviewã€‚</li>
<li>æœ‰äº†approvalsï¼Œå¯ä»¥mergeã€‚</li>
<li>å…¶ä½™çš„å°±æ˜¯QAã€éƒ¨ç½²æµç¨‹ç­‰ã€‚</li>
</ol>
<h3 id="jwt">JWT</h3>
<p>JWTï¼ˆJSON web tokenï¼‰æ˜¯ä¸€ç§å¸¸è§çš„åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é—´ä¼ é€’ä¿¡æ¯çš„æ–¹å¼ã€‚</p>
<ol>
<li>é™¤éçŸ¥é“ç­¾åï¼Œç”¨æˆ·æ˜¯æ— æ³•ä¼ªé€ æ•°æ®çš„ã€‚</li>
<li>è€Œheaderå’Œpayloadæœ¬èº«æ˜¯å¹¶æ²¡æœ‰è¢«åŠ å¯†çš„ã€‚</li>
</ol>
<p>æ‰€ä»¥åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œä»»ä½•äººéƒ½å¯ä»¥æŸ¥çœ‹è¯·æ±‚çš„æ•°æ®ï¼Œä½†ä¸çŸ¥é“ç­¾åçš„æ™®é€šç”¨æˆ·æ²¡åŠæ³•è‡ªå·±æ„é€ ã€ç¯¡æ”¹è¯·æ±‚ã€‚</p>
<p><a href="https://en.wikipedia.org/wiki/JSON_Web_Token" target="_blank" rel="noreferrer">è¿›ä¸€æ­¥äº†è§£JWT</a>ã€‚</p>
<h3 id="yarn2">Yarn2</h3>
<p>Yarn2 = <strong>yarn berry</strong>ï¼ˆæ›´åŠ å‡†ç¡®ï¼‰ã€‚å’Œ yarn 1.x æ¯”èµ·æ¥ç®—æ˜¯å¤§æ”¹ã€‚</p>
<p>å¦‚æœä½¿ç”¨PnPç‰¹æ€§ï¼Œyarnä¼šç”Ÿæˆ<code>.pnp.cjs</code>ä»¥ä»£æ›¿<code>node_modules</code>ã€‚</p>
<p><code>.pnp.cjs</code>åªæ˜¯ä¸€äº›mapsï¼ŒåŒ…æ‹¬å¦‚ä½•åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æ‰¾åˆ°packagesã€‚</p>
<p>è€Œpackagesæœ¬èº«ï¼Œæ˜¯è¢«zippedå‹ç¼©è¿‡çš„ï¼Œæ‰€ä»¥æ–‡ä»¶çš„æ•°é‡è¿œè¿œå°‘äº<code>node_modules</code>ã€‚</p>
<p>å°½ç®¡packageè¢«å‹ç¼©è¿‡ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥å€ŸåŠ©<code>fs</code>çš„èƒ½åŠ›è¯»å–æ–‡ä»¶ã€‚</p>
<p><strong>æ›´å¤šyarn2ï¼Œæ¬¢è¿é˜…è¯»ï¼š</strong></p>
<ul>
<li><a href="https://blog.logrocket.com/javascript-package-managers-compared/" target="_blank" rel="noreferrer">JavaScript package managers compared: npm, Yarn, or pnpm?</a></li>
<li><a href="https://www.yarnpkg.cn/features/pnp" target="_blank" rel="noreferrer">Plug&#x27;n&#x27;Play</a></li>
</ul>
<h3 id="çº¿ä¸Šç›‘æ§æœåŠ¡å¼‚å¸¸æ’æŸ¥">çº¿ä¸Šç›‘æ§æœåŠ¡å¼‚å¸¸æ’æŸ¥</h3>
<p>å¦‚æœæ€€ç–‘æœ‰å¼‚å¸¸çš„çº¿ä¸Šæµé‡ï¼Œå¦‚ä½•æ’æŸ¥ï¼š</p>
<ol>
<li>è°ƒæ•´æ—¶é—´åŒºé—´ï¼Œæ¥è§‚å¯Ÿæµé‡æ˜¯å¦æ˜¯ä¸€ç¬é—´æ¶Œå…¥çš„ã€‚</li>
<li>æ¯”è¾ƒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„æµé‡ï¼Œè§‚å¯Ÿæµé‡æ˜¯å¦æ˜¯ç›´æ¥æ‰“åˆ°æœåŠ¡ç«¯çš„ã€‚</li>
<li>æ¯”è¾ƒæµé‡å³°å€¼æ—¥å¿—æ˜¯å¦æœ‰å…±åŒç‚¹ï¼šClient IP, Country, Region, Cityâ€¦</li>
</ol></div></div></div></div><div class="sc-3304c032-0 fiBoCN"><div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"R-project-summary","title":"Ré¡¹ç›®å°ç»“","date":"2023-01-09","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    hr: \"hr\",\n    h2: \"h2\",\n    h3: \"h3\",\n    strong: \"strong\",\n    ul: \"ul\",\n    li: \"li\",\n    img: \"img\",\n    code: \"code\",\n    a: \"a\",\n    pre: \"pre\",\n    span: \"span\",\n    ol: \"ol\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"æœ€è¿‘ç»“æŸçš„ä¸€ä¸ªé¡¹ç›®æœ‰å¾ˆå¤šå€¼å¾—å­¦ä¹ çš„åœ°æ–¹ï¼ŒæŒ‘ä¸€äº›ä¸æ•æ„Ÿçš„åœ¨æ­¤è®°å½•ã€‚å…¶ä¸­çš„æ¯ä¸€ç‚¹å…¶å®éƒ½æœ‰æ·±å…¥æŒ–æ˜çš„ç©ºé—´ï¼Œæ—¥åæƒ³å¿…ä¼šå†æ¬¡é‡åˆ°ã€‚\"\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.h2, {\n      id: \"æ–‡æ¡£è®¾è®¡\",\n      children: \"æ–‡æ¡£è®¾è®¡\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æœ‰å“ªäº›æ–‡æ¡£å¯ä»¥æ•´ç†å½’æ€»ï¼Ÿæœ‰çš„æ–‡æ¡£é€‚åˆå•ç‹¬æ€»ç»“ï¼Œæœ‰çš„é€‚åˆæ”¾åœ¨Readmeä¸­ï¼Œä½†æ€»ä¹‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¯ä»¥è€ƒè™‘çš„ç‚¹ã€‚\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"ç³»ç»Ÿè®¾è®¡æ–‡æ¡£\",\n      children: \"ç³»ç»Ÿè®¾è®¡æ–‡æ¡£\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"è¿™é‡Œçš„è®¾è®¡æŒ‡çš„æ˜¯ç³»ç»Ÿçš„æ¶æ„ï¼Œå°¤å…¶è¦å…³æ³¨\", _jsx(_components.strong, {\n        children: \"ç³»ç»Ÿä¹‹é—´æ˜¯å¦‚ä½•è¿æ¥çš„\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"è€Œä»¥ä¸‹å†…å®¹ä¸åº”è¯¥è¢«åŒ…å«åœ¨å…¶ä¸­ï¼š\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"æœåŠ¡çš„å…·ä½“ç»†èŠ‚ã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ç»„ä»¶çš„è®¾è®¡æ¨¡å¼ã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"ç»„ä»¶æ–‡æ¡£\",\n      children: \"ç»„ä»¶æ–‡æ¡£\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æ•´ç†æ‰€æœ‰çš„ç»„ä»¶/æœåŠ¡ï¼Œå¯ä»¥æœ‰ä»¥ä¸‹å…³æ³¨ç‚¹ï¼š\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ä»‹ç»\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æœåŠ¡ç±»å‹ï¼ˆæ¯”å¦‚SSR /Staticï¼‰\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"è·¯ç”±å‰ç¼€\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ç”Ÿäº§ç¯å¢ƒåŸŸå\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"é¢„å‘ç¯å¢ƒåŸŸå\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æµ‹è¯•ç¯å¢ƒåŸŸåï¼ˆè§„åˆ™ï¼‰\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ä»“åº“åœ°å€\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æµæ°´çº¿åœ°å€\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"å‘å¸ƒåˆ†æ”¯\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æ¶‰åŠæŠ€æœ¯æ ˆ\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"å¼€å‘è€…faq\",\n      children: \"å¼€å‘è€…FAQ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ç›®çš„æ˜¯æ”¶é›†å¼€å‘è€…å…³å¿ƒçš„å¸¸è§é—®é¢˜ï¼Œæ¯”å¦‚é¡¹ç›®å¦‚ä½•æœ¬åœ°å¯åŠ¨ï¼Œå¿…è¦æƒé™å¦‚ä½•ç”³è¯·ç­‰ã€‚\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"å¼€å‘è€…éªŒè¯æŒ‡å—\",\n      children: \"å¼€å‘è€…éªŒè¯æŒ‡å—\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ç›®çš„æ˜¯ä¿è¯å¼€å‘è€…æäº¤çš„ç»„ä»¶å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œï¼Œè€Œä¸æ˜¯å®Œå…¨ä¾èµ–QAã€‚å¸¸è§çš„æ‰‹æ®µæœ‰æµ‹è¯•ç”¨ä¾‹ï¼Œcode reviewç­‰ï¼Œä¸”å¾ˆå¯èƒ½ä¸CI/CDæµç¨‹æœ‰å…³ã€‚ä¸ªäººè§‰å¾—å¼€å‘è€…å¾ˆå®¹æ˜“å¯¹ä¸€äº›å°æ”¹åŠ¨æœ‰è¿·ä¹‹è‡ªä¿¡ï¼Œç»“æœå´æäº¤æ— æ³•åœ¨æµ‹è¯•ç¯å¢ƒè¿è¡Œçš„ä»£ç ç”šè‡³æå´©çº¿ä¸Šã€‚è¯¥æ­¥éª¤éå¸¸é‡è¦åˆå®¹æ˜“è¢«å¿½è§†ã€‚\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"awsæœåŠ¡\",\n      children: \"AWSæœåŠ¡\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"awsæœåŠ¡å¤ªå¸¸è§äº†ï¼Œç¨å¾®è®°å½•ä¸€ä¸‹æˆ‘æœ¬æ¬¡æ¥è§¦çš„ï¼Œä¸è‡³äºä¸€äº›åè¯éƒ½æ²¡æœ‰æ¦‚å¿µã€‚\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"ecs\",\n      children: \"ECS\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ECS is Amazon Elastic \", _jsx(_components.strong, {\n        children: \"Container Service\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Container Orchestration Service (å®¹å™¨ç¼–æ’å·¥å…·ï¼‰\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Manages the whole container lifecycle.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"start\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"re-schedule\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"load balance\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ECS Clusterï¼ˆECSé›†ç¾¤ï¼‰æ˜¯Control Planeï¼Œç®¡ç†æ‰€æœ‰è¿è¡Œç€å®¹å™¨çš„è™šæ‹Ÿæœºå™¨ã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/01/09/u8ytTRfvmx7gk4n.jpg\",\n        alt: \"How does ECS work\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"è€Œè¿™äº›è™šæ‹Ÿæœºæ˜¯ä»€ä¹ˆï¼Ÿæ˜¯EC2 Instanceï¼Œä½ è¿˜æ˜¯éœ€è¦ç®¡ç†è¿™äº›Instanceçš„ï¼Œæ¯”å¦‚åœ¨å¢åŠ containerçš„æ—¶å€™ï¼Œéœ€è¦ç¡®ä¿Instanceçš„èµ„æºè¶³å¤Ÿã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ä½†å¦‚æœæˆ‘ä»¬æƒ³åœ¨AWSä¸Šhosting infrastructureã€‚å¯ä»¥ç”¨AWS Fargateã€‚é‚£å°±ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†Instanceï¼Œä»–ä¼šæ ¹æ®ä½ æƒ³è¦è¿è¡Œçš„containeræ¥è‡ªåŠ¨åˆ†é…èµ„æºã€‚èŠ‚çœå‘€ï¼\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"eks\",\n      children: \"EKS\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"EKS is Elastic \", _jsx(_components.strong, {\n        children: \"Kubernetes\"\n      }), \" Service.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Kubernetes æ˜¯ECSçš„ç«å“ï¼Œéå¸¸Popularï¼Œæ‰€ä»¥EKSå°±æ˜¯ä¸ºäº†åœ¨AWSä½¿ç”¨Kubernetesæ¨å‡ºçš„ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"EKSçš„å·¥ä½œæ–¹å¼å’ŒECSå·®ä¸å¤šã€‚\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"ecr\",\n      children: \"ECR\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ECR is Elastic \", _jsx(_components.strong, {\n        children: \"Container Registry\"\n      }), \", a private docker registry.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/01/09/Lw6m7geKZ9A4YSW.png\",\n        alt: \"whole story, Jenkins involved here!\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"elb\",\n      children: \"ELB\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ELB is Elastic load balancing service.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/01/09/EaFjZvJ731LDGRA.png\",\n        alt: \"è´Ÿè½½å‡è¡¡æœåŠ¡\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ä½¿ç”¨è¿™æ ·ä¸€ä¸ª load balanceræœ‰å¾ˆå¤šå¥½å¤„\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"å°†æµé‡åˆ†é…ç»™äº†å¾ˆå¤šä¸‹çº§å®ä¾‹\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"åªæš´éœ²å‡ºä¸€ä¸ªå…¥å£ï¼ˆDNSï¼‰\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æ— ç¼å¤„ç†ä¸‹çº§åº”ç”¨çš„failures\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"å¯¹å®ä¾‹è¿›è¡Œå¥åº·æ£€æŸ¥\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æä¾›https\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"å¼ºåˆ¶ä½¿ç”¨cookiesï¼Œæ‰€ä»¥ç”¨æˆ·å¯ä»¥è®¿é—®åˆ°åŒä¸€ä¸ªinstance\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"â€¦\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"aws-lambda\",\n      children: \"AWS lambda\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"è¿™æ˜¯ä¸€ä¸ªServerlessæœåŠ¡ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç†è§£ä¸ºå®ƒæä¾›äº†æ ¹æ®äº‹ä»¶è‡ªåŠ¨è§¦å‘Functionçš„èƒ½åŠ›ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å…¶ä¸­äº‹ä»¶å¯ä»¥æŒ‡çš„æ˜¯S3çš„å†…å®¹å˜åŒ–ï¼ŒAPIçš„è¯·æ±‚ï¼Œæˆ–å…¶ä»–å„ç§å„æ ·çš„AWSæœåŠ¡äº‹ä»¶ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªæ¦‚å¿µï¼ŒServerlessï¼Œå€¼å¾—è¯´ä¸€è¯´ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æˆ‘ä¸ªäººçš„ç†è§£æ˜¯è¿™æ ·çš„ï¼š\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"é¦–å…ˆServerlesså¹¶ä¸æ˜¯è¯´æ²¡æœ‰Serverï¼Œè€Œæ˜¯Serverå¯¹ç”¨æˆ·ä¸å¯è§ï¼Œwhich meansï¼š\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†serverã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ä¼šæ ¹æ®ä½¿ç”¨è‡ªåŠ¨æ‰©å®¹ã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"åªæœ‰å½“è¢«ä½¿ç”¨çš„æ—¶å€™ï¼Œæ‰ä¼šäº§ç”Ÿè´¹ç”¨ï¼ˆè€Œä¸æ˜¯ä¸ºServeræœ¬èº«ä»˜è´¹ï¼‰ã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://s2.loli.net/2023/01/09/B2oTW3lrEuznZGK.png\",\n        alt: \"\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"ç¯å¢ƒå˜é‡\",\n      children: \"ç¯å¢ƒå˜é‡\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"ç¯å¢ƒå˜é‡-in-nextjs\",\n      children: \"ç¯å¢ƒå˜é‡ in Next.js\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Before \", _jsx(_components.code, {\n        children: \"const HOST_NAME = 'www.sample.com'\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"After \", _jsx(_components.code, {\n        children: \"const HOST_NAME = 'process.env.NEXT_PUBLIC_HOST_NAME'\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"è¿™é‡Œæ¶‰åŠåˆ°Next.jsçš„ä¸€ä¸ªç‰¹æ€§ï¼š\", _jsx(_components.a, {\n        href: \"https://nextjs.org/docs/basic-features/environment-variables#exposing-environment-variables-to-the-browser\",\n        children: \"expose env vars to the browser\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"During the \", _jsx(_components.strong, {\n          children: \"build stage\"\n        }), \", next.js will find these env vars start with \", _jsx(_components.strong, {\n          children: \"NEXT_PUBLIC_\"\n        }), \" and replace them with literal.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"build stageå¾ˆå…³é”®ï¼Œåœ¨CI/CDæµç¨‹ä¸­ï¼Œå¯èƒ½æœ‰buildã€releaseç­‰å¤šä¸ªç¯èŠ‚ï¼Œåœ¨å“ªé‡Œä¼ å…¥ç¯å¢ƒå˜é‡å¾ˆå…³é”®ã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Trick: å¦‚æœåœ¨ä¸€äº›æƒ…å½¢ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æŠŠç”¨äºnodeç«¯çš„ç¯å¢ƒå˜é‡æš´éœ²ç»™æµè§ˆå™¨ï¼Œå¯ä»¥æ€ä¹ˆåšï¼Ÿ\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Read these env vars inside \", _jsx(_components.code, {\n          children: \"getServerSideProps\"\n        }), \" and return them as props. \", _jsx(_components.a, {\n          href: \"https://nextjs.org/docs/basic-features/data-fetching/get-server-side-props#when-does-getserversideprops-run\",\n          children: \"More to read about it\"\n        }), \".\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-javascript\",\n      children: _jsxs(_components.code, {\n        className: \"language-javascript\",\n        children: [\"  \", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function-variable function\",\n          children: \"getServerSideProps\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// we can read server side env vars here.\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"token literal-property property\",\n          children: \"serverConstants\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"TEST_HOST_NAME\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" process\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"env\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"TEST_HOST_NAME\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n  \\n  \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// client side.\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function-variable function\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"Page\"\n          })\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token parameter\",\n          children: \"props\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \" serverConstants \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" props\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token keyword control-flow\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003c\"\n        }), \"p\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003e\"\n        }), _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"TEST_HOST_NAME\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"serverConstants\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"TEST_HOST_NAME\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003c\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"/\"\n        }), \"p\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"\u003e\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"æœ¬åœ°ç¯å¢ƒå˜é‡\",\n      children: \"æœ¬åœ°ç¯å¢ƒå˜é‡\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"å…³äºåœ¨æœ¬åœ°å¼€å‘ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œnext.js å·²ç»æœ‰äº†å¾ˆå¥½çš„æ”¯æŒï¼ŒæŸ¥çœ‹ \", _jsx(_components.a, {\n        href: \"https://nextjs.org/docs/basic-features/environment-variables#loading-environment-variables\",\n        children: \"è¿™é‡Œ\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"åœ¨å®é™…åœºæ™¯ä¸‹ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª.env.local.examlpeæ–‡ä»¶ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å¼€å‘è€…å¯ä»¥æ‹·è´è¯¥æ–‡ä»¶å¹¶å°†å…¶ä½œä¸ºè‡ªå·±çš„.env.localæ–‡ä»¶ã€‚\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \".env.local ä¸åº”è¯¥è¢«æäº¤åˆ°repoä¸­ï¼\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"ç¯å¢ƒå˜é‡-in-jest\",\n      children: \"ç¯å¢ƒå˜é‡ in Jest\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æ–¹æ³•æ˜¯æœ‰å¾ˆå¤šçš„ï¼ŒæŒ‰éœ€é‡‡ç”¨ï¼Œè¿™é‡Œè®°å½•ä¸¤ç§ã€‚\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"åœ¨jestçš„setupæ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡\",\n      children: \"åœ¨jestçš„setupæ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://jestjs.io/docs/configuration#setupfilesafterenv-array\",\n        children: \"æ–‡æ¡£åœ¨æ­¤\"\n      }), \"ã€‚ç®€å•æ¥è¯´ï¼Œåœ¨è¿™é‡Œè®¾ç½®çš„ç¯å¢ƒå˜é‡ä¼šä½œç”¨äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"é€‚åˆç”¨äºè®¾ç½®é»˜è®¤ç¯å¢ƒå˜é‡ï¼Œä½†æ— æ³•æ»¡è¶³éœ€è¦æµ‹è¯•ä¸åŒçš„ç¯å¢ƒå˜é‡çš„åœºæ™¯ã€‚\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"åœ¨æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡\",\n      children: \"åœ¨æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å½“ç„¶æˆ‘ä»¬å¯ä»¥åœ¨æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ã€‚\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"åªæ˜¯è¦è®°ä½ï¼Œåœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å‰ï¼Œä¸€å®šè¦ä½¿ç”¨ \", _jsx(_components.a, {\n        href: \"https://jestjs.io/docs/jest-object#jestresetmodules\",\n        children: _jsx(_components.strong, {\n          children: \"restModules\"\n        })\n      }), \" ï¼Œä¸”\", _jsx(_components.strong, {\n        children: \"åŠ¨æ€å¼•å…¥\"\n      }), \"æ¶‰åŠç¯å¢ƒå˜é‡çš„æ¨¡å—ã€‚\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-javascript\",\n      children: _jsxs(_components.code, {\n        className: \"language-javascript\",\n        children: [_jsx(_components.span, {\n          className: \"token function\",\n          children: \"describe\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'environmental variables'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"OLD_ENV\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" process\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"env\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\\n  \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"beforeEach\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    jest\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: \"resetModules\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// Most important - it clears the cache\"\n        }), \"\\n    process\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"env\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token spread operator\",\n          children: \"...\"\n        }), _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"OLD_ENV\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// Make a copy\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\\n  \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"afterAll\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    process\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"env\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"OLD_ENV\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// Restore old environment\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\\n  \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"test\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'will receive process.env variables'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token arrow operator\",\n          children: \"=\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// Set the variables\"\n        }), \"\\n    process\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"env\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"NODE_ENV\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'dev'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n    process\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"env\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"PROXY_PREFIX\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'/new-prefix/'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n    process\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"env\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"API_URL\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'https://new-api.com/'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n    process\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"env\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"APP_PORT\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'7080'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n    process\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"env\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token constant\",\n          children: \"USE_PROXY\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'false'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\\n    \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" testedModule \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"require\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'../../config/env'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// dynamic import\"\n        }), \"\\n\\n    \", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// ... actual testing\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"å…¶ä»–\",\n      children: \"å…¶ä»–\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"æœ¬åœ°ä¸€åˆ‡å®‰å¥½çº¿ä¸Šå‘å¸ƒç¼ºå°‘ä¾èµ–å¯èƒ½æ˜¯\",\n      children: \"æœ¬åœ°ä¸€åˆ‡å®‰å¥½ï¼Œçº¿ä¸Šå‘å¸ƒç¼ºå°‘ä¾èµ–ï¼Œå¯èƒ½æ˜¯ï¼Ÿ\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"è§„åˆ™ï¼šå¦‚æœ\", _jsx(_components.code, {\n        children: \"NODE_ENV\"\n      }), \"è¢«è®¾ç½®æˆ\", _jsx(_components.code, {\n        children: \"production\"\n      }), \"ï¼Œyarnä¸ä¼šå®‰è£…\", _jsx(_components.code, {\n        children: \"devDependencies\"\n      }), \"ä¸­çš„ä¾èµ–ï¼Œå…·ä½“å¯çœ‹\", _jsx(_components.a, {\n        href: \"https://classic.yarnpkg.com/en/docs/cli/install#toc-yarn-install-production-true-false\",\n        children: \"è¿™é‡Œ\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"æ‰€ä»¥è¿™ç§cmdæ˜¯åˆç†çš„ï¼š\", _jsx(_components.code, {\n        children: \"yarn install \u0026\u0026 yarn test \u0026\u0026 NODE_ENV=production yarn export\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ç›¸å¯¹çš„ï¼Œå¦‚æœ\", _jsx(_components.code, {\n        children: \"NODE_ENV\"\n      }), \"è¢«è®¾ç½®çš„å¤ªæ—©ï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´\", _jsx(_components.code, {\n        children: \"yarn test\"\n      }), \"ç¼ºå°‘ä¾èµ–ã€‚\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"å¦‚ä½•æ›´æ–°åŒ…ç»„ä»¶æœåŠ¡\",\n      children: \"å¦‚ä½•æ›´æ–°åŒ…/ç»„ä»¶/æœåŠ¡\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"é™¤äº†æ›´æ–°é€»è¾‘ï¼Œä¸€èˆ¬è¿˜æœ‰å“ªäº›æ­¥éª¤ï¼Ÿ\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"æ›´æ–°æµ‹è¯•ç”¨ä¾‹ï¼Œä¿è¯æœ¬åœ°æµ‹è¯•ç”¨ä¾‹é€šè¿‡ã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æœ¬åœ°æˆåŠŸè¿è¡ŒæœåŠ¡ã€‚\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"å¼€ä¸€ä¸ªdraft PR.\", \"\\n\", _jsxs(_components.ol, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"å°†å…¶éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒã€‚\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"åœ¨æµ‹è¯•ç¯å¢ƒæˆåŠŸè¿è¡Œã€‚\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æ›´æ–°ç‰ˆæœ¬ã€‚ï¼ˆè§†å…·ä½“æƒ…å½¢ï¼‰\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æ‰¾äººreviewã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æœ‰äº†approvalsï¼Œå¯ä»¥mergeã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"å…¶ä½™çš„å°±æ˜¯QAã€éƒ¨ç½²æµç¨‹ç­‰ã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"jwt\",\n      children: \"JWT\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JWTï¼ˆJSON web tokenï¼‰æ˜¯ä¸€ç§å¸¸è§çš„åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é—´ä¼ é€’ä¿¡æ¯çš„æ–¹å¼ã€‚\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"é™¤éçŸ¥é“ç­¾åï¼Œç”¨æˆ·æ˜¯æ— æ³•ä¼ªé€ æ•°æ®çš„ã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"è€Œheaderå’Œpayloadæœ¬èº«æ˜¯å¹¶æ²¡æœ‰è¢«åŠ å¯†çš„ã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æ‰€ä»¥åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œä»»ä½•äººéƒ½å¯ä»¥æŸ¥çœ‹è¯·æ±‚çš„æ•°æ®ï¼Œä½†ä¸çŸ¥é“ç­¾åçš„æ™®é€šç”¨æˆ·æ²¡åŠæ³•è‡ªå·±æ„é€ ã€ç¯¡æ”¹è¯·æ±‚ã€‚\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://en.wikipedia.org/wiki/JSON_Web_Token\",\n        children: \"è¿›ä¸€æ­¥äº†è§£JWT\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"yarn2\",\n      children: \"Yarn2\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Yarn2 = \", _jsx(_components.strong, {\n        children: \"yarn berry\"\n      }), \"ï¼ˆæ›´åŠ å‡†ç¡®ï¼‰ã€‚å’Œ yarn 1.x æ¯”èµ·æ¥ç®—æ˜¯å¤§æ”¹ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"å¦‚æœä½¿ç”¨PnPç‰¹æ€§ï¼Œyarnä¼šç”Ÿæˆ\", _jsx(_components.code, {\n        children: \".pnp.cjs\"\n      }), \"ä»¥ä»£æ›¿\", _jsx(_components.code, {\n        children: \"node_modules\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \".pnp.cjs\"\n      }), \"åªæ˜¯ä¸€äº›mapsï¼ŒåŒ…æ‹¬å¦‚ä½•åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æ‰¾åˆ°packagesã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"è€Œpackagesæœ¬èº«ï¼Œæ˜¯è¢«zippedå‹ç¼©è¿‡çš„ï¼Œæ‰€ä»¥æ–‡ä»¶çš„æ•°é‡è¿œè¿œå°‘äº\", _jsx(_components.code, {\n        children: \"node_modules\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"å°½ç®¡packageè¢«å‹ç¼©è¿‡ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥å€ŸåŠ©\", _jsx(_components.code, {\n        children: \"fs\"\n      }), \"çš„èƒ½åŠ›è¯»å–æ–‡ä»¶ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"æ›´å¤šyarn2ï¼Œæ¬¢è¿é˜…è¯»ï¼š\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://blog.logrocket.com/javascript-package-managers-compared/\",\n          children: \"JavaScript package managers compared: npm, Yarn, or pnpm?\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://www.yarnpkg.cn/features/pnp\",\n          children: \"Plug'n'Play\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"çº¿ä¸Šç›‘æ§æœåŠ¡å¼‚å¸¸æ’æŸ¥\",\n      children: \"çº¿ä¸Šç›‘æ§æœåŠ¡å¼‚å¸¸æ’æŸ¥\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å¦‚æœæ€€ç–‘æœ‰å¼‚å¸¸çš„çº¿ä¸Šæµé‡ï¼Œå¦‚ä½•æ’æŸ¥ï¼š\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"è°ƒæ•´æ—¶é—´åŒºé—´ï¼Œæ¥è§‚å¯Ÿæµé‡æ˜¯å¦æ˜¯ä¸€ç¬é—´æ¶Œå…¥çš„ã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æ¯”è¾ƒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„æµé‡ï¼Œè§‚å¯Ÿæµé‡æ˜¯å¦æ˜¯ç›´æ¥æ‰“åˆ°æœåŠ¡ç«¯çš„ã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æ¯”è¾ƒæµé‡å³°å€¼æ—¥å¿—æ˜¯å¦æœ‰å…±åŒç‚¹ï¼šClient IP, Country, Region, Cityâ€¦\"\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"description":"æœ€è¿‘ç»“æŸçš„ä¸€ä¸ªé¡¹ç›®æœ‰å¾ˆå¤šå€¼å¾—å­¦ä¹ çš„åœ°æ–¹ï¼ŒæŒ‘ä¸€äº›ä¸æ•æ„Ÿçš„åœ¨æ­¤è®°å½•ã€‚å…¶ä¸­çš„æ¯ä¸€ç‚¹å…¶å®éƒ½æœ‰æ·±å…¥æŒ–æ˜çš„ç©ºé—´ï¼Œæ—¥åæƒ³å¿…ä¼šå†æ¬¡é‡åˆ°ã€‚......","usedCustomComponentNames":[]},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"R-project-summary"},"buildId":"_ClwSS3-Ivr8G5PbtsguX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>