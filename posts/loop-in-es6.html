<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>LWDW!</title><meta name="description" content="å¾ªç¯ï¼Œè¿˜æœ‰è¿™ç§æ“ä½œï¼ï¼Ÿâ€”â€”es6è¡¥å……"/><meta property="og:title" content="å¾ªç¯ï¼Œè¿˜æœ‰è¿™ç§æ“ä½œï¼ï¼Ÿâ€”â€”es6è¡¥å……"/><meta property="og:description" content="---......"/><meta name="next-head-count" content="6"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#000"/><meta property="og:type" content="website"/><meta property="og:image" content="https://s2.loli.net/2023/01/18/42YTZxzePtR7jy9.png"/><meta property="og:url" content="https://b-sirius.github.io"/><link rel="preload" href="/_next/static/css/aef510c8abf24c2c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aef510c8abf24c2c.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-f164db4954bac6ec.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-673a4fae4a27af6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c873aea89b84d215.js" defer=""></script><script src="/_next/static/chunks/664-1b4479b4462ded63.js" defer=""></script><script src="/_next/static/chunks/332-e879213584d084bf.js" defer=""></script><script src="/_next/static/chunks/740-8163689fd2f6810b.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-919e9fe85734d4f2.js" defer=""></script><script src="/_next/static/uVwIxbqAV1krKk3KDH_r0/_buildManifest.js" defer=""></script><script src="/_next/static/uVwIxbqAV1krKk3KDH_r0/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="sc-b711fa3b-0 dxGMRG"><div class="sc-7fa12c98-0 iqAzDm"><div class="sc-43499fa6-1 fpwtCg"><div class="sc-43499fa6-0 kHEYvc"><a class="sc-43499fa6-2 clMnXF" href="/">[<!-- -->Home<!-- -->]</a><a class="sc-43499fa6-2 clMnXF" href="/posts">[<!-- -->Posts<!-- -->]</a><a class="sc-43499fa6-3 knmsGc" rel="noopener noreferrer" target="_blank" href="https://github.com/B-sirius">[<!-- -->Github<!-- -->]</a><a class="sc-43499fa6-3 knmsGc" rel="noopener noreferrer" target="_blank" href="https://b-sirius.github.io/rss.xml">[<!-- -->RSS<!-- -->]</a></div><div class="sc-f5ce872-0 drvesR"><h1 class="sc-f5ce872-1 jPBPjm">LWDW!</h1><p class="sc-f5ce872-2 djaGsH">Learn the work from doing the workğŸº</p></div></div><div class="sc-c80897d2-0 sc-20291786-0 xdBKv eCERES"><div><div class="sc-71f045d-0 btFogL"><div class="sc-71f045d-2 jyKPAA">å¾ªç¯ï¼Œè¿˜æœ‰è¿™ç§æ“ä½œï¼ï¼Ÿâ€”â€”es6è¡¥å……</div><div class="sc-71f045d-3 gtUFRe">Posted on <!-- -->2017-10-22</div></div></div></div><div class="sc-c80897d2-0 xdBKv"><div><div class="sc-71f045d-1 jlClpN"><div class="sc-29ea8e37-0 bjoUyc"></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"loop-in-es6","title":"å¾ªç¯ï¼Œè¿˜æœ‰è¿™ç§æ“ä½œï¼ï¼Ÿâ€”â€”es6è¡¥å……","date":"2017-10-22","mdText":"\nç¼˜ï¼Œå¦™ä¸å¯è¨€â€”â€”å¼€å§‹ç³»ç»Ÿæ¢³ç†es6åï¼Œå‘ç°å…³äºå¾ªç¯çš„çŸ¥è¯†ç‚¹åˆæœ‰äº†ä¸å°‘è¡¥å……ï¼Œæ­£å¥½å¡«ä¸€ä¸‹ä¸Šæ¬¡çš„å‘å˜›ã€æŠ–ã€‘ï¼Œæœ¬æ–‡æœ‰å¤§é‡éƒ¨åˆ†ç›´æ¥æ‘˜äº[es6æ ‡å‡†å…¥é—¨](http://es6.ruanyifeng.com/)\n\nps: [ä¸Šé›†å›é¡¾](http://b-sirius.me/2017/08/15/%E5%BE%AA%E7%8E%AF%EF%BC%8C%E8%BF%98%E6%9C%89%E8%BF%99%E7%A7%8D%E6%93%8D%E4%BD%9C/)\n\n---\n\n## Objectå¯¹è±¡çš„æ‹“å±•\n\n### Object.keys()\n\nå…¶å®æ˜¯es5å¼•å…¥çš„æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå¸¸ç”¨äºä¸for-ofæ­é…éå†ï¼Œæˆå‘˜æ˜¯**å‚æ•°å¯¹è±¡è‡ªèº«ï¼ˆä¸å«ç»§æ‰¿ï¼‰**çš„æ‰€æœ‰**å¯æšä¸¾ï¼ˆenumerableï¼‰**å±æ€§çš„é”®åï¼š\n\n```javascript\nlet obj = { foo: 'bar', baz: 42 }\nObject.keys(obj)\n// [\"foo\", \"baz\"]\n```\n\nç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬æ›´ç†Ÿæ‚‰çš„for-inéå†è™½ç„¶åŒæ ·æ˜¯éå†**å¯æšä¸¾å±æ€§**çš„é”®åï¼Œä½†æ˜¯å®ƒéå†çš„èŒƒå›´ä¸åªæ˜¯å¯¹è±¡è‡ªèº«ï¼Œè¿˜æœ‰å®ƒçš„**åŸå‹é“¾**ï¼Œç›¸æ¯”ä¹‹ä¸‹object.keys()åœ¨å¤§å¤šæƒ…å†µä¸‹æ›´åŠ é€‚ç”¨ã€‚\n\nå¦å¤–ï¼Œes2017ä¸­æœ‰ä¸€ä¸ªææ¡ˆï¼Œå¼•å…¥**Object.values**å’Œ**Object.entires**ä¸å…¶é…å¥—ä½¿ç”¨ï¼š\n\n```Javascript\nlet {keys, values, entries} = Object;\nlet obj = { a: 1, b: 2, c: 3 };\n\nfor (let key of keys(obj)) {\n  console.log(key); // 'a', 'b', 'c'\n}\n\nfor (let value of values(obj)) {\n  console.log(value); // 1, 2, 3\n}\n\nfor (let [key, value] of entries(obj)) {\n  console.log([key, value]); // ['a', 1], ['b', 2], ['c', 3]\n}\n```\n\n## Iteratoréå†å™¨\n\nå…¶å®è¿™æ‰æ˜¯é‡å¤´æˆå•Šï¼Œç”±äºæ¶‰åŠåˆ°çš„ç‚¹å¤ªå¤šï¼ŒåªæåŠä¸€ç‚¹æ¦‚å¿µä»¥åŠç›¸å…³å…³é”®è¯ã€‚\n\n### æ¦‚å¿µ\n\nIterator çš„ä½œç”¨æœ‰ä¸‰ä¸ªï¼š\n\n* å„ç§æ•°æ®ç»“æ„ï¼Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„ã€ç®€ä¾¿çš„è®¿é—®æ¥å£\n* ä½¿å¾—æ•°æ®ç»“æ„çš„æˆå‘˜èƒ½å¤ŸæŒ‰æŸç§æ¬¡åºæ’\n* ES6åˆ›é€ äº†ä¸€ç§æ–°çš„éå†å‘½ä»¤`for...of`å¾ªç¯ï¼ŒIteratoræ¥å£ä¸»è¦ä¾›`for...of`æ¶ˆè´¹\n\nIteratorçš„éå†è¿‡ç¨‹å¦‚ä¸‹ï¼š\n\n1. åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ŒæŒ‡å‘å½“å‰æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ**éå†å™¨å¯¹è±¡æœ¬è´¨ä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡**\n2. ç¬¬ä¸€æ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„`next`æ–¹æ³•ï¼Œå¯ä»¥å°†æŒ‡é’ˆæŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬ä¸€ä¸ªæˆå‘˜\n3. ç¬¬äºŒæ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„`next`æ–¹æ³•ï¼ŒæŒ‡é’ˆå°±æŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬äºŒä¸ªæˆå‘˜\n4. ä¸æ–­è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„`next`æ–¹æ³•ï¼Œç›´åˆ°å®ƒæŒ‡å‘æ•°æ®ç»“æ„çš„ç»“æŸä½ç½®\n\næ¯ä¸€æ¬¡è°ƒç”¨`next`æ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›æ•°æ®ç»“æ„çš„å½“å‰æˆå‘˜çš„ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯**è¿”å›ä¸€ä¸ªåŒ…å«`value`å’Œ`done`ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡**ã€‚å…¶ä¸­ï¼Œ`value`å±æ€§æ˜¯å½“å‰æˆå‘˜çš„å€¼ï¼Œ`done`å±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéå†æ˜¯å¦ç»“æŸã€‚\n\næ¨¡æ‹Ÿ next æ–¹æ³•è¿”å›å€¼ï¼š\n\n``` Javascript\nvar it = makeIterator(['a', 'b']);\n\nit.next() // { value: \"a\", done: false }\nit.next() // { value: \"b\", done: false }\nit.next() // { value: undefined, done: true }\n\nfunction makeIterator(array) {\n  var nextIndex = 0;\n  return {\n    next: function() {\n      return nextIndex \u003c array.length ?\n        {value: array[nextIndex++], done: false} :\n        {value: undefined, done: true};\n    }\n  };\n}\n```\n\n### é»˜è®¤Iteratoræ¥å£\n\nES6 è§„å®šï¼Œé»˜è®¤çš„ Iterator æ¥å£éƒ¨ç½²åœ¨æ•°æ®ç»“æ„çš„`Symbol.iterator`å±æ€§ï¼Œæˆ–è€…è¯´ï¼Œ**ä¸€ä¸ªæ•°æ®ç»“æ„åªè¦å…·æœ‰`Symbol.iterator`å±æ€§ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯â€œå¯éå†çš„â€ï¼ˆiterableï¼‰**ã€‚`Symbol.iterator`å±æ€§æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå°±æ˜¯å½“å‰æ•°æ®ç»“æ„é»˜è®¤çš„éå†å™¨ç”Ÿæˆå‡½æ•°ã€‚æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªéå†ã€‚\n\nè€ŒåŸç”Ÿå…·æœ‰è¯¥å€Ÿå£çš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š\n\n- Array\n- Map\n- Set\n- String\n- TypedArray\n- å‡½æ•°çš„ arguments å¯¹è±¡\n- NodeList å¯¹è±¡\n\nä»¥æ•°ç»„ä¸ºä¾‹ï¼š\n\n```Javascript\nlet arr = ['a', 'b', 'c'];\nlet iter = arr[Symbol.iterator]();\n\niter.next() // { value: 'a', done: false }\niter.next() // { value: 'b', done: false }\niter.next() // { value: 'c', done: false }\niter.next() // { value: undefined, done: true }\n```\n\nä¸€ä¸ªå¯¹è±¡å¦‚æœè¦å…·å¤‡å¯è¢«`for...of`å¾ªç¯è°ƒç”¨çš„ Iterator æ¥å£ï¼Œå°±å¿…é¡»åœ¨`Symbol.iterator`çš„å±æ€§ä¸Šéƒ¨ç½²éå†å™¨ç”Ÿæˆæ–¹æ³•ï¼ˆåŸå‹é“¾ä¸Šçš„å¯¹è±¡å…·æœ‰è¯¥æ–¹æ³•ä¹Ÿå¯ï¼‰ï¼Œè¿™ä¸ªæ“ä½œéªšæ–¹æ³•å°±å¤ªå¤šäº†ï¼Œè¿˜æ˜¯è¯¦çœ‹es6å§ï¼Œå…¶ä¸­æœ€å€¼å¾—æ³¨æ„çš„éªšæ“ä½œå°±æ˜¯**Generatorå‡½æ•°**ã€‚\n\n### è°ƒç”¨Iteratoræ¥å£çš„åœºåˆ\n\n* for-ofå¾ªç¯\n* è§£æ„èµ‹å€¼\n* æ‰©å±•è¿ç®—ç¬¦\n* yield*\n\n---\n\næ²¡äº†ï¼Ÿæ²¡äº†ã€‚Iteratoræ¶‰åŠåˆ°çš„ç‚¹å’Œç”¨æ³•åœ¨es6å…¥é—¨ä¸­æ•´ç†çš„å¾ˆå¥½äº†ï¼Œç»§ç»­å¤åˆ¶ç²˜è´´æ„Ÿè§‰ä¹Ÿæ²¡æœ‰å¤ªå¤§æ„ä¹‰å—¯â€”â€”\n\n","description":"---......"},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"loop-in-es6"},"buildId":"uVwIxbqAV1krKk3KDH_r0","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>