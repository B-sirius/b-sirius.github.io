<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>LWDW!</title><meta name="description" content="å½“æˆ‘ä»¬è®¨è®ºåŠ¨ç”»æ—¶ï¼Œæˆ‘ä»¬åœ¨è®¨è®ºä»€ä¹ˆâ€”â€”â€”colorç¯‡"/><meta property="og:title" content="å½“æˆ‘ä»¬è®¨è®ºåŠ¨ç”»æ—¶ï¼Œæˆ‘ä»¬åœ¨è®¨è®ºä»€ä¹ˆâ€”â€”â€”colorç¯‡"/><meta property="og:description" content="é™¤äº†ä¸Šç¯‡çš„transformåŠ¨ç”»éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œè¿˜æœ‰ä¸€ä¸ªå¤§å¤´å°±æ˜¯å±æ€§å€¼ä¸ºé¢œè‰²çš„å¤„ç†ã€‚ä¸åŒäºtransformï¼Œå±æ€§å€¼ä¸ºé¢œè‰²çš„å±æ€§å¯ä»¥æœ‰å¾ˆå¤šç§ï¼Œè€Œé¢œè‰²å±æ€§å€¼åˆæœ‰rgbã€hslã€rgbaç”šè‡³åå…­è¿›åˆ¶ç­‰å¤šç§è¡¨......"/><meta name="next-head-count" content="6"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#ffffff"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#000"/><meta property="og:type" content="website"/><meta property="og:image" content="https://s2.loli.net/2023/01/18/42YTZxzePtR7jy9.png"/><meta property="og:url" content="https://b-sirius.github.io"/><link rel="preload" href="/_next/static/css/aef510c8abf24c2c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aef510c8abf24c2c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b51a0fb142b75fa0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b51a0fb142b75fa0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-f164db4954bac6ec.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-673a4fae4a27af6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0da236044dc4e5fc.js" defer=""></script><script src="/_next/static/chunks/664-1b4479b4462ded63.js" defer=""></script><script src="/_next/static/chunks/332-e879213584d084bf.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-1001914fc6870d3d.js" defer=""></script><script src="/_next/static/a9qbsu3QIR-E7ZeJZ2det/_buildManifest.js" defer=""></script><script src="/_next/static/a9qbsu3QIR-E7ZeJZ2det/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="sc-b711fa3b-0 dxGMRG"><div class="sc-7fa12c98-0 iqAzDm"><div class="sc-357ac6e1-1 blSmbb"><div class="sc-357ac6e1-0 fqUBXX"><a class="sc-357ac6e1-2 gfNIvm" href="/">[<!-- -->Home<!-- -->]</a><a class="sc-357ac6e1-2 gfNIvm" href="/posts">[<!-- -->Posts<!-- -->]</a><a class="sc-357ac6e1-3 eNeEmH" rel="noopener noreferrer" target="_blank" href="https://github.com/B-sirius">[<!-- -->Github<!-- -->]</a><a class="sc-357ac6e1-3 eNeEmH" rel="noopener noreferrer" target="_blank" href="https://b-sirius.github.io/rss.xml">[<!-- -->RSS<!-- -->]</a></div><div class="sc-f5ce872-0 drvesR"><h1 class="sc-f5ce872-1 jPBPjm">LWDW!</h1><p class="sc-f5ce872-2 djaGsH">Learn the work from doing the workğŸº</p></div></div><div class="sc-920e94b6-0 sc-20291786-0 cMfBpD eCERES"><div><div class="sc-32c5999b-0 iFBmZi"><div class="sc-32c5999b-2 fHkOeB">å½“æˆ‘ä»¬è®¨è®ºåŠ¨ç”»æ—¶ï¼Œæˆ‘ä»¬åœ¨è®¨è®ºä»€ä¹ˆâ€”â€”â€”colorç¯‡</div><div class="sc-32c5999b-3 deKveP">Posted on <!-- -->2017-04-30</div></div></div></div><div class="sc-920e94b6-0 cMfBpD"><div><div class="sc-32c5999b-1 fNXLto"><div class="sc-29ea8e37-0 bjoUyc"><div><html><head></head><body><h2 id="è®¾è®¡æ¨¡å¼çš„è¿ç”¨">è®¾è®¡æ¨¡å¼çš„è¿ç”¨</h2>
<p>é™¤äº†ä¸Šç¯‡çš„transformåŠ¨ç”»éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œè¿˜æœ‰ä¸€ä¸ªå¤§å¤´å°±æ˜¯å±æ€§å€¼ä¸ºé¢œè‰²çš„å¤„ç†ã€‚ä¸åŒäºtransformï¼Œå±æ€§å€¼ä¸ºé¢œè‰²çš„å±æ€§å¯ä»¥æœ‰å¾ˆå¤šç§ï¼Œè€Œé¢œè‰²å±æ€§å€¼åˆæœ‰rgbã€hslã€rgbaç”šè‡³åå…­è¿›åˆ¶ç­‰å¤šç§è¡¨ç¤ºæ–¹å¼ï¼Œæ„å‘³ç€ä¸¤è€…å¯¹å±æ€§åã€å±æ€§å€¼åˆ†ç¦»çš„é€»è¾‘ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œå†åŠ ä¸Šå¯¹æ™®é€šå±æ€§å¤„ç†çš„é€»è¾‘ï¼Œè‡³å°‘æœ‰ä¸‰ç§ä¸åŒçš„åˆ†ç¦»é€»è¾‘ã€‚å› æ­¤åœ¨åŠ å…¥é¢œè‰²çš„å¤„ç†æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘å…ˆç”¨ç­–ç•¥æ¨¡å¼é‡æ„äº†è¿™éƒ¨åˆ†é€»è¾‘ï¼Œæœ€åç»“æœå¦‚ä¸‹ï¼š</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token doc-comment comment">/**
 * å¯¹porpså±æ€§å€¼å¤„ç†ï¼Œè·å¾—æ¸²æŸ“æ—¶æ‰€éœ€çš„æ•°æ®
 */</span>
<span class="token class-name">Rush</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token property-access">_handleProps</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// transform çš„å±æ€§éœ€è¦ç‰¹åˆ«å¤„ç†</span>
    <span class="token keyword">const</span> transformProperties <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"translateX"</span><span class="token punctuation">,</span> <span class="token string">"translateY"</span><span class="token punctuation">,</span> <span class="token string">"translateZ"</span><span class="token punctuation">,</span> <span class="token string">"scale"</span><span class="token punctuation">,</span> <span class="token string">"scaleX"</span><span class="token punctuation">,</span> <span class="token string">"scaleY"</span><span class="token punctuation">,</span> <span class="token string">"scaleZ"</span><span class="token punctuation">,</span> <span class="token string">"skewX"</span><span class="token punctuation">,</span> <span class="token string">"skewY"</span><span class="token punctuation">,</span> <span class="token string">"rotateX"</span><span class="token punctuation">,</span> <span class="token string">"rotateY"</span><span class="token punctuation">,</span> <span class="token string">"rotateZ"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// color çš„å±æ€§éœ€è¦ç‰¹åˆ«å¤„ç†</span>
    <span class="token keyword">const</span> colorProperties <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"color"</span><span class="token punctuation">,</span> <span class="token string">"background-color"</span><span class="token punctuation">,</span> <span class="token string">"border-color"</span><span class="token punctuation">,</span> <span class="token string">"outline-color"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> propertyHandler <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// æ™®é€šå±æ€§çš„å¤„ç†æ–¹æ³•</span>
    propertyHandler<span class="token punctuation">[</span><span class="token string">'default'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">task<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> el <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> begin<span class="token punctuation">;</span> <span class="token comment">// åˆå§‹å±æ€§å€¼å’Œå•ä½</span>
        <span class="token keyword">var</span> end <span class="token operator">=</span> <span class="token function">propertyValueHandler</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> task<span class="token punctuation">.</span><span class="token property-access">props</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœ«å±æ€§æ•°å€¼å’Œå•ä½</span>

        <span class="token keyword">var</span> realPropertyName <span class="token operator">=</span> key<span class="token punctuation">;</span> <span class="token comment">// çœŸæ­£çš„å±æ€§å</span>
        <span class="token keyword">var</span> styleLogic <span class="token operator">=</span> <span class="token string">'default'</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> beginValue <span class="token operator">=</span> <span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">getPropertyValue</span><span class="token punctuation">(</span>realPropertyName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å¾—åˆå§‹å±æ€§å€¼(å¸¦å•ä½)</span>

        begin <span class="token operator">=</span> <span class="token function">propertyValueHandler</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> beginValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å¾—å±æ€§æ•°å€¼å’Œå•ä½</span>

        realPropertyName <span class="token operator">=</span> <span class="token function">transferStyleName</span><span class="token punctuation">(</span>realPropertyName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å°†è¿å­—ç¬¦æ ¼å¼è½¬æ¢ä¸ºé©¼å³°å¼</span>

        <span class="token comment">// ä¸ºtaskæ–°å¢å±æ€§</span>
        task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
            begin<span class="token punctuation">,</span>
            end<span class="token punctuation">,</span>
            realPropertyName<span class="token punctuation">,</span>
            styleLogic
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// transformå±æ€§çš„å¤„ç†æ–¹æ³•</span>
    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> propertyName <span class="token keyword">of</span> transformProperties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        propertyHandler<span class="token punctuation">[</span>propertyName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">task<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> el <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">;</span>

            <span class="token keyword">var</span> begin<span class="token punctuation">;</span> <span class="token comment">// åˆå§‹å±æ€§å€¼å’Œå•ä½</span>
            <span class="token keyword">var</span> end <span class="token operator">=</span> <span class="token function">propertyValueHandler</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> task<span class="token punctuation">.</span><span class="token property-access">props</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœ«å±æ€§æ•°å€¼å’Œå•ä½</span>

            <span class="token keyword">var</span> realPropertyName <span class="token operator">=</span> <span class="token string">'transform'</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> styleLogic <span class="token operator">=</span> <span class="token string">'transform'</span><span class="token punctuation">;</span>

            <span class="token keyword">var</span> beginValue<span class="token punctuation">;</span> <span class="token comment">// åˆå§‹å±æ€§å€¼ï¼ˆå¸¦å•ä½ï¼‰</span>

            <span class="token comment">// å¦‚æœå·²ç»ç¼“å­˜äº†transformå±æ€§</span>
            <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">transformCache</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">transformCache</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    beginValue <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token property-access">transformCache</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
                    beginValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    el<span class="token punctuation">.</span><span class="token property-access">transformCache</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> beginValue<span class="token punctuation">,</span>
                        <span class="token literal-property property">unitType</span><span class="token operator">:</span> end<span class="token punctuation">.</span><span class="token property-access">unitType</span>
                    <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
                <span class="token comment">// åªæœ‰åœ¨å…ƒç´ æ²¡æœ‰åœ¨styleä¸­å®šä¹‰ä»»ä½•transformå±æ€§æ—¶æ‰ä¼šè°ƒç”¨</span>
                beginValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

                <span class="token comment">// ç»™è¿™ä¸ªå…ƒç´ æ·»åŠ transfromCacheå±æ€§ï¼Œç”¨äºä¿å­˜transfromçš„å„ä¸ªå±æ€§</span>
                <span class="token comment">// å› ä¸ºå¦‚æœstyleä¸­çš„transformè¢«è®¾ç½®äº†å¤šä¸ªå€¼ï¼Œè¯»å–åˆ°çš„å°†æ˜¯"rotate(30deg) translateX(10px)"è¿™æ ·çš„å€¼ï¼Œå°†æ— æ³•å¤„ç†</span>
                el<span class="token punctuation">.</span><span class="token property-access">transformCache</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
                el<span class="token punctuation">.</span><span class="token property-access">transformCache</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">value</span><span class="token operator">:</span> beginValue<span class="token punctuation">,</span>
                    <span class="token literal-property property">unitType</span><span class="token operator">:</span> end<span class="token punctuation">.</span><span class="token property-access">unitType</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            begin <span class="token operator">=</span> <span class="token function">propertyValueHandler</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> beginValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å¾—å±æ€§æ•°å€¼å’Œå•ä½</span>

            <span class="token comment">// ä¸ºtaskæ–°å¢å±æ€§</span>
            task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
                begin<span class="token punctuation">,</span>
                end<span class="token punctuation">,</span>
                realPropertyName<span class="token punctuation">,</span>
                styleLogic
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// colorå±æ€§çš„å¤„ç†æ–¹æ³•ï¼Œç»Ÿä¸€è½¬æ¢ä¸ºrgbaæ¥å¤„ç†</span>
    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> propertyName <span class="token keyword">of</span> colorProperties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        propertyHandler<span class="token punctuation">[</span>propertyName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">task<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> el <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">;</span>

            <span class="token keyword">var</span> begin<span class="token punctuation">;</span>
            <span class="token keyword">var</span> end <span class="token operator">=</span> <span class="token function">normalize2rgba</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token property-access">props</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">var</span> realPropertyName <span class="token operator">=</span> key<span class="token punctuation">;</span>

            <span class="token keyword">var</span> beginValue <span class="token operator">=</span> <span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">getPropertyValue</span><span class="token punctuation">(</span>realPropertyName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// e.g. rgba(255, 255, 255, 1);</span>
            begin <span class="token operator">=</span> <span class="token function">normalize2rgba</span><span class="token punctuation">(</span>beginValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›çš„æ˜¯è½¬æ¢åçš„rgbaå¯¹è±¡</span>

            <span class="token keyword">var</span> styleLogic <span class="token operator">=</span> <span class="token string">'rgba'</span><span class="token punctuation">;</span>

            realPropertyName <span class="token operator">=</span> <span class="token function">transferStyleName</span><span class="token punctuation">(</span>realPropertyName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å°†è¿å­—ç¬¦æ ¼å¼è½¬æ¢ä¸ºé©¼å³°å¼</span>


            task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
                begin<span class="token punctuation">,</span>
                end<span class="token punctuation">,</span>
                realPropertyName<span class="token punctuation">,</span>
                styleLogic
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword control-flow">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">task</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> el <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">;</span>

        task<span class="token punctuation">.</span><span class="token property-access">newProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ä¿å­˜æ¸²æŸ“åŠ¨ç”»æ—¶æ‰€éœ€çš„æ•°æ®</span>

        <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> task<span class="token punctuation">.</span><span class="token property-access">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>propertyHandler<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// ç‰¹æ®Šå±æ€§</span>
                propertyHandler<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> task<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span> <span class="token comment">// æ™®é€šå±æ€§</span>
                propertyHandler<span class="token punctuation">[</span><span class="token string">'default'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> task<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="colorçš„ç—›ç‚¹">colorçš„ç—›ç‚¹</h2>
<ul>
<li>
<p>colorçš„å¤šç§å±æ€§å€¼</p>
<p>å±æ€§å€¼å¯èƒ½æ˜¯rgbè‰²ï¼Œhslè‰²ï¼Œrgbaè‰²ç”šè‡³16è¿›åˆ¶è‰²ï¼Œä¸ºä»–ä»¬å„åšä¸€ç§å¤„ç†é€»è¾‘æ˜¾ç„¶å¤ªè¿‡å¤æ‚ä¸”æ²¡æœ‰å¿…è¦ï¼Œå°†å…¶å…¨éƒ¨è½¬æ¢æˆåŒä¸€å•ä½å†è¿›è¡Œå¤„ç†æ›´åŠ æ˜æ™ºã€‚è€ƒè™‘åˆ°é€æ˜åº¦ï¼Œæˆ‘è§‰å¾—å…¨éƒ¨è½¬æ¢ä¸ºrgbaæœ€ä¸ºåˆé€‚ã€‚é¢œè‰²è½¬æ¢çš„é€»è¾‘åˆ°å¤„éƒ½èƒ½æ‰¾åˆ°å°±ä¸ç»†è¯´äº†ã€‚</p>
</li>
<li>
<p>rgbaå±æ€§å€¼çš„åˆ†ç¦»</p>
<p>ä¸åŒäºä¹‹å‰æ‰€æœ‰çš„å±æ€§å€¼ï¼Œrgbaå€¼æœ‰4ä¸ªæ•°å€¼ï¼Œè€ƒè™‘åˆ°æˆ‘ä»¬çš„ç¼“åŠ¨å‡½æ•°æ¯æ¬¡åªå¤„ç†ä¸€ä¸ªæ•°å€¼ï¼Œéœ€è¦ç”¨æ•°ç»„ä¿å­˜å†è¿›è¡Œåˆ†åˆ«å¤„ç†</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">begin</span><span class="token punctuation">.</span><span class="token property-access">num</span> <span class="token operator">!==</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> beginArr <span class="token operator">=</span> task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">begin</span><span class="token punctuation">.</span><span class="token property-access">num</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> endArr <span class="token operator">=</span> task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">end</span><span class="token punctuation">.</span><span class="token property-access">num</span><span class="token punctuation">;</span>

                <span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> beginArr<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">var</span> beginValue <span class="token operator">=</span> beginArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
                        changeValue <span class="token operator">=</span> endArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> beginValue<span class="token punctuation">,</span>
                        newValue <span class="token operator">=</span> <span class="token function">easing</span><span class="token punctuation">(</span>currTime<span class="token punctuation">,</span> beginValue<span class="token punctuation">,</span> changeValue<span class="token punctuation">,</span> duration<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ¹æ®ç¼“åŠ¨å‡½æ•°è®¡ç®—æ–°çš„ä½ç½®</span>
                        newArr<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>

                self<span class="token punctuation">.</span><span class="token method function property-access">styleHandler</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> key<span class="token punctuation">,</span> newArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> beginValue <span class="token operator">=</span> task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">begin</span><span class="token punctuation">.</span><span class="token property-access">num</span><span class="token punctuation">,</span> <span class="token comment">// åˆå§‹ä½ç½®</span>
                    changeValue <span class="token operator">=</span> task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">end</span><span class="token punctuation">.</span><span class="token property-access">num</span> <span class="token operator">-</span> beginValue<span class="token punctuation">;</span> <span class="token comment">// ä½ç½®æ”¹å˜é‡</span>

                <span class="token keyword">var</span> newValue <span class="token operator">=</span> <span class="token function">easing</span><span class="token punctuation">(</span>currTime<span class="token punctuation">,</span> beginValue<span class="token punctuation">,</span> changeValue<span class="token punctuation">,</span> duration<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ¹æ®ç¼“åŠ¨å‡½æ•°è®¡ç®—æ–°çš„ä½ç½®</span>

                <span class="token comment">// æ›´æ–°style</span>
                self<span class="token punctuation">.</span><span class="token method function property-access">styleHandler</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> key<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre>
</li>
<li>
<p>å°†å¤„ç†åå¾—åˆ°çš„æ–°å±æ€§é‡æ–°æ‹¼æ¥ä¸ºstyleæ ·å¼</p>
<p>åŒæ ·æ˜¯é‡‡å–ç­–ç•¥æ¨¡å¼ï¼Œä¸ºä¸åŒçš„æ‹¼æ¥é€»è¾‘å®šä¹‰äº†å¯¹åº”çš„æ‹¼æ¥æ–¹æ³•</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token class-name">Rush</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token property-access">styleHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'transform'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">task<span class="token punctuation">,</span> key<span class="token punctuation">,</span> newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">.</span><span class="token property-access">transformCache</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> newValue<span class="token punctuation">;</span> <span class="token comment">// æ›´æ–°ç¼“å­˜å€¼</span>

            <span class="token keyword">var</span> propertyValue <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span>
                propertyName <span class="token operator">=</span> task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">realPropertyName</span><span class="token punctuation">;</span>

            <span class="token comment">// e.g transform: rotateZ(100deg) translateX(50px)</span>
            <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">.</span><span class="token property-access">transformCache</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> name <span class="token operator">=</span> key<span class="token punctuation">,</span> <span class="token comment">// e.g rotateZ</span>
                    val <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">.</span><span class="token property-access">transformCache</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">,</span> <span class="token comment">// e.g 100</span>
                    unitType <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">.</span><span class="token property-access">transformCache</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">unitType</span><span class="token punctuation">;</span> <span class="token comment">// e.g deg</span>

                propertyValue <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>unitType<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// e.g rotate(100deg)</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">[</span>propertyName<span class="token punctuation">]</span> <span class="token operator">=</span> propertyValue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token string-property property">'rgba'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">task<span class="token punctuation">,</span> key<span class="token punctuation">,</span> newArr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'rgba('</span><span class="token punctuation">;</span>

            <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> newArr<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                text <span class="token operator">+=</span> <span class="token punctuation">(</span>newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">', '</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            text <span class="token operator">+=</span> newArr<span class="token punctuation">[</span>newArr<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">[</span>task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">realPropertyName</span><span class="token punctuation">]</span> <span class="token operator">=</span> text<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token string-property property">'default'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">task<span class="token punctuation">,</span> key<span class="token punctuation">,</span> newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">el</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">[</span>task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">realPropertyName</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">end</span><span class="token punctuation">.</span><span class="token property-access">unitType</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword control-flow">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">task<span class="token punctuation">,</span> key<span class="token punctuation">,</span> newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> styleLogic <span class="token operator">=</span> task<span class="token punctuation">.</span><span class="token property-access">newProps</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">styleLogic</span><span class="token punctuation">;</span>

        t<span class="token punctuation">[</span>styleLogic<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> task<span class="token punctuation">,</span> key<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
<hr>
<p>è‡³æ­¤ï¼Œé€šç”¨jsåŠ¨ç”»åº“çš„ä¸¤å¤§éš¾ç‚¹åŸºæœ¬å¾—åˆ°è§£å†³ï¼Œè™½è¯´æ˜¯é’ˆå¯¹transformå’Œcolorçš„å¤„ç†æ–¹æ³•ï¼Œä½†åœ¨ç¼–ç è¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•è¿ç”¨è®¾è®¡æ¨¡å¼ä¼˜åŒ–ä»£ç ç»“æ„å¯èƒ½èŠ±è´¹äº†æ›´å¤šçš„æ—¶é—´ã€‚</p>
</body></html></div></div></div></div></div><div class="sc-bbd5e802-0 cbkQsN"><div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"js-animation-color","title":"å½“æˆ‘ä»¬è®¨è®ºåŠ¨ç”»æ—¶ï¼Œæˆ‘ä»¬åœ¨è®¨è®ºä»€ä¹ˆâ€”â€”â€”colorç¯‡","date":"2017-04-30","htmlText":"\u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003ch2 id=\"è®¾è®¡æ¨¡å¼çš„è¿ç”¨\"\u003eè®¾è®¡æ¨¡å¼çš„è¿ç”¨\u003c/h2\u003e\n\u003cp\u003eé™¤äº†ä¸Šç¯‡çš„transformåŠ¨ç”»éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œè¿˜æœ‰ä¸€ä¸ªå¤§å¤´å°±æ˜¯å±æ€§å€¼ä¸ºé¢œè‰²çš„å¤„ç†ã€‚ä¸åŒäºtransformï¼Œå±æ€§å€¼ä¸ºé¢œè‰²çš„å±æ€§å¯ä»¥æœ‰å¾ˆå¤šç§ï¼Œè€Œé¢œè‰²å±æ€§å€¼åˆæœ‰rgbã€hslã€rgbaç”šè‡³åå…­è¿›åˆ¶ç­‰å¤šç§è¡¨ç¤ºæ–¹å¼ï¼Œæ„å‘³ç€ä¸¤è€…å¯¹å±æ€§åã€å±æ€§å€¼åˆ†ç¦»çš„é€»è¾‘ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œå†åŠ ä¸Šå¯¹æ™®é€šå±æ€§å¤„ç†çš„é€»è¾‘ï¼Œè‡³å°‘æœ‰ä¸‰ç§ä¸åŒçš„åˆ†ç¦»é€»è¾‘ã€‚å› æ­¤åœ¨åŠ å…¥é¢œè‰²çš„å¤„ç†æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘å…ˆç”¨ç­–ç•¥æ¨¡å¼é‡æ„äº†è¿™éƒ¨åˆ†é€»è¾‘ï¼Œæœ€åç»“æœå¦‚ä¸‹ï¼š\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token doc-comment comment\"\u003e/**\n * å¯¹porpså±æ€§å€¼å¤„ç†ï¼Œè·å¾—æ¸²æŸ“æ—¶æ‰€éœ€çš„æ•°æ®\n */\u003c/span\u003e\n\u003cspan class=\"token class-name\"\u003eRush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eprototype\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003e_handleProps\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// transform çš„å±æ€§éœ€è¦ç‰¹åˆ«å¤„ç†\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e transformProperties \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"translateX\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"translateY\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"translateZ\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"scale\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"scaleX\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"scaleY\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"scaleZ\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"skewX\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"skewY\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"rotateX\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"rotateY\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"rotateZ\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// color çš„å±æ€§éœ€è¦ç‰¹åˆ«å¤„ç†\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e colorProperties \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"color\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"background-color\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"border-color\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"outline-color\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e propertyHandler \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// æ™®é€šå±æ€§çš„å¤„ç†æ–¹æ³•\u003c/span\u003e\n    propertyHandler\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'default'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003etask\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e el \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e begin\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// åˆå§‹å±æ€§å€¼å’Œå•ä½\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e end \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003epropertyValueHandler\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eprops\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// æœ«å±æ€§æ•°å€¼å’Œå•ä½\u003c/span\u003e\n\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e realPropertyName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// çœŸæ­£çš„å±æ€§å\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e styleLogic \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'default'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e beginValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003egetComputedStyle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eel\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword null nil\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetPropertyValue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003erealPropertyName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è·å¾—åˆå§‹å±æ€§å€¼(å¸¦å•ä½)\u003c/span\u003e\n\n        begin \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003epropertyValueHandler\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e beginValue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è·å¾—å±æ€§æ•°å€¼å’Œå•ä½\u003c/span\u003e\n\n        realPropertyName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003etransferStyleName\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003erealPropertyName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å°†è¿å­—ç¬¦æ ¼å¼è½¬æ¢ä¸ºé©¼å³°å¼\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e// ä¸ºtaskæ–°å¢å±æ€§\u003c/span\u003e\n        task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            begin\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            end\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            realPropertyName\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            styleLogic\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// transformå±æ€§çš„å¤„ç†æ–¹æ³•\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e propertyName \u003cspan class=\"token keyword\"\u003eof\u003c/span\u003e transformProperties\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        propertyHandler\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003epropertyName\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003etask\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e el \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e begin\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// åˆå§‹å±æ€§å€¼å’Œå•ä½\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e end \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003epropertyValueHandler\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eprops\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// æœ«å±æ€§æ•°å€¼å’Œå•ä½\u003c/span\u003e\n\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e realPropertyName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'transform'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e styleLogic \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'transform'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e beginValue\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// åˆå§‹å±æ€§å€¼ï¼ˆå¸¦å•ä½ï¼‰\u003c/span\u003e\n\n            \u003cspan class=\"token comment\"\u003e// å¦‚æœå·²ç»ç¼“å­˜äº†transformå±æ€§\u003c/span\u003e\n            \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eel\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etransformCache\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eel\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etransformCache\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                    beginValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e el\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etransformCache\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003evalue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                    beginValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                    el\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etransformCache\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"token literal-property property\"\u003evalue\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e beginValue\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                        \u003cspan class=\"token literal-property property\"\u003eunitType\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e end\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eunitType\u003c/span\u003e\n                    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"token comment\"\u003e// åªæœ‰åœ¨å…ƒç´ æ²¡æœ‰åœ¨styleä¸­å®šä¹‰ä»»ä½•transformå±æ€§æ—¶æ‰ä¼šè°ƒç”¨\u003c/span\u003e\n                beginValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"token comment\"\u003e// ç»™è¿™ä¸ªå…ƒç´ æ·»åŠ transfromCacheå±æ€§ï¼Œç”¨äºä¿å­˜transfromçš„å„ä¸ªå±æ€§\u003c/span\u003e\n                \u003cspan class=\"token comment\"\u003e// å› ä¸ºå¦‚æœstyleä¸­çš„transformè¢«è®¾ç½®äº†å¤šä¸ªå€¼ï¼Œè¯»å–åˆ°çš„å°†æ˜¯\"rotate(30deg) translateX(10px)\"è¿™æ ·çš„å€¼ï¼Œå°†æ— æ³•å¤„ç†\u003c/span\u003e\n                el\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etransformCache\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                el\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etransformCache\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"token literal-property property\"\u003evalue\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e beginValue\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"token literal-property property\"\u003eunitType\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e end\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eunitType\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n            begin \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003epropertyValueHandler\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e beginValue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è·å¾—å±æ€§æ•°å€¼å’Œå•ä½\u003c/span\u003e\n\n            \u003cspan class=\"token comment\"\u003e// ä¸ºtaskæ–°å¢å±æ€§\u003c/span\u003e\n            task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                begin\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                end\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                realPropertyName\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                styleLogic\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// colorå±æ€§çš„å¤„ç†æ–¹æ³•ï¼Œç»Ÿä¸€è½¬æ¢ä¸ºrgbaæ¥å¤„ç†\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e propertyName \u003cspan class=\"token keyword\"\u003eof\u003c/span\u003e colorProperties\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        propertyHandler\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003epropertyName\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003etask\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e el \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e begin\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e end \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003enormalize2rgba\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etask\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eprops\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e realPropertyName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e beginValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003egetComputedStyle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eel\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword null nil\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetPropertyValue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003erealPropertyName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// e.g. rgba(255, 255, 255, 1);\u003c/span\u003e\n            begin \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003enormalize2rgba\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ebeginValue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è¿”å›çš„æ˜¯è½¬æ¢åçš„rgbaå¯¹è±¡\u003c/span\u003e\n\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e styleLogic \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'rgba'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n            realPropertyName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003etransferStyleName\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003erealPropertyName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å°†è¿å­—ç¬¦æ ¼å¼è½¬æ¢ä¸ºé©¼å³°å¼\u003c/span\u003e\n\n\n            task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                begin\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                end\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                realPropertyName\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                styleLogic\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e el \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n        task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ä¿å­˜æ¸²æŸ“åŠ¨ç”»æ—¶æ‰€éœ€çš„æ•°æ®\u003c/span\u003e\n\n        \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e key \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eprops\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epropertyHandler\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ç‰¹æ®Šå±æ€§\u003c/span\u003e\n                propertyHandler\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ecall\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// æ™®é€šå±æ€§\u003c/span\u003e\n                propertyHandler\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'default'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ecall\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"colorçš„ç—›ç‚¹\"\u003ecolorçš„ç—›ç‚¹\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ecolorçš„å¤šç§å±æ€§å€¼\u003c/p\u003e\n\u003cp\u003eå±æ€§å€¼å¯èƒ½æ˜¯rgbè‰²ï¼Œhslè‰²ï¼Œrgbaè‰²ç”šè‡³16è¿›åˆ¶è‰²ï¼Œä¸ºä»–ä»¬å„åšä¸€ç§å¤„ç†é€»è¾‘æ˜¾ç„¶å¤ªè¿‡å¤æ‚ä¸”æ²¡æœ‰å¿…è¦ï¼Œå°†å…¶å…¨éƒ¨è½¬æ¢æˆåŒä¸€å•ä½å†è¿›è¡Œå¤„ç†æ›´åŠ æ˜æ™ºã€‚è€ƒè™‘åˆ°é€æ˜åº¦ï¼Œæˆ‘è§‰å¾—å…¨éƒ¨è½¬æ¢ä¸ºrgbaæœ€ä¸ºåˆé€‚ã€‚é¢œè‰²è½¬æ¢çš„é€»è¾‘åˆ°å¤„éƒ½èƒ½æ‰¾åˆ°å°±ä¸ç»†è¯´äº†ã€‚\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ergbaå±æ€§å€¼çš„åˆ†ç¦»\u003c/p\u003e\n\u003cp\u003eä¸åŒäºä¹‹å‰æ‰€æœ‰çš„å±æ€§å€¼ï¼Œrgbaå€¼æœ‰4ä¸ªæ•°å€¼ï¼Œè€ƒè™‘åˆ°æˆ‘ä»¬çš„ç¼“åŠ¨å‡½æ•°æ¯æ¬¡åªå¤„ç†ä¸€ä¸ªæ•°å€¼ï¼Œéœ€è¦ç”¨æ•°ç»„ä¿å­˜å†è¿›è¡Œåˆ†åˆ«å¤„ç†\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e key \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ebegin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enum\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token string\"\u003e'number'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e beginArr \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ebegin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enum\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e endArr \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enum\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e newArr \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e beginArr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003elength\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e beginValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e beginArr\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                        changeValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e endArr\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e beginValue\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                        newValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eeasing\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecurrTime\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e beginValue\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e changeValue\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e duration\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// æ ¹æ®ç¼“åŠ¨å‡½æ•°è®¡ç®—æ–°çš„ä½ç½®\u003c/span\u003e\n                        newArr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enewValue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n                self\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003estyleHandler\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etask\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e newArr\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e beginValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ebegin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enum\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// åˆå§‹ä½ç½®\u003c/span\u003e\n                    changeValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enum\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e beginValue\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ä½ç½®æ”¹å˜é‡\u003c/span\u003e\n\n                \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e newValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eeasing\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecurrTime\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e beginValue\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e changeValue\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e duration\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// æ ¹æ®ç¼“åŠ¨å‡½æ•°è®¡ç®—æ–°çš„ä½ç½®\u003c/span\u003e\n\n                \u003cspan class=\"token comment\"\u003e// æ›´æ–°style\u003c/span\u003e\n                self\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003estyleHandler\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etask\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e newValue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eå°†å¤„ç†åå¾—åˆ°çš„æ–°å±æ€§é‡æ–°æ‹¼æ¥ä¸ºstyleæ ·å¼\u003c/p\u003e\n\u003cp\u003eåŒæ ·æ˜¯é‡‡å–ç­–ç•¥æ¨¡å¼ï¼Œä¸ºä¸åŒçš„æ‹¼æ¥é€»è¾‘å®šä¹‰äº†å¯¹åº”çš„æ‹¼æ¥æ–¹æ³•\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token class-name\"\u003eRush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eprototype\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003estyleHandler\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e t \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token string-property property\"\u003e'transform'\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003etask\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e newValue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etransformCache\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003evalue\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e newValue\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// æ›´æ–°ç¼“å­˜å€¼\u003c/span\u003e\n\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e propertyValue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                propertyName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003erealPropertyName\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"token comment\"\u003e// e.g transform: rotateZ(100deg) translateX(50px)\u003c/span\u003e\n            \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e key \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etransformCache\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e name \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// e.g rotateZ\u003c/span\u003e\n                    val \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etransformCache\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003evalue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// e.g 100\u003c/span\u003e\n                    unitType \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etransformCache\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eunitType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// e.g deg\u003c/span\u003e\n\n                propertyValue \u003cspan class=\"token operator\"\u003e+=\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ename\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e(\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eval\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eunitType\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e)\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// e.g rotate(100deg)\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003estyle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003epropertyName\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e propertyValue\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\n        \u003cspan class=\"token string-property property\"\u003e'rgba'\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003etask\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e newArr\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e text \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'rgba('\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"token keyword control-flow\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e newArr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003elength\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                text \u003cspan class=\"token operator\"\u003e+=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enewArr\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etoFixed\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token string\"\u003e', '\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n            text \u003cspan class=\"token operator\"\u003e+=\u003c/span\u003e newArr\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003enewArr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003elength\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etoFixed\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token string\"\u003e')'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003estyle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003etask\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003erealPropertyName\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e text\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\n        \u003cspan class=\"token string-property property\"\u003e'default'\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003etask\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e newValue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003estyle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003etask\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003erealPropertyName\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003enewValue\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003etask\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eunitType\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003etask\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e newValue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e styleLogic \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003enewProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003estyleLogic\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n        t\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003estyleLogic\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ecall\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e task\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e newValue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003eè‡³æ­¤ï¼Œé€šç”¨jsåŠ¨ç”»åº“çš„ä¸¤å¤§éš¾ç‚¹åŸºæœ¬å¾—åˆ°è§£å†³ï¼Œè™½è¯´æ˜¯é’ˆå¯¹transformå’Œcolorçš„å¤„ç†æ–¹æ³•ï¼Œä½†åœ¨ç¼–ç è¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•è¿ç”¨è®¾è®¡æ¨¡å¼ä¼˜åŒ–ä»£ç ç»“æ„å¯èƒ½èŠ±è´¹äº†æ›´å¤šçš„æ—¶é—´ã€‚\u003c/p\u003e\n\u003c/body\u003e\u003c/html\u003e","description":"é™¤äº†ä¸Šç¯‡çš„transformåŠ¨ç”»éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œè¿˜æœ‰ä¸€ä¸ªå¤§å¤´å°±æ˜¯å±æ€§å€¼ä¸ºé¢œè‰²çš„å¤„ç†ã€‚ä¸åŒäºtransformï¼Œå±æ€§å€¼ä¸ºé¢œè‰²çš„å±æ€§å¯ä»¥æœ‰å¾ˆå¤šç§ï¼Œè€Œé¢œè‰²å±æ€§å€¼åˆæœ‰rgbã€hslã€rgbaç”šè‡³åå…­è¿›åˆ¶ç­‰å¤šç§è¡¨......"},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"js-animation-color"},"buildId":"a9qbsu3QIR-E7ZeJZ2det","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>